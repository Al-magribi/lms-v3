{"version":3,"file":"Table-BSwODE4h.js","sources":["../../src/components/loader/TableLoader.jsx","../../src/components/table/Table.jsx"],"sourcesContent":["import React from \"react\"\r\n\r\nconst TableLoader = () => {\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='placeholder-glow row g-4'>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t\t<div className='placeholder col-3 border border-white'></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default TableLoader\r\n","import { useState, useEffect } from \"react\";\r\nimport * as Md from \"react-icons/md\";\r\nimport TableLoader from \"../loader/TableLoader\";\r\n\r\nconst Table = ({\r\n  children,\r\n  height,\r\n  id,\r\n  totalData,\r\n  page,\r\n  setPage,\r\n  totalPages,\r\n  limit,\r\n  setLimit,\r\n  setSearch,\r\n  isLoading,\r\n}) => {\r\n  const [limitValue, setLimitValue] = useState(limit || 10);\r\n  const [searchTimeout, setSearchTimeout] = useState(null);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n  // Update limitValue when limit prop changes\r\n  useEffect(() => {\r\n    setLimitValue(limit || 10);\r\n  }, [limit]);\r\n\r\n  // Clean up timeout on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (searchTimeout) {\r\n        clearTimeout(searchTimeout);\r\n      }\r\n    };\r\n  }, [searchTimeout]);\r\n\r\n  const handleLimit = (e) => {\r\n    const newLimit = parseInt(e.target.value);\r\n    setLimit(newLimit);\r\n    setLimitValue(newLimit);\r\n  };\r\n\r\n  const handlePageChange = (newPage) => {\r\n    if (newPage >= 1 && newPage <= totalPages) {\r\n      setPage(newPage);\r\n    }\r\n  };\r\n\r\n  const handleSearchChange = (e) => {\r\n    const value = e.target.value;\r\n    setSearchValue(value);\r\n\r\n    // Clear previous timeout\r\n    if (searchTimeout) {\r\n      clearTimeout(searchTimeout);\r\n    }\r\n\r\n    // Set new timeout to delay API call\r\n    const timeout = setTimeout(() => {\r\n      setSearch(value);\r\n      setPage(1); // Reset to first page when searching\r\n    }, 500);\r\n\r\n    setSearchTimeout(timeout);\r\n  };\r\n\r\n  const getPageNumbers = () => {\r\n    let pages = [];\r\n    if (totalPages <= 3) {\r\n      pages = [...Array(totalPages).keys()].map((i) => i + 1);\r\n    } else {\r\n      if (page === 1) {\r\n        pages = [1, 2, 3];\r\n      } else if (page === totalPages) {\r\n        pages = [totalPages - 2, totalPages - 1, totalPages];\r\n      } else {\r\n        pages = [page - 1, page, page + 1];\r\n      }\r\n    }\r\n\r\n    return pages;\r\n  };\r\n  return (\r\n    <div className=\"p-2 rounded border bg-white\">\r\n      <div style={{ height: height }} className=\"d-flex flex-column gap-2\">\r\n        <div className=\"d-flex flex-wrap align-items-center justify-content-between\">\r\n          <input\r\n            className=\"form-control\"\r\n            name=\"search\"\r\n            id=\"search\"\r\n            placeholder=\"Ketikan di sini...\"\r\n            style={{ width: 250 }}\r\n            value={searchValue}\r\n            onChange={handleSearchChange}\r\n          />\r\n\r\n          <div className=\"d-flex gap-2\">\r\n            <select\r\n              style={{ width: 100 }}\r\n              name=\"limit\"\r\n              id=\"limit\"\r\n              className=\"form-select\"\r\n              value={limitValue || \"\"}\r\n              onChange={handleLimit}\r\n            >\r\n              <option value=\"10\">10</option>\r\n              <option value=\"20\">20</option>\r\n              <option value=\"50\">50</option>\r\n              <option value=\"100\">100</option>\r\n              <option value=\"200\">200</option>\r\n              <option value=\"500\">500</option>\r\n              <option value=\"1000\">1000</option>\r\n            </select>\r\n\r\n            {id && (\r\n              <button\r\n                data-bs-toggle=\"modal\"\r\n                data-bs-target={`#${id}`}\r\n                className=\"btn btn-success\"\r\n              >\r\n                Tambah\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {/* Table */}\r\n        <div className=\"table-responsive\">\r\n          {isLoading ? <TableLoader /> : children}\r\n        </div>\r\n\r\n        {/* fungsi */}\r\n        <div className=\"d-flex align-items-center justify-content-between flex-wrap\">\r\n          <nav aria-label=\"Page navigation example\" className=\"m-0\">\r\n            <ul className=\"pagination pagination-sm mb-0\">\r\n              <li className={`page-item ${page === 1 ? \"disabled\" : \"\"}`}>\r\n                <button\r\n                  className=\"page-link\"\r\n                  aria-label=\"Previous\"\r\n                  onClick={() => handlePageChange(page - 1)}\r\n                >\r\n                  <span aria-hidden=\"true\">&laquo;</span>\r\n                </button>\r\n              </li>\r\n              {getPageNumbers().map((pageNumber) => (\r\n                <li\r\n                  key={pageNumber}\r\n                  className={`page-items ${\r\n                    page === pageNumber ? \"active\" : \"\"\r\n                  }`}\r\n                >\r\n                  <button\r\n                    className=\"page-link\"\r\n                    onClick={() => handlePageChange(pageNumber)}\r\n                  >\r\n                    {pageNumber}\r\n                  </button>\r\n                </li>\r\n              ))}\r\n\r\n              <li\r\n                className={`page-item ${page === totalPages ? \"disabled\" : \"\"}`}\r\n              >\r\n                <button\r\n                  className=\"page-link\"\r\n                  aria-label=\"Next\"\r\n                  onClick={() => handlePageChange(page + 1)}\r\n                >\r\n                  <span aria-hidden=\"true\">&raquo;</span>\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n\r\n          <p className=\"m-0\">\r\n            Total Data{\" \"}\r\n            <span>{parseFloat(totalData).toLocaleString(\"id-ID\")}</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n"],"names":["TableLoader","className","children","jsxs","jsx","Table","height","id","totalData","page","setPage","totalPages","limit","setLimit","setSearch","isLoading","limitValue","setLimitValue","useState","searchTimeout","setSearchTimeout","searchValue","setSearchValue","useEffect","clearTimeout","handlePageChange","newPage","style","jsxRuntimeExports","name","placeholder","width","value","onChange","e","target","timeout","setTimeout","newLimit","parseInt","onClick","pages","Array","keys","map","i","getPageNumbers","pageNumber","parseFloat","toLocaleString"],"mappings":"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"}