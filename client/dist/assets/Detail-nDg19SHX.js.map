{"version":3,"file":"Detail-nDg19SHX.js","sources":["../../src/home/news/Detail.jsx"],"sourcesContent":["import React, { Fragment, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport {\r\n  useGetNewsByIdQuery,\r\n  useTrackVisitorMutation,\r\n} from \"../../controller/api/cms/ApiNews\";\r\n\r\nconst Detail = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { data: news, isLoading, isError } = useGetNewsByIdQuery(id);\r\n  const [trackVisitor] = useTrackVisitorMutation();\r\n\r\n  useEffect(() => {\r\n    // Track news article visit\r\n    trackVisitor({\r\n      pageType: \"news\",\r\n      contentId: parseInt(id),\r\n    });\r\n  }, [id]);\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString(\"id-ID\", {\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Fragment>\r\n        <Header />\r\n        <main className='container py-5'>\r\n          <div className='text-center'>\r\n            <div className='spinner-border' role='status'>\r\n              <span className='visually-hidden'>Loading...</span>\r\n            </div>\r\n          </div>\r\n        </main>\r\n        <Footer />\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  if (isError) {\r\n    return (\r\n      <Fragment>\r\n        <Header />\r\n        <main className='container py-5'>\r\n          <div className='alert alert-danger' role='alert'>\r\n            Error loading news. Please try again later.\r\n          </div>\r\n        </main>\r\n        <Footer />\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header />\r\n      <main style={{ marginTop: 40 }} className='container py-5'>\r\n        <div className='row justify-content-center'>\r\n          <div className='col-lg-8'>\r\n            <article>\r\n              <h1 className='mb-3'>{news.title}</h1>\r\n              <div className='d-flex align-items-center mb-4'>\r\n                <span className='badge bg-primary me-2'>\r\n                  {news.category_name}\r\n                </span>\r\n                <span className='text-muted'>{formatDate(news.createdat)}</span>\r\n              </div>\r\n\r\n              <div\r\n                className='news-content'\r\n                dangerouslySetInnerHTML={{ __html: news.content }}\r\n              />\r\n            </article>\r\n\r\n            <button\r\n              className='btn btn-outline-secondary mb-4'\r\n              onClick={() => navigate(\"/berita\")}>\r\n              ‚Üê Kembali\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </main>\r\n      <Footer />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Detail;\r\n"],"names":["Detail","id","useParams","navigate","useNavigate","data","news","isLoading","isError","useGetNewsByIdQuery","trackVisitor","useTrackVisitorMutation","useEffect","pageType","contentId","parseInt","Fragment","children","jsxRuntimeExports","jsx","Header","className","role","Footer","style","marginTop","jsxs","title","category_name","dateString","createdat","Date","toLocaleDateString","year","month","day","dangerouslySetInnerHTML","__html","content","onClick"],"mappings":"wJASA,MAAMA,EAAS,KACP,MAAAC,GAAEA,GAAOC,IACTC,EAAWC,KACTC,KAAMC,EAAAC,UAAMA,UAAWC,GAAYC,EAAoBR,IACxDS,GAAgBC,IAEvBC,EAAAA,WAAU,KAEKF,EAAA,CACXG,SAAU,OACVC,UAAWC,SAASd,IACrB,GACA,CAACA,IAUJ,OAAIM,SAECS,WACC,CAAAC,SAAA,CAAAC,EAAAC,IAACC,EAAO,MACRD,IAAC,QAAKE,UAAU,iBACdJ,eAAC,MAAI,CAAAI,UAAU,cACbJ,SAACE,EAAAA,IAAA,MAAA,CAAIE,UAAU,iBAAiBC,KAAK,SACnCL,SAACC,EAAAC,IAAA,OAAA,CAAKE,UAAU,kBAAkBJ,SAAA,2BAIvCM,EAAO,CAAA,MAKVf,SAECQ,WACC,CAAAC,SAAA,CAAAC,EAAAC,IAACC,EAAO,MACRD,IAAC,OAAK,CAAAE,UAAU,iBACdJ,SAAAE,EAAAA,IAAC,MAAI,CAAAE,UAAU,qBAAqBC,KAAK,QAAQL,SAAA,wDAIlDM,EAAO,CAAA,aAMXP,WACC,CAAAC,SAAA,CAAAC,EAAAC,IAACC,EAAO,UACP,OAAK,CAAAI,MAAO,CAAEC,UAAW,IAAMJ,UAAU,iBACxCJ,WAAAE,IAAC,OAAIE,UAAU,6BACbJ,SAACS,EAAAA,KAAA,MAAA,CAAIL,UAAU,WACbJ,SAAA,QAAC,UACC,CAAAA,SAAA,CAAAE,EAAAA,IAAC,KAAG,CAAAE,UAAU,OAAQJ,SAAAX,EAAKqB,UAC3BD,KAAC,MAAI,CAAAL,UAAU,iCACbJ,SAAA,CAAAE,EAAAA,IAAC,OAAK,CAAAE,UAAU,wBACbJ,SAAAX,EAAKsB,sBAEP,OAAK,CAAAP,UAAU,aAAcJ,UAlDxBY,EAkDmCvB,EAAKwB,UAjDnD,IAAIC,KAAKF,GAAYG,mBAAmB,QAAS,CACtDC,KAAM,UACNC,MAAO,OACPC,IAAK,kBAiDGjB,EAAAC,IAAC,MAAA,CACCE,UAAU,eACVe,wBAAyB,CAAEC,OAAQ/B,EAAKgC,cAI5CpB,EAAAC,IAAC,SAAA,CACCE,UAAU,iCACVkB,QAAS,IAAMpC,EAAS,WAAYc,SAAA,2BAM3CM,EAAO,CAAA,MAnEO,IAACM,CAoElB"}