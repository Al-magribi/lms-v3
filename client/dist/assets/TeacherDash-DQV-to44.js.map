{"version":3,"file":"TeacherDash-DQV-to44.js","sources":["../../src/page/teacher/dashboard/TeacherDash.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useGetTeacherDashboardQuery } from \"../../../controller/api/dashboard/ApiDashboard\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n} from \"chart.js\";\r\nimport { Doughnut } from \"react-chartjs-2\";\r\nimport Layout from \"../../../components/layout/Layout\";\r\n\r\n// Register ChartJS components\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement\r\n);\r\n\r\nconst TeacherDash = () => {\r\n  const { data: dashboardData, isLoading } = useGetTeacherDashboardQuery();\r\n\r\n  if (isLoading) {\r\n    return <div className='text-center p-5'>Loading...</div>;\r\n  }\r\n\r\n  const { teachingStats, recentExams, recentMaterials } = dashboardData;\r\n\r\n  // Prepare data for teaching stats doughnut chart\r\n  const teachingStatsData = {\r\n    labels: [\r\n      \"Mata Pelajaran\",\r\n      \"Kelas\",\r\n      \"Ujian\",\r\n      \"Bank Soal\",\r\n      \"Materi Pembelajaran\",\r\n      \"Kelas Materi\",\r\n    ],\r\n    datasets: [\r\n      {\r\n        data: [\r\n          teachingStats.total_subjects,\r\n          teachingStats.total_classes,\r\n          teachingStats.total_exams,\r\n          teachingStats.total_banks,\r\n          teachingStats.total_chapters,\r\n          teachingStats.total_material_classes,\r\n        ],\r\n        backgroundColor: [\r\n          \"rgba(255, 99, 132, 0.5)\",\r\n          \"rgba(54, 162, 235, 0.5)\",\r\n          \"rgba(255, 206, 86, 0.5)\",\r\n          \"rgba(75, 192, 192, 0.5)\",\r\n          \"rgba(153, 102, 255, 0.5)\",\r\n          \"rgba(255, 159, 64, 0.5)\",\r\n        ],\r\n        borderColor: [\r\n          \"rgba(255, 99, 132, 1)\",\r\n          \"rgba(54, 162, 235, 1)\",\r\n          \"rgba(255, 206, 86, 1)\",\r\n          \"rgba(75, 192, 192, 1)\",\r\n          \"rgba(153, 102, 255, 1)\",\r\n          \"rgba(255, 159, 64, 1)\",\r\n        ],\r\n        borderWidth: 1,\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <Layout title={\"Dashboard Guru\"} levels={[\"teacher\"]}>\r\n      <div className='container-fluid p-0'>\r\n        {/* Statistics Cards */}\r\n        <div className='row g-4 mb-4'>\r\n          <div className='col-12 col-sm-6 col-md-3'>\r\n            <div className='card h-100'>\r\n              <div className='card-body'>\r\n                <div className='d-flex align-items-center'>\r\n                  <i className='bi bi-book fs-4 me-3 text-primary'></i>\r\n                  <div>\r\n                    <div className='text-muted'>Total Mata Pelajaran</div>\r\n                    <h4 className='mb-0'>{teachingStats.total_subjects}</h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='col-12 col-sm-6 col-md-3'>\r\n            <div className='card h-100'>\r\n              <div className='card-body'>\r\n                <div className='d-flex align-items-center'>\r\n                  <i className='bi bi-people fs-4 me-3 text-success'></i>\r\n                  <div>\r\n                    <div className='text-muted'>Total Kelas</div>\r\n                    <h4 className='mb-0'>{teachingStats.total_classes}</h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='col-12 col-sm-6 col-md-3'>\r\n            <div className='card h-100'>\r\n              <div className='card-body'>\r\n                <div className='d-flex align-items-center'>\r\n                  <i className='bi bi-file-text fs-4 me-3 text-warning'></i>\r\n                  <div>\r\n                    <div className='text-muted'>Total Ujian</div>\r\n                    <h4 className='mb-0'>{teachingStats.total_exams}</h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='col-12 col-sm-6 col-md-3'>\r\n            <div className='card h-100'>\r\n              <div className='card-body'>\r\n                <div className='d-flex align-items-center'>\r\n                  <i className='bi bi-bank fs-4 me-3 text-info'></i>\r\n                  <div>\r\n                    <div className='text-muted'>Bank Soal</div>\r\n                    <h4 className='mb-0'>{teachingStats.total_banks}</h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Charts and Recent Activities */}\r\n        <div className='row g-4 mb-4'>\r\n          {/* Teaching Statistics Chart */}\r\n          <div className='col-12 col-lg-4'>\r\n            <div className='card h-100'>\r\n              <div className='card-header'>\r\n                <h5 className='card-title mb-0'>Statistik Pengajaran</h5>\r\n              </div>\r\n              <div className='card-body' style={{ height: \"500px\" }}>\r\n                <Doughnut\r\n                  data={teachingStatsData}\r\n                  options={{\r\n                    responsive: true,\r\n                    maintainAspectRatio: false,\r\n                    plugins: {\r\n                      legend: {\r\n                        position: \"top\",\r\n                      },\r\n                    },\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Recent Activities */}\r\n          <div className='col-12 col-lg-4'>\r\n            <div className='card h-100'>\r\n              <div className='card-header'>\r\n                <h5 className='card-title mb-0'>Aktivitas Terbaru</h5>\r\n              </div>\r\n              <div\r\n                className='card-body'\r\n                style={{ maxHeight: \"300px\", overflowY: \"auto\" }}\r\n              >\r\n                <div className='list-group list-group-flush'>\r\n                  {recentExams?.length > 0 ? (\r\n                    recentExams.map((exam) => (\r\n                      <div key={exam.id} className='list-group-item'>\r\n                        <div className='d-flex w-100 justify-content-between'>\r\n                          <h6 className='mb-1'>{exam.name}</h6>\r\n                          <small className='text-muted'>\r\n                            {new Date(exam.createdat).toLocaleDateString()}\r\n                          </small>\r\n                        </div>\r\n                        <p className='mb-1'>\r\n                          Durasi: {exam.duration} menit | Status:{\" \"}\r\n                          <span\r\n                            className={`badge ${\r\n                              exam.isactive ? \"bg-success\" : \"bg-danger\"\r\n                            }`}\r\n                          >\r\n                            {exam.isactive ? \"Aktif\" : \"Tidak Aktif\"}\r\n                          </span>\r\n                        </p>\r\n                      </div>\r\n                    ))\r\n                  ) : (\r\n                    <p className='text-muted'>Data Belum tersedia</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Recent Learning Materials */}\r\n          <div className='col-12 col-lg-4'>\r\n            <div className='card h-100'>\r\n              <div className='card-header'>\r\n                <h5 className='card-title mb-0'>Materi Pembelajaran Terbaru</h5>\r\n              </div>\r\n              <div\r\n                className='card-body'\r\n                style={{ maxHeight: \"300px\", overflowY: \"auto\" }}\r\n              >\r\n                <div className='list-group list-group-flush'>\r\n                  {recentMaterials.map((material) => (\r\n                    <div key={material.id} className='list-group-item'>\r\n                      <div className='d-flex w-100 justify-content-between'>\r\n                        <h6 className='mb-1'>{material.title}</h6>\r\n                        <small className='text-muted'>\r\n                          {new Date(material.createdat).toLocaleDateString()}\r\n                        </small>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default TeacherDash;\r\n"],"names":["ChartJS","register","CategoryScale","LinearScale","Title","Tooltip","Legend","ArcElement","TeacherDash","data","dashboardData","isLoading","useGetTeacherDashboardQuery","jsx","className","children","teachingStats","recentExams","recentMaterials","teachingStatsData","labels","datasets","total_subjects","total_classes","total_exams","total_banks","total_chapters","total_material_classes","backgroundColor","borderColor","borderWidth","Layout","title","levels","jsxRuntimeExports","jsxs","style","height","Doughnut","options","responsive","maintainAspectRatio","plugins","legend","position","maxHeight","overflowY","length","map","exam","name","Date","createdat","toLocaleDateString","duration","isactive","id","material"],"mappings":"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"}