{"version":3,"file":"TahfizType-CjQ0Xf_H.js","sources":["../../src/page/tahfiz/type/Form.jsx","../../src/page/tahfiz/type/TableData.jsx","../../src/page/tahfiz/type/TahfizType.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { useAddTypeMutation } from \"../../../controller/api/tahfiz/ApiMetric\"\r\nimport { toast } from \"react-hot-toast\"\r\n\r\nconst Form = ({ detail, setDetail }) => {\r\n\tconst [id, setId] = useState(\"\")\r\n\tconst [name, setName] = useState(\"\")\r\n\r\n\tconst [addType, { isLoading, isSuccess, isError, reset }] =\r\n\t\tuseAddTypeMutation()\r\n\r\n\tconst addHandler = (e) => {\r\n\t\te.preventDefault()\r\n\r\n\t\tconst data = { id: id ? id : \"\", name }\r\n\r\n\t\ttoast.promise(\r\n\t\t\taddType(data)\r\n\t\t\t\t.unwrap()\r\n\t\t\t\t.then((res) => res.message),\r\n\t\t\t{\r\n\t\t\t\tloading: \"Memuat data...\",\r\n\t\t\t\tsuccess: (message) => message,\r\n\t\t\t\terror: (err) => err.data.message,\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tconst cancel = () => {\r\n\t\tsetId(\"\")\r\n\t\tsetName(\"\")\r\n\t\tsetDetail({})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isSuccess || isError) {\r\n\t\t\tcancel()\r\n\t\t\treset()\r\n\t\t}\r\n\t}, [isSuccess, isError])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (detail) {\r\n\t\t\tsetId(detail.id)\r\n\t\t\tsetName(detail.name)\r\n\t\t}\r\n\t}, [detail])\r\n\treturn (\r\n\t\t<form\r\n\t\t\tonSubmit={addHandler}\r\n\t\t\tclassName='rounded border bg-white p-2 d-flex flex-column gap-2'>\r\n\t\t\t<p className='m-0 h6'>Jenis Penilaian</p>\r\n\r\n\t\t\t<input\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname='name'\r\n\t\t\t\tid='name'\r\n\t\t\t\tclassName='form-control'\r\n\t\t\t\tplaceholder='Nama Ujian'\r\n\t\t\t\tvalue={name || \"\"}\r\n\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t/>\r\n\r\n\t\t\t<div className='d-flex justify-content-end gap-2'>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tclassName='btn btn-sm btn-warning'\r\n\t\t\t\t\tonClick={cancel}>\r\n\t\t\t\t\tBatal\r\n\t\t\t\t</button>\r\n\t\t\t\t<button type='submit' className='btn btn-sm btn-success'>\r\n\t\t\t\t\tSimpan\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default Form\r\n","import React, { useState } from \"react\"\r\nimport {\r\n\tuseGetTypesQuery,\r\n\tuseDeleteTypeMutation,\r\n} from \"../../../controller/api/tahfiz/ApiMetric\"\r\nimport Table from \"../../../components/table/Table\"\r\nimport { toast } from \"react-hot-toast\"\r\n\r\nconst TableData = ({ setDetail }) => {\r\n\tconst [page, setPage] = useState(1)\r\n\tconst [limit, setLimit] = useState(10)\r\n\tconst [search, setSearch] = useState(\"\")\r\n\r\n\tconst { data: rawData = {}, isLoading } = useGetTypesQuery({\r\n\t\tpage,\r\n\t\tlimit,\r\n\t\tsearch,\r\n\t})\r\n\tconst { types = [], totalData, totalPages } = rawData\r\n\tconst [deleteType, { isLoading: isDeleting }] = useDeleteTypeMutation()\r\n\r\n\tconst deleteHandler = (id) => {\r\n\t\ttoast.promise(\r\n\t\t\tdeleteType(id)\r\n\t\t\t\t.unwrap()\r\n\t\t\t\t.then((res) => res.message),\r\n\t\t\t{\r\n\t\t\t\tloading: \"Memuat data...\",\r\n\t\t\t\tsuccess: (message) => message,\r\n\t\t\t\terror: (err) => err.data.message,\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tisLoading={isLoading}\r\n\t\t\tpage={page}\r\n\t\t\tsetPage={setPage}\r\n\t\t\ttotalPages={totalPages}\r\n\t\t\tlimit={limit}\r\n\t\t\tsetLimit={setLimit}\r\n\t\t\tsetSearch={setSearch}\r\n\t\t\ttotalData={totalData}>\r\n\t\t\t<table className='mb-0 table table-hover table-striped table-bordered'>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td className='text-center'>No</td>\r\n\t\t\t\t\t\t<td className='text-center'>Penilaian</td>\r\n\t\t\t\t\t\t<td className='text-center'>Aksi</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{types?.map((item, i) => (\r\n\t\t\t\t\t\t<tr key={i}>\r\n\t\t\t\t\t\t\t<td className='text-center align-middle'>\r\n\t\t\t\t\t\t\t\t{(page - 1) * limit + i + 1}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td className='align-middle'>{item.name}</td>\r\n\t\t\t\t\t\t\t<td className='align-middle'>\r\n\t\t\t\t\t\t\t\t<div className='d-flex justify-content-center gap-2'>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-sm btn-warning'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => setDetail(item)}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='bi bi-pencil-square'></i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-sm btn-danger'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteHandler(item.id)}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='bi bi-trash'></i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</Table>\r\n\t)\r\n}\r\n\r\nexport default TableData\r\n","import React, { useState } from \"react\"\r\nimport Layout from \"../../../components/layout/Layout\"\r\nimport Form from \"./Form\"\r\nimport TableData from \"./TableData\"\r\nconst TahfizType = () => {\r\n\tconst [detail, setDetail] = useState({})\r\n\r\n\treturn (\r\n\t\t<Layout title={\"Penilaian Hafalan\"} levels={[\"tahfiz\"]}>\r\n\t\t\t<div className='row g-2'>\r\n\t\t\t\t<div className='col-lg-3 col-12'>\r\n\t\t\t\t\t<Form detail={detail} setDetail={setDetail} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-lg-9 col-12'>\r\n\t\t\t\t\t<TableData setDetail={setDetail} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\nexport default TahfizType\r\n"],"names":["Form","detail","setDetail","id","setId","useState","name","setName","addType","isLoading","isSuccess","isError","reset","useAddTypeMutation","cancel","useEffect","jsxRuntimeExports","jsxs","onSubmit","e","preventDefault","data","c","promise","unwrap","then","res","message","loading","success","error","err","className","children","jsx","type","placeholder","value","onChange","target","onClick","TableData","page","setPage","limit","setLimit","search","setSearch","rawData","useGetTypesQuery","types","totalData","totalPages","deleteType","isDeleting","useDeleteTypeMutation","Table","map","item","i","deleteHandler","TahfizType","Layout","title","levels"],"mappings":"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"}