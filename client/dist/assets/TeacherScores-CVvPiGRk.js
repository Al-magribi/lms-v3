import{j as e,m as a,bo as t,b as s,bv as l,bw as i,bx as n,e as r,aT as d,aB as c,by as o,bz as m,bA as u,bB as h,bC as x,bD as g,bE as p,av as j}from"./index-BTyVZtjg.js";import{u as b,k as f,b as N}from"./vendor-DfXzdC0j.js";import{L as v}from"./Layout-D2GwAi29.js";import{S as y}from"./react-select.esm-DUeLA41h.js";import{T as k}from"./Table-DbbTqEdN.js";import{u as w,a as S,r as _}from"./xlsx-Daov8euU.js";import"./index-CGMX7dKw.js";import"./index-hpZ4eOv6.js";import"./index-DyuEXp_a.js";const P=({subjects:t,user:s})=>{const l=b(),i=(e,a)=>{const t=e.replace(/\s+/g,"-");l(`/guru-penilaian?subject=${t}&id=${a}`)},n={hidden:{y:20,opacity:0},show:{y:0,opacity:1}};return e.jsx(a.div,{className:"row g-3",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:t.map((t=>e.jsx(a.div,{className:"col-xl-3 col-lg-4 col-md-6",variants:n,children:e.jsxs("div",{className:"card h-100 shadow-sm border-0 hover-card rounded-3 overflow-hidden",onClick:()=>i(t.name,t.id),style:{cursor:"pointer",transition:"all 0.3s ease"},children:[e.jsx("div",{className:"position-relative",children:e.jsx("img",{src:t.cover?`${window.location.origin}${t.cover}`:"/logo.png",alt:t.name,className:"card-img-top",style:{height:"250px",objectFit:"cover"}})}),e.jsxs("div",{className:"card-body p-4",children:[e.jsx("h5",{className:"card-title mb-3 fw-bold text-primary",children:t.name}),e.jsxs("div",{className:"d-flex align-items-center text-muted mb-3",children:[e.jsx("i",{className:"bi bi-mortarboard-fill me-2"}),e.jsx("span",{className:"small",children:null==s?void 0:s.name})]}),e.jsxs("button",{className:"btn btn-primary w-100 rounded-pill py-2",onClick:e=>{e.stopPropagation(),i(t.name,t.id)},children:[e.jsx("i",{className:"bi bi-arrow-right-circle-fill me-2"}),"Kelola Penilaian"]})]})]})},t.id)))})},C={menuPortal:e=>({...e,zIndex:10}),control:(e,a)=>({...e,minHeight:"38px","@media (max-width: 576px)":{minHeight:"44px"}}),option:(e,a)=>({...e,"@media (max-width: 576px)":{padding:"12px 16px"}})},F=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],L=[{label:"Semester 1",value:1},{label:"Semester 2",value:2}],D=({subject:a,id:s})=>{const{data:l}=t(s),[i,n]=f(),r=N.useMemo((()=>(null==l?void 0:l.map((e=>({value:e.chapter_id,label:e.chapter_name}))))||[]),[l]),d=i.get("chapterid"),c=i.get("classid"),o=i.get("month"),m=i.get("semester"),[u,h]=N.useState(null),[x,g]=N.useState(null),[p,j]=N.useState(null),[b,v]=N.useState(null),k=N.useMemo((()=>{var e;if(!u&&!d)return[];const a=u?u.value:d,t=null==l?void 0:l.find((e=>String(e.chapter_id)===String(a)));return(null==(e=null==t?void 0:t.class)?void 0:e.map((e=>({value:e.id,label:e.name}))))||[]}),[l,u,d]),w=N.useMemo((()=>F.map((e=>({value:e,label:e})))),[]),S=N.useMemo((()=>L.map((e=>({value:e.value,label:e.label})))),[]);N.useEffect((()=>{if(d&&r.length>0){const e=r.find((e=>String(e.value)===String(d)));h(e||null)}}),[d,r]),N.useEffect((()=>{if(c&&k.length>0){const e=k.find((e=>String(e.value)===String(c)));g(e||null)}}),[c,k]),N.useEffect((()=>{if(o&&w.length>0){const e=w.find((e=>e.value===o));j(e||null)}}),[o,w]),N.useEffect((()=>{if(m&&S.length>0){const e=S.find((e=>String(e.value)===String(m)));v(e||null)}}),[m,S]);const _=(e,t,l,i)=>{const r={};a&&(r.subject=a),s&&(r.id=s),e&&(r.chapterid=e.value),t&&(r.classid=t.value),l&&(r.month=l.value),i&&(r.semester=i.value),n(r)},P=e=>{h(e),g(null),_(e,null,p,b)},D=e=>{g(e),_(u,e,p,b)},E=e=>{j(e),_(u,x,e,b)},A=e=>{v(e),_(u,x,p,e)};return e.jsxs("div",{className:"form-data-container",children:[e.jsxs("div",{className:"d-none d-lg-flex gap-3",children:[e.jsx("div",{className:"flex-fill",children:e.jsx(y,{options:r,value:u,onChange:P,placeholder:"Pilih Chapter",menuPortalTarget:document.body,styles:C})}),e.jsx("div",{className:"flex-fill",children:e.jsx(y,{options:k,value:x,onChange:D,placeholder:"Pilih Kelas",isDisabled:!u,menuPortalTarget:document.body,styles:C})}),e.jsx("div",{className:"flex-fill",children:e.jsx(y,{options:w,value:p,onChange:E,placeholder:"Pilih Bulan",menuPortalTarget:document.body,styles:C})}),e.jsx("div",{className:"flex-fill",children:e.jsx(y,{options:S,value:b,onChange:A,placeholder:"Pilih Semester",menuPortalTarget:document.body,styles:C})})]}),e.jsx("div",{className:"d-none d-md-block d-lg-none",children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(y,{options:r,value:u,onChange:P,placeholder:"Pilih Chapter",menuPortalTarget:document.body,styles:C})}),e.jsx("div",{className:"col-md-6",children:e.jsx(y,{options:k,value:x,onChange:D,placeholder:"Pilih Kelas",isDisabled:!u,menuPortalTarget:document.body,styles:C})}),e.jsx("div",{className:"col-md-6",children:e.jsx(y,{options:w,value:p,onChange:E,placeholder:"Pilih Bulan",menuPortalTarget:document.body,styles:C})}),e.jsx("div",{className:"col-md-6",children:e.jsx(y,{options:S,value:b,onChange:A,placeholder:"Pilih Semester",menuPortalTarget:document.body,styles:C})})]})}),e.jsx("div",{className:"d-block d-md-none",children:e.jsxs("div",{className:"d-flex flex-column gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label fw-semibold mb-2",children:"Chapter"}),e.jsx(y,{options:r,value:u,onChange:P,placeholder:"Pilih Chapter",menuPortalTarget:document.body,styles:C})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label fw-semibold mb-2",children:"Kelas"}),e.jsx(y,{options:k,value:x,onChange:D,placeholder:"Pilih Kelas",isDisabled:!u,menuPortalTarget:document.body,styles:C})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label fw-semibold mb-2",children:"Bulan"}),e.jsx(y,{options:w,value:p,onChange:E,placeholder:"Pilih Bulan",menuPortalTarget:document.body,styles:C})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label fw-semibold mb-2",children:"Semester"}),e.jsx(y,{options:S,value:b,onChange:A,placeholder:"Pilih Semester",menuPortalTarget:document.body,styles:C})]})]})})]})},E=({tab:a,setTab:t})=>{const[s]=f(),l=s.get("id"),i=s.get("chapterid"),n=s.get("classid"),r=s.get("month"),d=s.get("semester"),c=e=>{t(e)};return n&&l&&i&&r&&d?e.jsxs("div",{className:"d-flex flex-column gap-3",children:[e.jsxs("ul",{className:"nav nav-tabs justify-content-center d-none d-md-flex",children:[e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link pointer "+("attendance"===a?"active":""),"aria-current":"page",onClick:()=>c("attendance"),children:"Kehadiran"})}),e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link pointer "+("attitude"===a?"active":""),"aria-current":"page",onClick:()=>c("attitude"),children:"Sikap"})}),e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link pointer "+("formative"===a?"active":""),"aria-current":"page",onClick:()=>c("formative"),children:"Formatif"})}),e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link pointer "+("summative"===a?"active":""),"aria-current":"page",onClick:()=>c("summative"),children:"Sumatif"})}),e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link pointer "+("recap"===a?"active":""),"aria-current":"page",onClick:()=>c("recap"),children:"Rekapitulasi"})})]}),e.jsx("div",{className:"d-md-none",children:e.jsxs("select",{className:"form-select form-select-lg",value:a,onChange:e=>c(e.target.value),"aria-label":"Pilih jenis penilaian",children:[e.jsx("option",{value:"attendance",children:"Kehadiran"}),e.jsx("option",{value:"attitude",children:"Sikap"}),e.jsx("option",{value:"formative",children:"Formatif"}),e.jsx("option",{value:"summative",children:"Sumatif"}),e.jsx("option",{value:"recap",children:"Rekapitulasi"})]})}),e.jsx("div",{className:"d-none d-sm-block d-md-none",children:e.jsx("div",{className:"nav-scroll-container",children:e.jsxs("ul",{className:"nav nav-tabs nav-tabs-scroll",children:[e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link pointer "+("attendance"===a?"active":""),"aria-current":"page",onClick:()=>c("attendance"),children:"Kehadiran"})}),e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link pointer "+("attitude"===a?"active":""),"aria-current":"page",onClick:()=>c("attitude"),children:"Sikap"})}),e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link pointer "+("formative"===a?"active":""),"aria-current":"page",onClick:()=>c("formative"),children:"Formatif"})}),e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link pointer "+("summative"===a?"active":""),"aria-current":"page",onClick:()=>c("summative"),children:"Sumatif"})}),e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"nav-link pointer "+("recap"===a?"active":""),"aria-current":"page",onClick:()=>c("recap"),children:"Rekapitulasi"})})]})})})]}):e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),e.jsx("span",{className:"d-none d-sm-inline",children:"Pilih chapter, kelas, semester, dan bulan terlebih dahulu untuk melihat data penilaian."}),e.jsx("span",{className:"d-sm-none",children:"Pilih chapter, kelas, semester, dan bulan terlebih dahulu."})]})},A=({type:a,title:t,onSubmit:s,isLoading:l,inputRef:i,setFile:n})=>e.jsx("div",{className:"modal fade",id:"upload-score","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("form",{onSubmit:s,className:"modal-content p-3",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"uploadScoreModalLabel",children:t}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsxs("div",{className:"modal-body d-flex flex-column gap-3",children:[e.jsxs("div",{className:"alert alert-info py-2 d-flex align-items-center gap-2",children:[e.jsx("i",{className:"bi bi-info-circle-fill"}),"Upload file Excel sesuai template yang disediakan."]}),e.jsx("input",{ref:i,type:"file",name:a,id:a,className:"form-control",onChange:e=>n(e.target.files[0]),required:!0})]}),e.jsx("div",{className:"modal-footer",children:e.jsxs("button",{type:"submit",className:"btn btn-sm btn-success",disabled:l,children:[e.jsx("i",{className:"bi bi-upload me-1"}),"Upload Data"]})})]})})}),$=({data:a,isLoading:t,page:d,setPage:c,limit:o,setLimit:m,search:u,setSearch:h,totalData:x,totalPages:g})=>{var p;const[j,b]=N.useState({}),[v]=f(),y=v.get("id"),P=v.get("chapterid"),C=v.get("classid"),F=v.get("month"),L=v.get("semester"),{user:D}=s((e=>e.auth)),E=null==D?void 0:D.id,{data:$,refetch:T}=l({classid:C,subjectid:y,chapterid:P,month:F,semester:L},{skip:!(C&&y&&P&&F&&L),refetchOnMountOrArgChange:!0});N.useEffect((()=>{b({})}),[C,y,P,F,L]),N.useEffect((()=>{if($&&Array.isArray($)){const e={};for(const a of $)e[a.student_id]={kinerja:null!==a.kinerja&&void 0!==a.kinerja?a.kinerja:"",kedisiplinan:null!==a.kedisiplinan&&void 0!==a.kedisiplinan?a.kedisiplinan:"",keaktifan:null!==a.keaktifan&&void 0!==a.keaktifan?a.keaktifan:"",percayaDiri:null!==a.percaya_diri&&void 0!==a.percaya_diri?a.percaya_diri:"",catatan:a.catatan_guru??""};Object.keys(e).length>0&&b(e)}}),[$]);const[R,{isLoading:K,isSuccess:M,data:I,isError:O,error:B}]=i(),U=(e,a,t)=>{b((s=>({...s,[e]:{...s[e],[a]:t}})))},J=e=>{const a=j[e];if(!a)return 0;const t=[a.kinerja,a.kedisiplinan,a.keaktifan,a.percayaDiri].filter((e=>""!==e&&null!=e));return 0===t.length?0:(t.reduce(((e,a)=>e+Number(a)),0)/t.length).toFixed(1)},z=N.useRef(null),[q,{isLoading:H,isSuccess:W,isError:Y,error:G,data:Q}]=n(),[V,X]=N.useState(null);return N.useEffect((()=>{if(W){z.current.value=null,X(null);document.querySelector("[data-bs-dismiss='modal']").click()}Y&&(r.error(G.data.message),z.current.value=null,X(null))}),[W,Y,Q,T]),N.useEffect((()=>{const e=document.getElementById("upload-score");if(!e)return;const a=()=>{X(null),z.current&&(z.current.value=null)};return e.addEventListener("hidden.bs.modal",a),()=>e.removeEventListener("hidden.bs.modal",a)}),[]),N.useEffect((()=>{M&&(r.success(I.message),T()),O&&r.error(B.data.message)}),[M,I,O,B,T]),e.jsxs(e.Fragment,{children:[e.jsx(A,{type:"attitude",title:"Upload Penilaian Sikap",onSubmit:e=>{if(e.preventDefault(),V){const e=new FileReader;e.onload=e=>{const a=new Uint8Array(e.target.result),t=_(a,{type:"array"}),s=t.SheetNames[0],l=t.Sheets[s],i=w.sheet_to_json(l,{header:1,range:1}).map((e=>{const[a,t,s,l,i,n,r,d]=e;return[a,t,s,l,i,n,r,d]})).filter((e=>e.every((e=>null!=e)))),n=Array.isArray(i)?i:[i];r.promise(q({classid:Number(C),subjectid:Number(y),chapterid:Number(P),month:F,semester:L,data:n}).unwrap().then((e=>e.message)),{loading:"Menyimpan data...",success:e=>e,error:e=>e.data.message})},e.readAsArrayBuffer(V)}},inputRef:z,setFile:X}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"card-title mb-0",children:"Penilaian Sikap"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{className:"btn btn-sm btn-outline-success","data-bs-toggle":"modal","data-bs-target":"#upload-score",children:[e.jsx("i",{className:"bi bi-upload"})," Upload"]}),e.jsxs("button",{className:"btn btn-sm btn-outline-success",onClick:()=>{const e=[["NIS","Nama Siswa","Kinerja","Kedisiplinan","Keaktifan","Percaya Diri","Catatan","rata-rata"]];(null==a?void 0:a.students)&&a.students.forEach((a=>{const t=j[a.student]||{},s=J(a.student);e.push([a.nis||"",a.student_name||"",t.kinerja||"",t.kedisiplinan||"",t.keaktifan||"",t.percayaDiri||"",t.catatan||"",s||""])}));const t=w.book_new(),s=w.aoa_to_sheet(e);s["!cols"]=[{wch:15},{wch:30},{wch:12},{wch:15},{wch:12},{wch:15},{wch:40},{wch:12}],w.book_append_sheet(t,s,"Penilaian Sikap");const l=(new Date).toISOString().split("T")[0];S(t,`penilaian_sikap_${l}.xlsx`),r.success("File Excel berhasil diunduh!")},children:[e.jsx("i",{className:"bi bi-download"})," Download"]})]})]}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive",children:e.jsx(k,{isLoading:t,totalData:x,totalPages:g,page:d,limit:o,setPage:c,setLimit:m,setSearch:h,children:e.jsxs("table",{className:"table table-bordered table-striped table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center align-middle",children:"No"}),e.jsx("th",{className:"text-center align-middle",children:"NIS"}),e.jsx("th",{className:"text-center align-middle",children:"Nama Siswa"}),e.jsx("th",{className:"text-center align-middle",style:{backgroundColor:"#fff3cd"},children:"Kinerja"}),e.jsx("th",{className:"text-center align-middle",style:{backgroundColor:"#fff3cd"},children:"Kedisiplinan"}),e.jsx("th",{className:"text-center align-middle",style:{backgroundColor:"#fff3cd"},children:"Keaktifan"}),e.jsx("th",{className:"text-center align-middle",style:{backgroundColor:"#fff3cd"},children:"Percaya Diri"}),e.jsx("th",{className:"text-center align-middle",style:{backgroundColor:"#d1ecf1"},children:"Catatan"}),e.jsx("th",{className:"text-center align-middle",children:"Rerata"}),e.jsx("th",{className:"text-center align-middle",children:"Aksi"})]})}),e.jsx("tbody",{children:null==(p=null==a?void 0:a.students)?void 0:p.map(((a,t)=>{var s,l,i,n,r;return e.jsxs("tr",{children:[e.jsx("td",{className:"text-center align-middle",children:(d-1)*o+t+1}),e.jsx("td",{className:"text-center align-middle",children:a.nis}),e.jsx("td",{className:"align-middle",children:a.student_name}),e.jsx("td",{className:"text-center align-middle",children:e.jsx("input",{type:"number",className:"form-control form-control-sm text-center",min:"0",max:"100",value:(null==(s=j[a.student])?void 0:s.kinerja)??"",onChange:e=>U(a.student,"kinerja",e.target.value),placeholder:"0-100"})}),e.jsx("td",{className:"text-center align-middle",children:e.jsx("input",{type:"number",className:"form-control form-control-sm text-center",min:"0",max:"100",value:(null==(l=j[a.student])?void 0:l.kedisiplinan)??"",onChange:e=>U(a.student,"kedisiplinan",e.target.value),placeholder:"0-100"})}),e.jsx("td",{className:"text-center align-middle",children:e.jsx("input",{type:"number",className:"form-control form-control-sm text-center",min:"0",max:"100",value:(null==(i=j[a.student])?void 0:i.keaktifan)??"",onChange:e=>U(a.student,"keaktifan",e.target.value),placeholder:"0-100"})}),e.jsx("td",{className:"text-center align-middle",children:e.jsx("input",{type:"number",className:"form-control form-control-sm text-center",min:"0",max:"100",value:(null==(n=j[a.student])?void 0:n.percayaDiri)??"",onChange:e=>U(a.student,"percayaDiri",e.target.value),placeholder:"0-100"})}),e.jsx("td",{className:"align-middle",children:e.jsx("textarea",{className:"form-control form-control-sm",rows:"2",value:(null==(r=j[a.student])?void 0:r.catatan)||"",onChange:e=>U(a.student,"catatan",e.target.value),placeholder:"Catatan guru..."})}),e.jsx("td",{className:"text-center align-middle",children:e.jsx("span",{className:"fw-bold text-primary",children:J(a.student)})}),e.jsx("td",{className:"text-center align-middle",children:e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>(async e=>{const a=j[e.student]||{};await R({student_id:e.student,subject_id:Number(y),class_id:Number(C),chapter_id:Number(P),teacher_id:E,month:F,semester:L,kinerja:a.kinerja?Number(a.kinerja):null,kedisiplinan:a.kedisiplinan?Number(a.kedisiplinan):null,keaktifan:a.keaktifan?Number(a.keaktifan):null,percaya_diri:a.percayaDiri?Number(a.percayaDiri):null,catatan_guru:a.catatan||null})})(a),disabled:K,children:e.jsx("i",{className:"bi bi-floppy"})})})]},a.id)}))})]})})})})]})]})},T=({data:a,isLoading:t,page:s,setPage:l,limit:i,setLimit:n,search:r,setSearch:o,totalData:m,totalPages:u})=>{const[h]=f(),x=h.get("classid"),g=h.get("id"),p=h.get("month"),j=p?["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"].indexOf(p)+1:(new Date).getMonth()+1,b=(new Date).getFullYear(),{data:v,isLoading:y}=d({classid:x,subjectid:g,month:j,year:b},{skip:!x||!g});return N.useState({}),x&&g?y?e.jsx(c,{}):e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:e.jsxs("h5",{className:"card-title mb-0",children:[e.jsx("i",{className:"bi bi-calendar-month me-2"}),"Penilaian Kehadiran Bulanan"]})}),e.jsx("div",{className:"card-body",children:v&&v.length>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover table-striped",children:[e.jsx("thead",{className:"table-dark",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",style:{width:"5%"},children:"No"}),e.jsx("th",{style:{width:"10%"},children:"NIS"}),e.jsx("th",{style:{width:"25%"},children:"Nama Siswa"}),e.jsxs("th",{className:"text-center",style:{width:"10%"},children:[e.jsx("i",{className:"bi bi-check-circle text-success me-1"}),"Hadir"]}),e.jsxs("th",{className:"text-center",style:{width:"10%"},children:[e.jsx("i",{className:"bi bi-heart-pulse text-primary me-1"}),"Sakit"]}),e.jsxs("th",{className:"text-center",style:{width:"10%"},children:[e.jsx("i",{className:"bi bi-envelope-paper text-info me-1"}),"Izin"]}),e.jsxs("th",{className:"text-center",style:{width:"10%"},children:[e.jsx("i",{className:"bi bi-x-circle text-danger me-1"}),"Alpa"]}),e.jsxs("th",{className:"text-center",style:{width:"10%"},children:[e.jsx("i",{className:"bi bi-percent text-warning me-1"}),"Kehadiran"]})]})}),e.jsx("tbody",{children:v.map(((a,t)=>{const s=a.hadir+a.sakit+a.izin+a.alpa,l=s>0?(a.hadir/s*100).toFixed(1):0;return e.jsxs("tr",{className:"attendance-change",children:[e.jsx("td",{className:"text-center align-middle",children:t+1}),e.jsx("td",{className:"align-middle",children:a.nis}),e.jsx("td",{className:"align-middle fw-bold",children:a.student_name}),e.jsx("td",{className:"text-center align-middle",children:e.jsx("span",{className:"badge bg-success fs-6",children:a.hadir})}),e.jsx("td",{className:"text-center align-middle",children:e.jsx("span",{className:"badge bg-primary fs-6",children:a.sakit})}),e.jsx("td",{className:"text-center align-middle",children:e.jsx("span",{className:"badge bg-info fs-6",children:a.izin})}),e.jsx("td",{className:"text-center align-middle",children:e.jsx("span",{className:"badge bg-danger fs-6",children:a.alpa})}),e.jsx("td",{className:"text-center align-middle",children:e.jsxs("span",{className:"badge fs-6 "+(l>=90?"bg-success":l>=80?"bg-warning":"bg-danger"),children:[l,"%"]})})]},a.studentid)}))})]})}):e.jsxs("div",{className:"text-center py-5 empty-state",children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:"bi bi-calendar-x display-1 text-muted"})}),e.jsx("h5",{className:"fw-bold text-muted mb-2",children:"Data Tidak Tersedia"}),e.jsx("p",{className:"text-muted mb-0",children:"Tidak ada data presensi untuk periode yang dipilih"})]})})]}):e.jsxs("div",{className:"text-center py-5 empty-state",children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:"bi bi-calendar-check display-1 text-muted"})}),e.jsx("h5",{className:"fw-bold text-muted mb-2",children:"Pilih Data Presensi"}),e.jsx("p",{className:"text-muted mb-0",children:"Silakan pilih mata pelajaran dan kelas terlebih dahulu"})]})},R=({data:a,isLoading:t,page:l,setPage:i,limit:n,setLimit:d,search:c,setSearch:h,totalData:x,totalPages:g})=>{var p;const[j,b]=N.useState({}),[v]=f(),y=v.get("id"),P=v.get("chapterid"),C=v.get("classid"),F=v.get("month"),L=v.get("semester");s((e=>e.auth));const{data:D,refetch:E}=o({classid:C,subjectid:y,chapterid:P,month:F,semester:L},{skip:!(C&&y&&P&&F&&L),refetchOnMountOrArgChange:!0});N.useEffect((()=>{b({})}),[C,y,P,F,L]),N.useEffect((()=>{if(D&&Array.isArray(D)){const e={};for(const a of D)e[a.student_id]={tugas1:null!==a.f_1&&void 0!==a.f_1?a.f_1:"",tugas2:null!==a.f_2&&void 0!==a.f_2?a.f_2:"",tugas3:null!==a.f_3&&void 0!==a.f_3?a.f_3:"",tugas4:null!==a.f_4&&void 0!==a.f_4?a.f_4:"",tugas5:null!==a.f_5&&void 0!==a.f_5?a.f_5:"",tugas6:null!==a.f_6&&void 0!==a.f_6?a.f_6:"",tugas7:null!==a.f_7&&void 0!==a.f_7?a.f_7:"",tugas8:null!==a.f_8&&void 0!==a.f_8?a.f_8:""};Object.keys(e).length>0&&b(e)}}),[D]);const[$,{isLoading:T,isSuccess:R,data:K,isError:M,error:I}]=m(),O=N.useRef(null),[B,{isLoading:U,isSuccess:J,isError:z,error:q,data:H}]=u(),[W,Y]=N.useState(null),G=e=>{const a=j[e];if(!a)return 0;const t=[];for(let s=1;s<=8;s++){const e=a[`tugas${s}`];""!==e&&null!=e&&t.push(Number(e))}return 0===t.length?0:(t.reduce(((e,a)=>e+a),0)/t.length).toFixed(1)},Q=a=>{var t;const s=[];for(let l=1;l<=8;l++)s.push(e.jsx("td",{className:"text-center align-middle",children:e.jsx("input",{type:"number",className:"form-control form-control-sm text-center",min:"0",max:"100",value:(null==(t=j[a.student])?void 0:t[`tugas${l}`])??"",onChange:e=>{return t=a.student,s=l,i=e.target.value,void b((e=>({...e,[t]:{...e[t],[`tugas${s}`]:i}})));var t,s,i},placeholder:"0-100"})},l));return s};return N.useEffect((()=>{if(J){O.current.value=null,Y(null);document.querySelector("[data-bs-dismiss='modal']").click()}z&&(r.error(q.data.message),O.current.value=null,Y(null))}),[J,z,H,E]),N.useEffect((()=>{const e=document.getElementById("upload-score");if(!e)return;const a=()=>{Y(null),O.current&&(O.current.value=null)};return e.addEventListener("hidden.bs.modal",a),()=>e.removeEventListener("hidden.bs.modal",a)}),[]),N.useEffect((()=>{R&&(r.success(K.message),E()),M&&r.error(I.data.message)}),[R,K,M,I,E]),e.jsxs(e.Fragment,{children:[e.jsx(A,{type:"formative",title:"Upload Penilaian Formatif",onSubmit:e=>{if(e.preventDefault(),W){const e=new FileReader;e.onload=e=>{const a=new Uint8Array(e.target.result),t=_(a,{type:"array"}),s=t.SheetNames[0],l=t.Sheets[s],i=w.sheet_to_json(l,{header:1,range:1}).map((e=>{const[a,t,s,l,i,n,r,d,c,o,m]=e;return[a,t,s,l,i,n,r,d,c,o,m]})).filter((e=>e.every((e=>null!=e)))),n=Array.isArray(i)?i:[i];r.promise(B({classid:Number(C),subjectid:Number(y),chapterid:Number(P),month:F,semester:L,data:n}).unwrap().then((e=>e.message)),{loading:"Menyimpan data...",success:e=>e,error:e=>e.data.message})},e.readAsArrayBuffer(W)}},inputRef:O,setFile:Y}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"card-title mb-0",children:"Penilaian Formatif"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{className:"btn btn-sm btn-outline-success","data-bs-toggle":"modal","data-bs-target":"#upload-score",children:[e.jsx("i",{className:"bi bi-upload"})," Upload"]}),e.jsxs("button",{className:"btn btn-sm btn-outline-success",onClick:()=>{const e=[["NIS","Nama Siswa","F_1","F_2","F_3","F_4","F_5","F_6","F_7","F_8","Rerata"]];(null==a?void 0:a.students)&&a.students.forEach((a=>{const t=j[a.student]||{},s=G(a.student);e.push([a.nis||"",a.student_name||"",t.tugas1||"",t.tugas2||"",t.tugas3||"",t.tugas4||"",t.tugas5||"",t.tugas6||"",t.tugas7||"",t.tugas8||"",s||""])}));const t=w.book_new(),s=w.aoa_to_sheet(e);s["!cols"]=[{wch:15},{wch:30},{wch:12},{wch:12},{wch:12},{wch:12},{wch:12},{wch:12},{wch:12},{wch:12},{wch:12}],w.book_append_sheet(t,s,"Penilaian Formatif");const l=(new Date).toISOString().split("T")[0];S(t,`penilaian_formatif_${l}.xlsx`),r.success("File Excel berhasil diunduh!")},children:[e.jsx("i",{className:"bi bi-download"})," Download"]})]})]}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive",children:e.jsx(k,{isLoading:t,totalData:x,totalPages:g,page:l,limit:n,setPage:i,setLimit:d,setSearch:h,children:e.jsxs("table",{className:"table table-bordered table-striped table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center align-middle",children:"No"}),e.jsx("th",{className:"text-center align-middle",children:"NIS"}),e.jsx("th",{className:"text-center align-middle",children:"Nama Siswa"}),(()=>{const a=[];for(let t=1;t<=8;t++)a.push(e.jsxs("th",{className:"text-center align-middle",style:{backgroundColor:"#dc3545",color:"white"},children:["f_",t]},t));return a})(),e.jsx("th",{className:"text-center align-middle",children:"Rerata"}),e.jsx("th",{className:"text-center align-middle",children:"Aksi"})]})}),e.jsx("tbody",{children:null==(p=null==a?void 0:a.students)?void 0:p.map(((a,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center align-middle",children:(l-1)*n+t+1}),e.jsx("td",{className:"text-center align-middle",children:a.nis}),e.jsx("td",{className:"align-middle",children:a.student_name}),Q(a),e.jsx("td",{className:"text-center align-middle",children:e.jsx("span",{className:"fw-bold text-primary",children:G(a.student)})}),e.jsx("td",{className:"text-center align-middle",children:e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>(async e=>{const a=j[e.student]||{};await $({student_id:e.student,subject_id:Number(y),class_id:Number(C),chapter_id:Number(P),month:F,semester:L,F_1:a.tugas1?Number(a.tugas1):null,F_2:a.tugas2?Number(a.tugas2):null,F_3:a.tugas3?Number(a.tugas3):null,F_4:a.tugas4?Number(a.tugas4):null,F_5:a.tugas5?Number(a.tugas5):null,F_6:a.tugas6?Number(a.tugas6):null,F_7:a.tugas7?Number(a.tugas7):null,F_8:a.tugas8?Number(a.tugas8):null})})(a),disabled:T,children:e.jsx("i",{className:"bi bi-floppy"})})})]},a.id)))})]})})})})]})]})},K=({data:a,isLoading:t,page:l,setPage:i,limit:n,setLimit:d,search:c,setSearch:o,totalData:m,totalPages:u})=>{var p;const[j,b]=N.useState({}),[v]=f(),y=v.get("id"),P=v.get("chapterid"),C=v.get("classid"),F=v.get("month"),L=v.get("semester");s((e=>e.auth));const{data:D,refetch:E}=h({classid:C,subjectid:y,chapterid:P,month:F,semester:L},{skip:!(C&&y&&P&&F&&L),refetchOnMountOrArgChange:!0});N.useEffect((()=>{b({})}),[C,y,P,F,L]),N.useEffect((()=>{if(D&&Array.isArray(D)){const e={};for(const a of D)e[a.student_id]={oral:null!==a.oral&&void 0!==a.oral?a.oral:"",written:null!==a.written&&void 0!==a.written?a.written:"",project:null!==a.project&&void 0!==a.project?a.project:"",performace:null!==a.performace&&void 0!==a.performace?a.performace:""};Object.keys(e).length>0&&b(e)}}),[D]);const[$,{isLoading:T,isSuccess:R,data:K,isError:M,error:I}]=x(),O=N.useRef(null),[B,{isLoading:U,isSuccess:J,isError:z,error:q,data:H}]=g(),[W,Y]=N.useState(null),G=(e,a,t)=>{b((s=>({...s,[e]:{...s[e],[a]:t}})))},Q=e=>{const a=j[e];if(!a)return 0;const t=[];return""!==a.oral&&null!==a.oral&&void 0!==a.oral&&t.push(Number(a.oral)),""!==a.written&&null!==a.written&&void 0!==a.written&&t.push(Number(a.written)),""!==a.project&&null!==a.project&&void 0!==a.project&&t.push(Number(a.project)),""!==a.performace&&null!==a.performace&&void 0!==a.performace&&t.push(Number(a.performace)),0===t.length?0:(t.reduce(((e,a)=>e+a),0)/t.length).toFixed(1)},V=a=>{const t=j[a.student]||{};return[e.jsx("td",{className:"text-center align-middle",children:e.jsx("input",{type:"number",className:"form-control form-control-sm text-center",min:"0",max:"100",value:t.oral??"",onChange:e=>G(a.student,"oral",e.target.value),placeholder:"0-100"})},"oral"),e.jsx("td",{className:"text-center align-middle",children:e.jsx("input",{type:"number",className:"form-control form-control-sm text-center",min:"0",max:"100",value:t.written??"",onChange:e=>G(a.student,"written",e.target.value),placeholder:"0-100"})},"written"),e.jsx("td",{className:"text-center align-middle",children:e.jsx("input",{type:"number",className:"form-control form-control-sm text-center",min:"0",max:"100",value:t.project??"",onChange:e=>G(a.student,"project",e.target.value),placeholder:"0-100"})},"project"),e.jsx("td",{className:"text-center align-middle",children:e.jsx("input",{type:"number",className:"form-control form-control-sm text-center",min:"0",max:"100",value:t.performace??"",onChange:e=>G(a.student,"performace",e.target.value),placeholder:"0-100"})},"performace")]};return N.useEffect((()=>{if(J){O.current.value=null,Y(null);document.querySelector("[data-bs-dismiss='modal']").click()}z&&(r.error(q.data.message),O.current.value=null,Y(null))}),[J,z,H,E]),N.useEffect((()=>{const e=document.getElementById("upload-score");if(!e)return;const a=()=>{Y(null),O.current&&(O.current.value=null)};return e.addEventListener("hidden.bs.modal",a),()=>e.removeEventListener("hidden.bs.modal",a)}),[]),N.useEffect((()=>{R&&(r.success(K.message),E()),M&&r.error(I.data.message)}),[R,K,M,I,E]),e.jsxs(e.Fragment,{children:[e.jsx(A,{type:"summative",title:"Upload Penilaian Sumatif",onSubmit:e=>{if(e.preventDefault(),W){const e=new FileReader;e.onload=e=>{const a=new Uint8Array(e.target.result),t=_(a,{type:"array"}),s=t.SheetNames[0],l=t.Sheets[s],i=w.sheet_to_json(l,{header:1,range:1}).map((e=>{const[a,t,s,l,i,n,r]=e;return[a,t,s,l,i,n,r]})).filter((e=>e.every((e=>null!=e)))),n=Array.isArray(i)?i:[i];r.promise(B({classid:Number(C),subjectid:Number(y),chapterid:Number(P),month:F,semester:L,data:n}).unwrap().then((e=>e.message)),{loading:"Menyimpan data...",success:e=>e,error:e=>e.data.message})},e.readAsArrayBuffer(W)}},inputRef:O,setFile:Y}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"card-title mb-0",children:"Penilaian Sumatif"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{className:"btn btn-sm btn-outline-success","data-bs-toggle":"modal","data-bs-target":"#upload-score",children:[e.jsx("i",{className:"bi bi-upload"})," Upload"]}),e.jsxs("button",{className:"btn btn-sm btn-outline-success",onClick:()=>{const e=[["NIS","Nama Siswa","Lisan","Tulisan","Proyek","Keterampilan","rata-rata"]];(null==a?void 0:a.students)&&a.students.forEach((a=>{const t=j[a.student]||{},s=Q(a.student);e.push([a.nis||"",a.student_name||"",t.oral||"",t.written||"",t.project||"",t.performace||"",s||""])}));const t=w.book_new(),s=w.aoa_to_sheet(e);s["!cols"]=[{wch:15},{wch:30},{wch:12},{wch:12},{wch:12},{wch:12},{wch:12}],w.book_append_sheet(t,s,"Penilaian Sumatif");const l=(new Date).toISOString().split("T")[0];S(t,`penilaian_sumatif_${l}.xlsx`),r.success("File Excel berhasil diunduh!")},children:[e.jsx("i",{className:"bi bi-download"})," Download"]})]})]}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive",children:e.jsx(k,{isLoading:t,totalData:m,totalPages:u,page:l,limit:n,setPage:i,setLimit:d,setSearch:o,children:e.jsxs("table",{className:"table table-bordered table-striped table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center align-middle",children:"No"}),e.jsx("th",{className:"text-center align-middle",children:"NIS"}),e.jsx("th",{className:"text-center align-middle",children:"Nama Siswa"}),[e.jsx("th",{className:"text-center align-middle",style:{backgroundColor:"#fff3cd"},children:e.jsx("div",{children:"Oral"})},"oral"),e.jsx("th",{className:"text-center align-middle",style:{backgroundColor:"#fff3cd"},children:e.jsx("div",{children:"Written"})},"written"),e.jsx("th",{className:"text-center align-middle",style:{backgroundColor:"#fff3cd"},children:e.jsx("div",{children:"Project"})},"project"),e.jsx("th",{className:"text-center align-middle",style:{backgroundColor:"#fff3cd"},children:e.jsx("div",{children:"Performace"})},"performace")],e.jsx("th",{className:"text-center align-middle",children:"Rata2"}),e.jsx("th",{className:"text-center align-middle",children:"Aksi"})]})}),e.jsx("tbody",{children:null==(p=null==a?void 0:a.students)?void 0:p.map(((a,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center align-middle",children:(l-1)*n+t+1}),e.jsx("td",{className:"text-center align-middle",children:a.nis}),e.jsx("td",{className:"align-middle",children:a.student_name}),V(a),e.jsx("td",{className:"text-center align-middle",children:e.jsx("span",{className:"fw-bold text-primary",children:Q(a.student)})}),e.jsx("td",{className:"text-center align-middle",children:e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>(async e=>{const a=j[e.student]||{};await $({student_id:e.student,subject_id:Number(y),class_id:Number(C),chapter_id:Number(P),month:F,semester:L,oral:a.oral?Number(a.oral):null,written:a.written?Number(a.written):null,project:a.project?Number(a.project):null,performace:a.performace?Number(a.performace):null})})(a),disabled:T,children:e.jsx("i",{className:"bi bi-floppy"})})})]},a.id)))})]})})})})]})]})},M=({data:a,isLoading:t,page:s,setPage:l,limit:i,setLimit:n,search:r,setSearch:d,totalData:c,totalPages:o})=>{var m;const[u]=f(),h=u.get("classid"),x=u.get("id"),g=u.get("chapterid"),j=u.get("month"),b=u.get("semester"),{data:N,isLoading:v}=p({classid:h,subjectid:x,chapterid:g,month:j,semester:b},{skip:!(h&&x&&g&&j&&b)}),y=t||v,w=new Map;N&&Array.isArray(N)&&N.forEach((e=>{w.set(e.student_id,e)}));const S=(()=>{if(!N||!Array.isArray(N)||0===N.length)return null;const e=N.reduce(((e,a)=>(e.kehadiran+=parseFloat(a.kehadiran)||0,e.sikap+=parseFloat(a.sikap)||0,e.formatif+=parseFloat(a.formatif)||0,e.sumatif+=parseFloat(a.sumatif)||0,e)),{kehadiran:0,sikap:0,formatif:0,sumatif:0}),a=N.length;return{kehadiran:(e.kehadiran/a).toFixed(2),sikap:(e.sikap/a).toFixed(2),formatif:(e.formatif/a).toFixed(2),sumatif:(e.sumatif/a).toFixed(2)}})();return e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"card-title mb-0",children:"Rekap Nilai"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive",children:e.jsx(k,{isLoading:y,totalData:c,totalPages:o,page:s,limit:i,setPage:l,setLimit:n,setSearch:d,children:e.jsxs("table",{className:"table table-bordered table-striped table-hover",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center align-middle",style:{width:"60px"},children:"No"}),e.jsx("th",{className:"text-center align-middle",style:{width:"100px"},children:"NIS"}),e.jsx("th",{className:"text-center align-middle",children:"Siswa"}),e.jsx("th",{className:"text-center align-middle",style:{width:"100px"},children:"Kehadiran"}),e.jsx("th",{className:"text-center align-middle",style:{width:"80px"},children:"Sikap"}),e.jsx("th",{className:"text-center align-middle",style:{width:"100px"},children:"Formatif"}),e.jsx("th",{className:"text-center align-middle",style:{width:"100px"},children:"Sumatif"}),e.jsx("th",{className:"text-center align-middle",style:{width:"300px"},children:"Catatan"})]})}),e.jsx("tbody",{children:null==(m=null==a?void 0:a.students)?void 0:m.map(((a,t)=>{const l=w.get(a.student);return e.jsxs("tr",{children:[e.jsx("td",{className:"text-center align-middle fw-bold",children:(s-1)*i+t+1}),e.jsx("td",{className:"text-center align-middle",children:a.nis}),e.jsx("td",{className:"align-middle fw-medium",children:a.student_name}),e.jsx("td",{className:"text-center align-middle",children:l&&parseFloat(l.kehadiran)>0?e.jsxs("span",{className:"badge "+(parseFloat(l.kehadiran)>=80?"bg-success":parseFloat(l.kehadiran)>=60?"bg-warning":"bg-danger"),children:[l.kehadiran,"%"]}):e.jsx("span",{className:"text-muted",children:"-"})}),e.jsx("td",{className:"text-center align-middle",children:l&&parseFloat(l.sikap)>0?e.jsx("span",{className:"fw-bold "+(parseFloat(l.sikap)>=80?"text-success":parseFloat(l.sikap)>=60?"text-warning":"text-danger"),children:l.sikap}):e.jsx("span",{className:"text-muted",children:"-"})}),e.jsx("td",{className:"text-center align-middle",children:l&&parseFloat(l.formatif)>0?e.jsx("span",{className:"fw-bold "+(parseFloat(l.formatif)>=80?"text-success":parseFloat(l.formatif)>=60?"text-warning":"text-danger"),children:l.formatif}):e.jsx("span",{className:"text-muted",children:"-"})}),e.jsx("td",{className:"text-center align-middle",children:l&&parseFloat(l.sumatif)>0?e.jsx("span",{className:"fw-bold "+(parseFloat(l.sumatif)>=80?"text-success":parseFloat(l.sumatif)>=60?"text-warning":"text-danger"),children:l.sumatif}):e.jsx("span",{className:"text-muted",children:"-"})}),e.jsx("td",{className:"align-middle",children:e.jsx("small",{className:"text-muted",children:(null==l?void 0:l.catatan)||"-"})})]},a.id)}))}),S&&e.jsx("tfoot",{className:"table-info",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:"3",className:"text-center align-middle fw-bold",children:"RATA-RATA KELAS"}),e.jsxs("td",{className:"text-center align-middle fw-bold",children:[S.kehadiran,"%"]}),e.jsx("td",{className:"text-center align-middle fw-bold",children:S.sikap}),e.jsx("td",{className:"text-center align-middle fw-bold",children:S.formatif}),e.jsx("td",{className:"text-center align-middle fw-bold",children:S.sumatif}),e.jsx("td",{className:"align-middle",children:e.jsx("small",{className:"text-muted",children:"-"})})]})})]})})})})]})},I=()=>{const[t]=f(),l=t.get("subject"),i=t.get("id"),n=t.get("chapterid"),r=t.get("classid"),d=t.get("month"),c=t.get("semester"),[o,m]=N.useState("attendance"),{user:u}=s((e=>e.auth)),h=null==u?void 0:u.subjects,x=!h||0===h.length,g=r&&i&&n&&d&&c;N.useEffect((()=>{m("attendance")}),[r,i,n,d,c]),N.useEffect((()=>{b(1),S("")}),[r,i,n,d,c]);const[p,b]=N.useState(1),[y,k]=N.useState(10),[w,S]=N.useState(""),{data:_,isLoading:C}=j({page:p,limit:y,search:w,classid:r},{skip:!r});return l&&i?e.jsx(v,{title:"Penilaian",levels:["teacher"],children:e.jsxs("div",{className:"d-flex flex-column gap-3",children:[e.jsx(D,{subject:l,id:i}),e.jsx(E,{tab:o,setTab:m}),g&&e.jsxs(e.Fragment,{children:["attitude"===o&&e.jsx($,{data:_,isLoading:C,page:p,setPage:b,limit:y,setLimit:k,search:w,setSearch:S,totalData:null==_?void 0:_.totalData,totalPages:null==_?void 0:_.totalPages},`attitude-${r}-${i}-${n}-${d}-${c}`),"attendance"===o&&e.jsx(T,{data:_,isLoading:C,page:p,setPage:b,limit:y,setLimit:k,search:w,setSearch:S,totalData:null==_?void 0:_.totalData,totalPages:null==_?void 0:_.totalPages},`attendance-${r}-${i}-${n}-${d}-${c}`),"formative"===o&&e.jsx(R,{data:_,isLoading:C,page:p,setPage:b,limit:y,setLimit:k,search:w,setSearch:S,totalData:null==_?void 0:_.totalData,totalPages:null==_?void 0:_.totalPages},`formative-${r}-${i}-${n}-${d}-${c}`),"summative"===o&&e.jsx(K,{data:_,isLoading:C,page:p,setPage:b,limit:y,setLimit:k,search:w,setSearch:S,totalData:null==_?void 0:_.totalData,totalPages:null==_?void 0:_.totalPages},`summative-${r}-${i}-${n}-${d}-${c}`),"recap"===o&&e.jsx(M,{data:_,isLoading:C,page:p,setPage:b,limit:y,setLimit:k,search:w,setSearch:S,totalData:null==_?void 0:_.totalData,totalPages:null==_?void 0:_.totalPages},`recap-${r}-${i}-${n}-${d}-${c}`)]})]})}):e.jsx(v,{title:"Penilaian",levels:["teacher"],children:x?e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"row justify-content-center",children:e.jsx("div",{className:"col-md-6 text-center",children:e.jsxs("div",{className:"py-5",children:[e.jsx("div",{className:"bg-light rounded-circle mx-auto mb-4 d-flex align-items-center justify-content-center",style:{width:"100px",height:"100px"},children:e.jsx("i",{className:"bi bi-journal-x display-4 text-primary"})}),e.jsx("h4",{className:"fw-bold mb-3",children:"Belum Ada Mata Pelajaran"}),e.jsx("p",{className:"text-muted mb-0",children:"Anda belum ditugaskan untuk mengajar mata pelajaran apapun saat ini"})]})})}):e.jsx(P,{subjects:h,user:u})})};export{I as default};
//# sourceMappingURL=TeacherScores-CVvPiGRk.js.map
