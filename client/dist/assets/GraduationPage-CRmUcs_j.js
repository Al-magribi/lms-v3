import{j as e,m as a}from"./index-DFhdulld.js";import{b as s,R as t}from"./vendor-CnnDPxwB.js";import{L as i}from"./Layout-BdxnsoD5.js";import{F as n,m as d,n as r,o as l,p as c,q as o,r as m,s as h,t as u}from"./index-B8CuzAwO.js";import{C as x}from"./CmsModal-B4WHKLRt.js";import{C as j}from"./CmsForm-CjFKk7X5.js";const p=({columns:i,data:u,onEdit:x,onDelete:j,onView:p,itemsPerPage:b=10,showActions:g=!0,showPagination:y=!0})=>{const[N,f]=s.useState(1),[k,v]=s.useState({key:null,direction:"ascending"}),w=t.useMemo((()=>{let e=[...u];return k.key&&e.sort(((e,a)=>e[k.key]<a[k.key]?"ascending"===k.direction?-1:1:e[k.key]>a[k.key]?"ascending"===k.direction?1:-1:0)),e}),[u,k]),C=N*b,S=C-b,G=w.slice(S,C),A=Math.ceil(w.length/b),T=e=>f(e),q={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:100}}};return e.jsxs(a.div,{className:"table-responsive",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},children:[e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[i.map((a=>{return e.jsx("th",{onClick:()=>(e=>{let a="ascending";k.key===e&&"ascending"===k.direction&&(a="descending"),v({key:e,direction:a})})(a.key),style:{cursor:"pointer"},children:e.jsxs("div",{className:"d-flex align-items-center",children:[a.label,(s=a.key,k.key!==s?e.jsx(o,{className:"ms-1 text-muted"}):"ascending"===k.direction?e.jsx(m,{className:"ms-1"}):e.jsx(h,{className:"ms-1"}))]})},a.key);var s})),g&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:G.length>0?G.map(((s,t)=>e.jsxs(a.tr,{variants:q,whileHover:{backgroundColor:"rgba(0,0,0,0.02)"},children:[i.map((a=>e.jsx("td",{children:a.render?a.render(s[a.key],s):s[a.key]},`${s.id}-${a.key}`))),g&&e.jsx("td",{children:e.jsxs("div",{className:"d-flex gap-2",children:[p&&e.jsx(a.button,{className:"btn btn-sm btn-info text-white",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>p(s),children:e.jsx(n,{})}),x&&e.jsx(a.button,{className:"btn btn-sm btn-primary",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>x(s),children:e.jsx(d,{})}),j&&e.jsx(a.button,{className:"btn btn-sm btn-danger",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>j(s),children:e.jsx(r,{})})]})})]},s.id||t))):e.jsx("tr",{children:e.jsx("td",{colSpan:i.length+(g?1:0),className:"text-center py-4",children:"No data available"})})})]}),y&&A>1&&e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[e.jsxs("div",{children:["Showing ",S+1," to"," ",Math.min(C,w.length)," of"," ",w.length," entries"]}),e.jsx("nav",{children:e.jsxs("ul",{className:"pagination mb-0",children:[e.jsx("li",{className:"page-item "+(1===N?"disabled":""),children:e.jsx("button",{className:"page-link",onClick:()=>T(N-1),disabled:1===N,children:e.jsx(l,{})})}),Array.from({length:A},((e,a)=>a+1)).map((a=>e.jsx("li",{className:"page-item "+(N===a?"active":""),children:e.jsx("button",{className:"page-link",onClick:()=>T(a),children:a})},a))),e.jsx("li",{className:"page-item "+(N===A?"disabled":""),children:e.jsx("button",{className:"page-link",onClick:()=>T(N+1),disabled:N===A,children:e.jsx(c,{})})})]})})]})]})},b=()=>{const[t,n]=s.useState([]),[l,c]=s.useState(!1),[o,m]=s.useState("add"),[h,b]=s.useState(null),[g,y]=s.useState(!0);s.useEffect((()=>{setTimeout((()=>{n([{id:1,year:2023,totalStudents:120,description:"Graduation ceremony for the class of 2023",date:"2023-06-15",image:"graduation2023.jpg"},{id:2,year:2022,totalStudents:115,description:"Graduation ceremony for the class of 2022",date:"2022-06-10",image:"graduation2022.jpg"},{id:3,year:2021,totalStudents:110,description:"Graduation ceremony for the class of 2021",date:"2021-06-12",image:"graduation2021.jpg"}]),y(!1)}),1e3)}),[]);const N=[{header:"Year",accessor:"year"},{header:"Total Students",accessor:"totalStudents"},{header:"Description",accessor:"description"},{header:"Date",accessor:"date"},{header:"Actions",accessor:"actions",cell:a=>e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>f(a),children:e.jsx(d,{})}),e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>k(a.id),children:e.jsx(r,{})})]})}],f=e=>{m("edit"),b(e),c(!0)},k=e=>{window.confirm("Are you sure you want to delete this graduation record?")&&n(t.filter((a=>a.id!==e)))};return e.jsxs(i,{children:[e.jsx("div",{className:"container-fluid py-3 py-md-4",children:e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 p-3 rounded me-3",children:e.jsx(u,{className:"text-primary fs-4"})}),e.jsx("h4",{className:"mb-0",children:"Graduation"})]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>{m("add"),b(null),c(!0)},children:"Add New Graduation"})]}),e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsx("div",{className:"card-body",children:e.jsx(p,{columns:N,data:t,isLoading:g,noDataMessage:"No graduation records found"})})})]})}),e.jsx(x,{isOpen:l,onClose:()=>c(!1),title:"add"===o?"Add New Graduation":"Edit Graduation",children:e.jsx(j,{fields:[{name:"year",label:"Year",type:"number",required:!0},{name:"totalStudents",label:"Total Students",type:"number",required:!0},{name:"description",label:"Description",type:"textarea",required:!0},{name:"date",label:"Date",type:"date",required:!0},{name:"image",label:"Image URL",type:"text",required:!0}],initialValues:h,onSubmit:e=>{if("add"===o){const a={id:t.length+1,...e};n([...t,a])}else n(t.map((a=>a.id===h.id?{...a,...e}:a)));c(!1)},submitButtonText:"add"===o?"Add Graduation":"Update Graduation"})})]})};export{b as default};
//# sourceMappingURL=GraduationPage-CRmUcs_j.js.map
