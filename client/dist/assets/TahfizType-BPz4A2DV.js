import{bm as e,j as s,d as a,bn as t,bo as n}from"./index-CNbAajcm.js";import{b as i}from"./vendor-BYWiIb5-.js";import{L as l}from"./Layout-_SAc74nU.js";import{T as r}from"./Table-BSwODE4h.js";import"./index-C-OX0RB-.js";import"./index-DLmIb9aI.js";const c=({detail:t,setDetail:n})=>{const[l,r]=i.useState(""),[c,d]=i.useState(""),[m,{isLoading:o,isSuccess:x,isError:b,reset:j}]=e(),u=()=>{r(""),d(""),n({})};return i.useEffect((()=>{(x||b)&&(u(),j())}),[x,b]),i.useEffect((()=>{t&&(r(t.id),d(t.name))}),[t]),s.jsxs("form",{onSubmit:e=>{e.preventDefault();const s={id:l||"",name:c};a.promise(m(s).unwrap().then((e=>e.message)),{loading:"Memuat data...",success:e=>e,error:e=>e.data.message})},className:"rounded border bg-white p-2 d-flex flex-column gap-2",children:[s.jsx("p",{className:"m-0 h6",children:"Jenis Penilaian"}),s.jsx("input",{type:"text",name:"name",id:"name",className:"form-control",placeholder:"Nama Ujian",value:c||"",onChange:e=>d(e.target.value)}),s.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[s.jsx("button",{type:"button",className:"btn btn-sm btn-warning",onClick:u,children:"Batal"}),s.jsx("button",{type:"submit",className:"btn btn-sm btn-success",children:"Simpan"})]})]})},d=({setDetail:e})=>{const[l,c]=i.useState(1),[d,m]=i.useState(10),[o,x]=i.useState(""),{data:b={},isLoading:j}=t({page:l,limit:d,search:o}),{types:u=[],totalData:h,totalPages:g}=b,[p,{isLoading:N}]=n();return s.jsx(r,{isLoading:j,page:l,setPage:c,totalPages:g,limit:d,setLimit:m,setSearch:x,totalData:h,children:s.jsxs("table",{className:"mb-0 table table-hover table-striped table-bordered",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("td",{className:"text-center",children:"No"}),s.jsx("td",{className:"text-center",children:"Penilaian"}),s.jsx("td",{className:"text-center",children:"Aksi"})]})}),s.jsx("tbody",{children:null==u?void 0:u.map(((t,n)=>s.jsxs("tr",{children:[s.jsx("td",{className:"text-center align-middle",children:(l-1)*d+n+1}),s.jsx("td",{className:"align-middle",children:t.name}),s.jsx("td",{className:"align-middle",children:s.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[s.jsx("button",{className:"btn btn-sm btn-warning",onClick:()=>e(t),children:s.jsx("i",{className:"bi bi-pencil-square"})}),s.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>{return e=t.id,void a.promise(p(e).unwrap().then((e=>e.message)),{loading:"Memuat data...",success:e=>e,error:e=>e.data.message});var e},children:s.jsx("i",{className:"bi bi-trash"})})]})})]},n)))})]})})},m=()=>{const[e,a]=i.useState({});return s.jsx(l,{title:"Penilaian Hafalan",levels:["tahfiz"],children:s.jsxs("div",{className:"row g-2",children:[s.jsx("div",{className:"col-lg-3 col-12",children:s.jsx(c,{detail:e,setDetail:a})}),s.jsx("div",{className:"col-lg-9 col-12",children:s.jsx(d,{setDetail:a})})]})})};export{m as default};
//# sourceMappingURL=TahfizType-BPz4A2DV.js.map
