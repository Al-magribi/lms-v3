{"version":3,"file":"GraduationPage-B6l6B4ht.js","sources":["../../src/page/cms/Graduation/GraduationPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../layout/Layout\";\r\nimport CmsDataTable from \"../components/CmsDataTable\";\r\nimport CmsModal from \"../components/CmsModal\";\r\nimport CmsForm from \"../components/CmsForm\";\r\nimport { motion } from \"framer-motion\";\r\nimport { FaGraduationCap, FaEdit, FaTrash } from \"react-icons/fa\";\r\n\r\nconst GraduationPage = () => {\r\n  const [graduations, setGraduations] = useState([]);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [modalType, setModalType] = useState(\"add\"); // \"add\" or \"edit\"\r\n  const [selectedGraduation, setSelectedGraduation] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // Mock data for demonstration\r\n  useEffect(() => {\r\n    // Simulate API call\r\n    setTimeout(() => {\r\n      setGraduations([\r\n        {\r\n          id: 1,\r\n          year: 2023,\r\n          totalStudents: 120,\r\n          description: \"Graduation ceremony for the class of 2023\",\r\n          date: \"2023-06-15\",\r\n          image: \"graduation2023.jpg\",\r\n        },\r\n        {\r\n          id: 2,\r\n          year: 2022,\r\n          totalStudents: 115,\r\n          description: \"Graduation ceremony for the class of 2022\",\r\n          date: \"2022-06-10\",\r\n          image: \"graduation2022.jpg\",\r\n        },\r\n        {\r\n          id: 3,\r\n          year: 2021,\r\n          totalStudents: 110,\r\n          description: \"Graduation ceremony for the class of 2021\",\r\n          date: \"2021-06-12\",\r\n          image: \"graduation2021.jpg\",\r\n        },\r\n      ]);\r\n      setIsLoading(false);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  const columns = [\r\n    {\r\n      header: \"Year\",\r\n      accessor: \"year\",\r\n    },\r\n    {\r\n      header: \"Total Students\",\r\n      accessor: \"totalStudents\",\r\n    },\r\n    {\r\n      header: \"Description\",\r\n      accessor: \"description\",\r\n    },\r\n    {\r\n      header: \"Date\",\r\n      accessor: \"date\",\r\n    },\r\n    {\r\n      header: \"Actions\",\r\n      accessor: \"actions\",\r\n      cell: (row) => (\r\n        <div className=\"d-flex gap-2\">\r\n          <button\r\n            className=\"btn btn-sm btn-outline-primary\"\r\n            onClick={() => handleEdit(row)}\r\n          >\r\n            <FaEdit />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-sm btn-outline-danger\"\r\n            onClick={() => handleDelete(row.id)}\r\n          >\r\n            <FaTrash />\r\n          </button>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const handleAdd = () => {\r\n    setModalType(\"add\");\r\n    setSelectedGraduation(null);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleEdit = (graduation) => {\r\n    setModalType(\"edit\");\r\n    setSelectedGraduation(graduation);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    if (\r\n      window.confirm(\"Are you sure you want to delete this graduation record?\")\r\n    ) {\r\n      // In a real app, you would call an API here\r\n      setGraduations(graduations.filter((graduation) => graduation.id !== id));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (formData) => {\r\n    if (modalType === \"add\") {\r\n      // In a real app, you would call an API here\r\n      const newGraduation = {\r\n        id: graduations.length + 1,\r\n        ...formData,\r\n      };\r\n      setGraduations([...graduations, newGraduation]);\r\n    } else {\r\n      // In a real app, you would call an API here\r\n      setGraduations(\r\n        graduations.map((graduation) =>\r\n          graduation.id === selectedGraduation.id\r\n            ? { ...graduation, ...formData }\r\n            : graduation\r\n        )\r\n      );\r\n    }\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  const formFields = [\r\n    {\r\n      name: \"year\",\r\n      label: \"Year\",\r\n      type: \"number\",\r\n      required: true,\r\n    },\r\n    {\r\n      name: \"totalStudents\",\r\n      label: \"Total Students\",\r\n      type: \"number\",\r\n      required: true,\r\n    },\r\n    {\r\n      name: \"description\",\r\n      label: \"Description\",\r\n      type: \"textarea\",\r\n      required: true,\r\n    },\r\n    {\r\n      name: \"date\",\r\n      label: \"Date\",\r\n      type: \"date\",\r\n      required: true,\r\n    },\r\n    {\r\n      name: \"image\",\r\n      label: \"Image URL\",\r\n      type: \"text\",\r\n      required: true,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"container-fluid py-3 py-md-4\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5 }}\r\n        >\r\n          <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n            <div className=\"d-flex align-items-center\">\r\n              <div className=\"bg-primary bg-opacity-10 p-3 rounded me-3\">\r\n                <FaGraduationCap className=\"text-primary fs-4\" />\r\n              </div>\r\n              <h4 className=\"mb-0\">Graduation</h4>\r\n            </div>\r\n            <button className=\"btn btn-primary\" onClick={handleAdd}>\r\n              Add New Graduation\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"card border-0 shadow-sm\">\r\n            <div className=\"card-body\">\r\n              <CmsDataTable\r\n                columns={columns}\r\n                data={graduations}\r\n                isLoading={isLoading}\r\n                noDataMessage=\"No graduation records found\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n\r\n      <CmsModal\r\n        isOpen={isModalOpen}\r\n        onClose={() => setIsModalOpen(false)}\r\n        title={modalType === \"add\" ? \"Add New Graduation\" : \"Edit Graduation\"}\r\n      >\r\n        <CmsForm\r\n          fields={formFields}\r\n          initialValues={selectedGraduation}\r\n          onSubmit={handleSubmit}\r\n          submitButtonText={\r\n            modalType === \"add\" ? \"Add Graduation\" : \"Update Graduation\"\r\n          }\r\n        />\r\n      </CmsModal>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default GraduationPage;\r\n"],"names":["GraduationPage","graduations","setGraduations","useState","isModalOpen","setIsModalOpen","modalType","setModalType","selectedGraduation","setSelectedGraduation","isLoading","setIsLoading","useEffect","setTimeout","id","year","totalStudents","description","date","image","columns","header","accessor","cell","row","jsxs","className","children","jsxRuntimeExports","jsx","onClick","handleEdit","FaEdit","handleDelete","FaTrash","graduation","window","confirm","filter","Layout","motion","div","initial","opacity","y","animate","transition","duration","FaGraduationCap","CmsDataTable","data","noDataMessage","CmsModal","isOpen","onClose","title","CmsForm","fields","name","label","type","required","initialValues","onSubmit","formData","newGraduation","length","map","submitButtonText"],"mappings":"4VAQA,MAAMA,EAAiB,KACrB,MAAOC,EAAaC,GAAkBC,EAAAA,SAAS,KACxCC,EAAaC,GAAkBF,EAAAA,UAAS,IACxCG,EAAWC,GAAgBJ,EAAAA,SAAS,QACpCK,EAAoBC,GAAyBN,EAAAA,SAAS,OACtDO,EAAWC,GAAgBR,EAAAA,UAAS,GAG3CS,EAAAA,WAAU,KAERC,YAAW,KACMX,EAAA,CACb,CACEY,GAAI,EACJC,KAAM,KACNC,cAAe,IACfC,YAAa,4CACbC,KAAM,aACNC,MAAO,sBAET,CACEL,GAAI,EACJC,KAAM,KACNC,cAAe,IACfC,YAAa,4CACbC,KAAM,aACNC,MAAO,sBAET,CACEL,GAAI,EACJC,KAAM,KACNC,cAAe,IACfC,YAAa,4CACbC,KAAM,aACNC,MAAO,wBAGXR,GAAa,EAAK,GACjB,IAAI,GACN,IAEH,MAAMS,EAAU,CACd,CACEC,OAAQ,OACRC,SAAU,QAEZ,CACED,OAAQ,iBACRC,SAAU,iBAEZ,CACED,OAAQ,cACRC,SAAU,eAEZ,CACED,OAAQ,OACRC,SAAU,QAEZ,CACED,OAAQ,UACRC,SAAU,UACVC,KAAOC,GACJC,EAAAA,KAAA,MAAA,CAAIC,UAAU,eACbC,SAAA,CAAAC,EAAAC,IAAC,SAAA,CACCH,UAAU,iCACVI,QAAS,IAAMC,EAAWP,GAE1BG,eAACK,EAAO,CAAA,KAEVJ,EAAAC,IAAC,SAAA,CACCH,UAAU,gCACVI,QAAS,IAAMG,EAAaT,EAAIV,IAEhCa,eAACO,EAAQ,CAAA,UAabH,EAAcI,IAClB5B,EAAa,QACbE,EAAsB0B,GACtB9B,GAAe,EAAI,EAGf4B,EAAgBnB,IAElBsB,OAAOC,QAAQ,4DAGfnC,EAAeD,EAAYqC,QAAQH,GAAeA,EAAWrB,KAAOA,IAAG,EA0D3E,cACGyB,EACC,CAAAZ,SAAA,GAACE,IAAA,MAAA,CAAIH,UAAU,+BACbC,SAAAC,EAAAH,KAACe,EAAOC,IAAP,CACCC,QAAS,CAAEC,QAAS,EAAGC,EAAG,IAC1BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,GAC1BE,WAAY,CAAEC,SAAU,IAExBpB,SAAA,GAACF,KAAA,MAAA,CAAIC,UAAU,yDACbC,SAAA,GAACF,KAAA,MAAA,CAAIC,UAAU,4BACbC,SAAA,CAAAE,EAAAA,IAAC,OAAIH,UAAU,4CACbC,eAACqB,EAAgB,CAAAtB,UAAU,wBAE5BG,EAAAA,IAAA,KAAA,CAAGH,UAAU,OAAOC,SAAU,wBAEhC,SAAO,CAAAD,UAAU,kBAAkBI,QA1F5B,KAChBvB,EAAa,OACbE,EAAsB,MACtBJ,GAAe,EAAI,EAuF6CsB,SAExD,gCAGD,MAAI,CAAAD,UAAU,0BACbC,eAAC,MAAA,CAAID,UAAU,YACbC,SAAAC,EAAAC,IAACoB,EAAA,CACC7B,UACA8B,KAAMjD,EACNS,YACAyC,cAAc,yCAOxBvB,EAAAC,IAACuB,EAAA,CACCC,OAAQjD,EACRkD,QAAS,IAAMjD,GAAe,GAC9BkD,MAAqB,QAAdjD,EAAsB,qBAAuB,kBAEpDqB,SAAAC,EAAAC,IAAC2B,EAAA,CACCC,OAxEW,CACjB,CACEC,KAAM,OACNC,MAAO,OACPC,KAAM,SACNC,UAAU,GAEZ,CACEH,KAAM,gBACNC,MAAO,iBACPC,KAAM,SACNC,UAAU,GAEZ,CACEH,KAAM,cACNC,MAAO,cACPC,KAAM,WACNC,UAAU,GAEZ,CACEH,KAAM,OACNC,MAAO,OACPC,KAAM,OACNC,UAAU,GAEZ,CACEH,KAAM,QACNC,MAAO,YACPC,KAAM,OACNC,UAAU,IA4CNC,cAAetD,EACfuD,SA/FcC,IACpB,GAAkB,QAAd1D,EAAqB,CAEvB,MAAM2D,EAAgB,CACpBnD,GAAIb,EAAYiE,OAAS,KACtBF,GAEL9D,EAAe,IAAID,EAAagE,GAAc,MAG9C/D,EACED,EAAYkE,KAAKhC,GACfA,EAAWrB,KAAON,EAAmBM,GACjC,IAAKqB,KAAe6B,GACpB7B,KAIV9B,GAAe,EAAK,EA8Ed+D,iBACgB,QAAd9D,EAAsB,iBAAmB,0BAIjD"}