import{j as s,f as e,c as a}from"./index-UtUjlGfV.js";import"./vendor-CAuU4qY4.js";import{L as l}from"./Layout-CqHt2JMF.js";import{C as d,A as i,p as t,a as r,b as n,L as c,B as h,c as o,P as x,d as j}from"./index-CfkcB9dx.js";import{G as m}from"./GeographicalDistribution-DYzhBI6h.js";d.register(i,t,r,n,c,h,o);const v=({studentDemographics:e})=>{var a,l,d;return s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-md-",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Data Demografis Siswa"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-6",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Informasi"}),s.jsx("th",{children:"Jumlah"}),s.jsx("th",{children:"Persentase"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Total Siswa"}),s.jsx("td",{children:parseInt(null==e?void 0:e.total_students)||0}),s.jsx("td",{children:"100%"})]},"total"),s.jsxs("tr",{children:[s.jsx("td",{children:"Laki-laki"}),s.jsx("td",{children:parseInt(null==e?void 0:e.male_count)||0}),s.jsxs("td",{children:[((parseInt(null==e?void 0:e.male_count)||0)/(parseInt(null==e?void 0:e.total_students)||1)*100).toFixed(1),"%"]})]},"male"),s.jsxs("tr",{children:[s.jsx("td",{children:"Perempuan"}),s.jsx("td",{children:parseInt(null==e?void 0:e.female_count)||0}),s.jsxs("td",{children:[((parseInt(null==e?void 0:e.female_count)||0)/(parseInt(null==e?void 0:e.total_students)||1)*100).toFixed(1),"%"]})]},"female"),s.jsxs("tr",{children:[s.jsx("td",{children:"Rentang Usia"}),s.jsxs("td",{colSpan:"2",children:[(null==e?void 0:e.min_age)||0," -"," ",(null==e?void 0:e.max_age)||0," Tahun"]})]},"age_range")]})]})})}),s.jsx("div",{className:"col-md-6 d-flex align-items-center justify-content-center",children:s.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:s.jsx(x,{data:{labels:["Laki-laki","Perempuan"],datasets:[{data:[parseInt(null==e?void 0:e.male_count)||0,parseInt(null==e?void 0:e.female_count)||0],backgroundColor:["rgba(54, 162, 235, 0.8)","rgba(255, 99, 132, 0.8)"],borderColor:["rgba(54, 162, 235, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]}),s.jsxs("div",{className:"row mt-4",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("h6",{className:"mb-3",children:"Distribusi Usia"}),s.jsx("div",{style:{height:"300px",position:"relative"},children:s.jsx(j,{data:{labels:(null==(a=null==e?void 0:e.age_distribution)?void 0:a.map((s=>s.age_group)))||[],datasets:[{label:"Jumlah Siswa",data:(null==(l=null==e?void 0:e.age_distribution)?void 0:l.map((s=>s.count)))||[],backgroundColor:"rgba(54, 162, 235, 0.8)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Distribusi Usia Siswa"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Jumlah Siswa"}},x:{title:{display:!0,text:"Usia (Tahun)"}}}}})})]}),s.jsx("div",{className:"col-md-6",children:s.jsx("div",{className:"table-responsive mt-4",children:s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Rentang Usia (Tahun)"}),s.jsx("th",{children:"Jumlah Siswa"}),s.jsx("th",{children:"Persentase"})]})}),s.jsx("tbody",{children:null==(d=null==e?void 0:e.age_distribution)?void 0:d.map(((a,l)=>s.jsxs("tr",{children:[s.jsx("td",{children:a.age_group}),s.jsx("td",{children:a.count}),s.jsxs("td",{children:[((a.count||0)/(parseInt(null==e?void 0:e.total_students)||1)*100).toFixed(1),"%"]})]},l)))})]})})})]})]})]})})})},u=({entryStats:e,studentDemographics:a,entryChartOptions:l})=>s.jsx("div",{className:"col-md-6 mt-4",children:s.jsxs("div",{className:"card h-100",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Distribusi Siswa per Tahun Masuk"})}),s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"d-flex align-items-center justify-content-center h-50",children:s.jsx(j,{data:{labels:(null==e?void 0:e.map((s=>s.entry_name)))||[],datasets:[{label:"Jumlah Siswa",data:(null==e?void 0:e.map((s=>parseInt(s.student_count)||0)))||[],backgroundColor:"rgba(54, 162, 235, 0.8)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:l})}),s.jsx("div",{className:"table-responsive mt-4",children:s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Tahun Masuk"}),s.jsx("th",{children:"Jumlah Siswa"}),s.jsx("th",{children:"Persentase"})]})}),s.jsx("tbody",{children:(e||[]).map(((e,l)=>s.jsxs("tr",{children:[s.jsx("td",{children:e.entry_name}),s.jsx("td",{children:parseInt(e.student_count)||0}),s.jsxs("td",{children:[((parseInt(e.student_count)||0)/(parseInt(null==a?void 0:a.total_students)||1)*100).toFixed(1),"%"]})]},l)))})]})})]})]})}),b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}},p=({familyStats:e,studentDemographics:a})=>{const l={labels:["Data Ayah","Data Ibu","Pekerjaan Ayah","Pekerjaan Ibu","Kontak Ayah","Kontak Ibu"],datasets:[{label:"Jumlah Siswa",data:[parseInt(null==e?void 0:e.with_father_info)||0,parseInt(null==e?void 0:e.with_mother_info)||0,parseInt(null==e?void 0:e.with_father_job)||0,parseInt(null==e?void 0:e.with_mother_job)||0,parseInt(null==e?void 0:e.with_father_phone)||0,parseInt(null==e?void 0:e.with_mother_phone)||0],backgroundColor:["rgba(54, 162, 235, 0.5)","rgba(255, 99, 132, 0.5)","rgba(75, 192, 192, 0.5)","rgba(255, 206, 86, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)"],borderColor:["rgba(54, 162, 235, 1)","rgba(255, 99, 132, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},d=parseInt(null==a?void 0:a.total_students)||0;return s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-md-12",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Informasi Keluarga Siswa"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-6",children:s.jsx("div",{style:{height:"300px",position:"relative"},children:s.jsx(j,{data:l,options:b})})}),s.jsx("div",{className:"col-md-6",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-striped table-bordered",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Informasi"}),s.jsx("th",{children:"Jumlah"}),s.jsx("th",{children:"Persentase"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Data Ayah"}),s.jsx("td",{children:parseInt(null==e?void 0:e.with_father_info)||0}),s.jsxs("td",{children:[((parseInt(null==e?void 0:e.with_father_info)||0)/d*100).toFixed(1),"%"]})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Data Ibu"}),s.jsx("td",{children:parseInt(null==e?void 0:e.with_mother_info)||0}),s.jsxs("td",{children:[((parseInt(null==e?void 0:e.with_mother_info)||0)/d*100).toFixed(1),"%"]})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Pekerjaan Ayah"}),s.jsx("td",{children:parseInt(null==e?void 0:e.with_father_job)||0}),s.jsxs("td",{children:[((parseInt(null==e?void 0:e.with_father_job)||0)/d*100).toFixed(1),"%"]})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Pekerjaan Ibu"}),s.jsx("td",{children:parseInt(null==e?void 0:e.with_mother_job)||0}),s.jsxs("td",{children:[((parseInt(null==e?void 0:e.with_mother_job)||0)/d*100).toFixed(1),"%"]})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Kontak Ayah"}),s.jsx("td",{children:parseInt(null==e?void 0:e.with_father_phone)||0}),s.jsxs("td",{children:[((parseInt(null==e?void 0:e.with_father_phone)||0)/d*100).toFixed(1),"%"]})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Kontak Ibu"}),s.jsx("td",{children:parseInt(null==e?void 0:e.with_mother_phone)||0}),s.jsxs("td",{children:[((parseInt(null==e?void 0:e.with_mother_phone)||0)/d*100).toFixed(1),"%"]})]})]})]})})})]})})]})})})};d.register(i,t,r,n,c,h,o);const N=()=>{const{data:d,isLoading:i,error:t}=e();if(a((s=>s.auth)),i)return s.jsx(l,{title:"Admin Dashboard",children:s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"50vh"},children:s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})})})});if(t)return s.jsx(l,{title:"Admin Dashboard",children:s.jsxs("div",{className:"alert alert-danger",role:"alert",children:[s.jsx("h4",{className:"alert-heading",children:"Error!"}),s.jsx("p",{children:"Failed to load dashboard data. Please try again later."}),s.jsx("hr",{}),s.jsxs("p",{className:"mb-0",children:["Error details: ",t.message]})]})});const{basicStats:r,studentsPerGrade:n,teacherComposition:c,examStats:h,learningStats:o,recentActivities:x,homebaseStats:j,activityLogs:b,studentDemographics:N,geographicalDistribution:_,familyStats:g,entryStats:y}=d||{};return s.jsx(l,{title:"Admin Dashboard",levels:["center"],children:s.jsxs("div",{className:"container-fluid",children:[s.jsxs("div",{className:"row mb-4",children:[s.jsx("div",{className:"col-md-3",children:s.jsx("div",{className:"card bg-primary text-white",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h5",{className:"card-title",children:"Total Students"}),s.jsx("h2",{className:"card-text",children:(null==r?void 0:r.total_students)||0})]})})}),s.jsx("div",{className:"col-md-3",children:s.jsx("div",{className:"card bg-success text-white",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h5",{className:"card-title",children:"Total Teachers"}),s.jsx("h2",{className:"card-text",children:(null==r?void 0:r.total_teachers)||0})]})})}),s.jsx("div",{className:"col-md-3",children:s.jsx("div",{className:"card bg-info text-white",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h5",{className:"card-title",children:"Total Classes"}),s.jsx("h2",{className:"card-text",children:(null==r?void 0:r.total_classes)||0})]})})}),s.jsx("div",{className:"col-md-3",children:s.jsx("div",{className:"card bg-warning text-white",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h5",{className:"card-title",children:"Total Homebase"}),s.jsx("h2",{className:"card-text",children:(null==r?void 0:r.total_homebase)||0})]})})})]}),s.jsx(v,{studentDemographics:N}),s.jsxs("div",{className:"row mb-3",children:[s.jsx(m,{data:_}),s.jsx(u,{entryStats:y,studentDemographics:N})]}),s.jsx(p,{familyStats:g,studentDemographics:N}),s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-md-12",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Statistik Homebase"})}),s.jsx("div",{className:"card-body",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Homebase"}),s.jsx("th",{children:"Students"}),s.jsx("th",{children:"Teachers"}),s.jsx("th",{children:"Classes"}),s.jsx("th",{children:"Subjects"})]})}),s.jsx("tbody",{children:null==j?void 0:j.map((e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.homebase_name}),s.jsx("td",{children:e.total_students}),s.jsx("td",{children:e.total_teachers}),s.jsx("td",{children:e.total_classes}),s.jsx("td",{children:e.total_subjects})]},e.homebase_name)))})]})})})]})})}),s.jsxs("div",{className:"row mb-4",children:[s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Students by Grade"})}),s.jsx("div",{className:"card-body",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Grade"}),s.jsx("th",{children:"Total Students"}),s.jsx("th",{children:"Male"}),s.jsx("th",{children:"Female"})]})}),s.jsx("tbody",{children:null==n?void 0:n.map((e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.grade_name}),s.jsx("td",{children:e.total_students}),s.jsx("td",{children:e.male_count}),s.jsx("td",{children:e.female_count})]},e.grade_name)))})]})})})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Teacher Composition"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("h6",{children:"Gender Distribution"}),s.jsxs("p",{children:["Male: ",(null==c?void 0:c.male_count)||0]}),s.jsxs("p",{children:["Female: ",(null==c?void 0:c.female_count)||0]})]}),s.jsxs("div",{className:"col-md-6",children:[s.jsx("h6",{children:"Homeroom Teachers"}),s.jsxs("p",{children:["Total: ",(null==c?void 0:c.homeroom_count)||0]})]})]})})]})})]}),s.jsxs("div",{className:"row mb-4",children:[s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Learning Materials"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-4",children:[s.jsx("h6",{children:"Chapters"}),s.jsx("p",{children:(null==o?void 0:o.total_chapters)||0})]}),s.jsxs("div",{className:"col-md-4",children:[s.jsx("h6",{children:"Contents"}),s.jsx("p",{children:(null==o?void 0:o.total_contents)||0})]}),s.jsxs("div",{className:"col-md-4",children:[s.jsx("h6",{children:"Files"}),s.jsx("p",{children:(null==o?void 0:o.total_files)||0})]})]})})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Exam Statistics"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-4",children:[s.jsx("h6",{children:"Total Exams"}),s.jsx("p",{children:(null==h?void 0:h.total_exams)||0})]}),s.jsxs("div",{className:"col-md-4",children:[s.jsx("h6",{children:"Active Exams"}),s.jsx("p",{children:(null==h?void 0:h.active_exams)||0})]}),s.jsxs("div",{className:"col-md-4",children:[s.jsx("h6",{children:"Teachers"}),s.jsx("p",{children:(null==h?void 0:h.teacher_count)||0})]})]})})]})})]}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-md-12",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Recent Activities"})}),s.jsx("div",{className:"card-body",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Title"}),s.jsx("th",{children:"Teacher"}),s.jsx("th",{children:"Date"})]})}),s.jsx("tbody",{children:null==x?void 0:x.map((e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.type}),s.jsx("td",{children:e.title}),s.jsx("td",{children:e.teacher_name}),s.jsx("td",{children:new Date(e.createdat).toLocaleDateString()})]},e.id)))})]})})})]})})})]})})};export{N as default};
//# sourceMappingURL=CenterDash-CHCH3Msp.js.map
