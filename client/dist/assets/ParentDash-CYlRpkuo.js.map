{"version":3,"file":"ParentDash-CYlRpkuo.js","sources":["../../src/page/parent/dashboard/ParentDash.jsx"],"sourcesContent":["import React from \"react\";\r\nimport Layout from \"../../../components/layout/Layout\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useGetParentDashboardQuery } from \"../../../controller/api/dashboard/ApiDashboard\";\r\nimport LoadingScreen from \"../../../components/loader/LoadingScreen\";\r\nimport {\r\n  FaGraduationCap,\r\n  FaQuran,\r\n  FaBell,\r\n  FaUserGraduate,\r\n} from \"react-icons/fa\";\r\n\r\n// Custom styles for parent dashboard\r\nconst dashboardStyles = `\r\n  .parent-dashboard .card {\r\n    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\r\n    border: none;\r\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  }\r\n  \r\n  .parent-dashboard .card:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 4px 8px rgba(0,0,0,0.15);\r\n  }\r\n  \r\n  .parent-dashboard .card-header {\r\n    border-bottom: none;\r\n    font-weight: 600;\r\n  }\r\n  \r\n  .parent-dashboard .progress {\r\n    border-radius: 10px;\r\n    background-color: #f8f9fa;\r\n  }\r\n  \r\n  .parent-dashboard .progress-bar {\r\n    border-radius: 10px;\r\n    font-size: 0.75rem;\r\n    font-weight: 600;\r\n  }\r\n  \r\n  .parent-dashboard .badge {\r\n    font-size: 0.75rem;\r\n    padding: 0.5em 0.75em;\r\n  }\r\n  \r\n  .parent-dashboard .timeline .d-flex:not(:last-child) {\r\n    border-bottom: 1px solid #f8f9fa;\r\n    padding-bottom: 1rem;\r\n  }\r\n  \r\n  .parent-dashboard .list-group-item {\r\n    border: none;\r\n    padding: 0.75rem 0;\r\n  }\r\n  \r\n  .parent-dashboard .list-group-item:not(:last-child) {\r\n    border-bottom: 1px solid #f8f9fa;\r\n  }\r\n  \r\n  @media (max-width: 768px) {\r\n    .parent-dashboard .card-body {\r\n      padding: 1rem;\r\n    }\r\n    \r\n    .parent-dashboard .table-responsive {\r\n      font-size: 0.875rem;\r\n    }\r\n    \r\n    .parent-dashboard .badge {\r\n      font-size: 0.7rem;\r\n      padding: 0.4em 0.6em;\r\n    }\r\n  }\r\n  \r\n  @media (max-width: 576px) {\r\n    .parent-dashboard .col-md-3 {\r\n      margin-bottom: 1rem;\r\n    }\r\n    \r\n    .parent-dashboard .card-title {\r\n      font-size: 0.875rem;\r\n    }\r\n    \r\n    .parent-dashboard h3 {\r\n      font-size: 1.5rem;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ParentDash = () => {\r\n  const { user } = useSelector((state) => state.auth);\r\n  const {\r\n    data: dashboardData,\r\n    isLoading,\r\n    error,\r\n  } = useGetParentDashboardQuery();\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString(\"id-ID\", {\r\n      day: \"numeric\",\r\n      month: \"long\",\r\n      year: \"numeric\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    });\r\n  };\r\n\r\n  if (isLoading) return <LoadingScreen />;\r\n  if (error)\r\n    return (\r\n      <Layout title=\"Dashboard\" levels={\"parent\"}>\r\n        <div className=\"alert alert-danger\">Error loading dashboard data</div>\r\n      </Layout>\r\n    );\r\n\r\n  return (\r\n    <Layout title=\"Dashboard\" levels={\"parent\"}>\r\n      <style>{dashboardStyles}</style>\r\n      <div className=\"container-fluid parent-dashboard\">\r\n        {/* Welcome Section */}\r\n        <div className=\"row mb-4\">\r\n          <div className=\"col-12\">\r\n            <div className=\"card bg-primary text-white\">\r\n              <div className=\"card-body\">\r\n                <div className=\"row align-items-center\">\r\n                  <div className=\"col-md-8\">\r\n                    <h4 className=\"mb-2\">\r\n                      <FaUserGraduate className=\"me-2\" />\r\n                      Selamat Datang, {user?.name}\r\n                    </h4>\r\n                    <p className=\"mb-0\">\r\n                      Pantau perkembangan akademik dan aktivitas anak-anak Anda\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"col-md-4 text-md-end\">\r\n                    <div className=\"d-flex align-items-center justify-content-md-end\">\r\n                      <FaBell className=\"me-2\" />\r\n                      <span>Dashboard Wali Murid</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Children Overview Cards */}\r\n        {user?.student && (\r\n          <div className=\"row mb-4\">\r\n            <div className=\"col-12\">\r\n              <h5 className=\"mb-3\">\r\n                <FaGraduationCap className=\"me-2\" />\r\n                Informasi Anak\r\n              </h5>\r\n            </div>\r\n            <div className=\"col-lg-6 col-xl-4 mb-3\">\r\n              <div className=\"card h-100 border-primary\">\r\n                <div className=\"card-header bg-primary text-white\">\r\n                  <h6 className=\"mb-0\">\r\n                    <FaUserGraduate className=\"me-2\" />\r\n                    {user.student}\r\n                  </h6>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6\">\r\n                      <small className=\"text-muted\">NIS</small>\r\n                      <p className=\"mb-1 fw-bold\">{user.nis || \"-\"}</p>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      <small className=\"text-muted\">Kelas</small>\r\n                      <p className=\"mb-1 fw-bold\">{user.class || \"-\"}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6\">\r\n                      <small className=\"text-muted\">Tingkat</small>\r\n                      <p className=\"mb-1 fw-bold\">{user.grade || \"-\"}</p>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      <small className=\"text-muted\">Jurusan</small>\r\n                      <p className=\"mb-1 fw-bold\">{user.major || \"-\"}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mt-2\">\r\n                    <span\r\n                      className={`badge ${\r\n                        user.periode_active ? \"bg-success\" : \"bg-warning\"\r\n                      }`}\r\n                    >\r\n                      {user.periode_name || \"-\"}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Quran Progress */}\r\n        {dashboardData?.quranProgress &&\r\n          dashboardData.quranProgress.length > 0 && (\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-success text-white\">\r\n                    <h6 className=\"mb-0\">\r\n                      <FaQuran className=\"me-2\" />\r\n                      Progress Tahfiz Al-Quran\r\n                    </h6>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"row\">\r\n                      {dashboardData.quranProgress.map((progress, index) => (\r\n                        <div key={index} className=\"col-md-6 col-lg-4 mb-3\">\r\n                          <div className=\"card border-success\">\r\n                            <div className=\"card-body text-center\">\r\n                              <h6 className=\"card-title\">\r\n                                {progress.student_name}\r\n                              </h6>\r\n                              <p className=\"text-muted small\">\r\n                                {progress.grade_name} {progress.class_name}\r\n                              </p>\r\n                              <div className=\"row text-center\">\r\n                                <div className=\"col-6\">\r\n                                  <h4 className=\"text-success\">\r\n                                    {progress.completed_juz || 0}\r\n                                  </h4>\r\n                                  <small className=\"text-muted\">\r\n                                    Juz Selesai\r\n                                  </small>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                  <h4 className=\"text-primary\">\r\n                                    {progress.completed_surah || 0}\r\n                                  </h4>\r\n                                  <small className=\"text-muted\">\r\n                                    Surah Selesai\r\n                                  </small>\r\n                                </div>\r\n                              </div>\r\n                              {progress.last_activity && (\r\n                                <small className=\"text-muted d-block mt-2\">\r\n                                  Aktivitas terakhir:{\" \"}\r\n                                  {formatDate(progress.last_activity)}\r\n                                </small>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ParentDash;\r\n"],"names":["ParentDash","user","useSelector","state","auth","data","dashboardData","isLoading","error","useGetParentDashboardQuery","jsx","LoadingScreen","Layout","title","levels","children","className","jsxs","FaUserGraduate","name","FaBell","student","FaGraduationCap","nis","class","grade","major","jsxRuntimeExports","periode_active","periode_name","quranProgress","length","FaQuran","map","progress","index","student_name","grade_name","class_name","completed_juz","completed_surah","last_activity","dateString","Date","toLocaleDateString","day","month","year","hour","minute"],"mappings":"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"}