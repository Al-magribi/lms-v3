import{aq as e,l as s,at as a,j as t,F as r,a as i,r as l,m as n,as as d,b as c,c as o,D as m,$ as j,au as x,R as h,C as u,h as p,x as g}from"./index-uqXiPZaM.js";import{c as f}from"./vendor-DTs43g_X.js";import{G as b,R as y}from"./FallOutlined-DU1OZrGY.js";import{S as v,E as I}from"./Pagination-CcDshGE9.js";import{A as S}from"./index-7mhCT5El.js";import{R as k}from"./ReadOutlined-B2SKpySL.js";import{R as F}from"./TeamOutlined-CFCiYsuV.js";import{R as z}from"./CalendarOutlined-Chrjrg9V.js";import{C as A}from"./Collapse-COadr64i.js";import{L as T}from"./index-BG1UhwPk.js";import{S as w}from"./index-CSBJDs9d.js";import{R as O}from"./BookOutlined-CNrhxhO_.js";const{Title:R,Text:B,Paragraph:C}=l,{useBreakpoint:L}=b,P=({detail:e})=>{const s=e?.[0]?.attendance||[],a=e?.[1]?.attitude||[],r=e?.[2]||{summative:[],formative:[]};return t.jsxs(h,{gutter:[16,16],children:[t.jsx(u,{xs:24,md:12,lg:6,children:t.jsx(i,{size:"small",title:"Attendance",children:t.jsx(T,{dataSource:s,renderItem:e=>{const s=Object.keys(e)[0],a=e[s];return t.jsxs(T.Item,{children:[t.jsx(B,{style:{textTransform:"capitalize"},children:s}),t.jsx(B,{strong:!0,children:"presentase"===s?`${a}%`:a})]})}})})}),t.jsx(u,{xs:24,md:12,lg:6,children:t.jsx(i,{size:"small",title:"Attitude",children:t.jsx(T,{dataSource:a,renderItem:e=>{const s=Object.keys(e)[0],a=e[s];return t.jsxs(T.Item,{children:[t.jsx(B,{style:{textTransform:"capitalize"},children:s}),t.jsx(w,{value:a,precision:2,valueStyle:{fontSize:"1rem"}})]})}})})}),t.jsx(u,{xs:24,md:12,lg:8,children:t.jsx(i,{size:"small",title:"Summative",children:t.jsx(T,{dataSource:r.summative,renderItem:e=>{const s=Object.keys(e)[0],a=e[s];return t.jsxs(T.Item,{children:[t.jsx(B,{style:{textTransform:"capitalize"},children:s}),t.jsx(w,{value:a,precision:2,valueStyle:{fontSize:"1rem"}})]})}})})}),t.jsx(u,{xs:24,md:12,lg:4,children:t.jsx(i,{size:"small",title:"Formative",children:t.jsx(T,{dataSource:r.formative,renderItem:e=>t.jsx(T.Item,{children:e}),locale:{emptyText:"-"}})})})]})},D=()=>{const l=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],h=l.map(e=>({label:e,value:e})),[u,p]=f.useState(null),{user:g}=e(e=>e.auth),[b]=s.useForm(),D=g?.student_id,K=g?.periode;f.useEffect(()=>{const e=(new Date).getMonth(),s=l[0===e?11:e-1];p(s),b.setFieldsValue({month:s})},[g,b]);const{data:$,error:G,isFetching:N}=a({studentId:D,month:u,periode:K},{skip:!D||!u||!K}),J=L(),M=$?.[0],E=e=>t.jsx(T,{itemLayout:"vertical",dataSource:e,renderItem:e=>t.jsx(T.Item,{children:t.jsxs(i,{bordered:!1,children:[t.jsxs(r,{justify:"space-between",align:"center",wrap:"wrap",gap:"small",children:[t.jsxs("div",{children:[t.jsx(R,{level:5,style:{marginBottom:0},children:e.name}),t.jsxs(B,{type:"secondary",children:[t.jsx(c,{})," Guru: ",e.teacher]})]}),t.jsx(w,{title:"Nilai Akhir",value:e.score,precision:2,valueStyle:{color:e.score>=75?"#3f8600":"#cf1322"},prefix:e.score>=75?t.jsx(x,{}):t.jsx(y,{})})]}),e.chapters&&e.chapters.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs(m,{orientation:"left",plain:!0,children:[t.jsx(O,{})," Chapter Bulan Ini"]}),t.jsx(T,{size:"small",dataSource:e.chapters,renderItem:e=>t.jsx(T.Item,{children:e.name})})]}),t.jsx(m,{orientation:"left",plain:!0,children:"Detail Penilaian"}),t.jsx(P,{detail:e.detail}),e.note&&t.jsxs(t.Fragment,{children:[t.jsx(m,{orientation:"left",plain:!0,children:"Catatan Guru"}),t.jsxs(C,{italic:!0,children:['"',e.note,'"']})]})]})},`${e.name}-${e.teacher}`)});return t.jsxs(r,{vertical:!0,gap:"large",children:[t.jsx(i,{children:t.jsx(s,{form:b,layout:"vertical",children:t.jsx(s.Item,{name:"month",label:t.jsx(R,{level:4,style:{margin:0},children:"Pilih Bulan Laporan"}),children:t.jsx(v,{placeholder:"Pilih Bulan",onChange:e=>p(e),options:h})})})}),N&&t.jsx("div",{style:{textAlign:"center",marginTop:50},children:t.jsx(n,{size:"large"})}),G&&t.jsx(S,{message:"Terjadi Kesalahan",description:G?.data?.message||"Gagal memuat data.",type:"error",showIcon:!0}),!N&&M&&t.jsxs(i,{children:[t.jsxs(d,{bordered:!0,column:J.md?2:1,size:"small",children:[t.jsx(d.Item,{label:t.jsxs(t.Fragment,{children:[t.jsx(c,{})," Nama Siswa"]}),span:2,children:t.jsxs(B,{strong:!0,children:[M.name," (",M.nis,")"]})}),t.jsx(d.Item,{label:t.jsxs(t.Fragment,{children:[t.jsx(o,{})," Homebase"]}),children:M.homebase}),t.jsxs(d.Item,{label:t.jsxs(t.Fragment,{children:[t.jsx(k,{})," Kelas"]}),children:[M.grade," - ",M.class]}),t.jsx(d.Item,{label:t.jsxs(t.Fragment,{children:[t.jsx(F,{})," Wali Kelas"]}),children:M.teacher_homeroom}),t.jsx(d.Item,{label:t.jsxs(t.Fragment,{children:[t.jsx(z,{})," Periode Laporan"]}),children:t.jsxs(B,{strong:!0,children:[M.periode," - ",M.month]})})]}),t.jsx(m,{}),t.jsx(A,{accordion:!0,defaultActiveKey:["0"],ghost:!0,items:M.category.map((e,s)=>({key:s,label:t.jsx(R,{level:5,children:e.name}),children:"Diniyah"===e.name&&e.branch?t.jsx(A,{items:e.branch.map((e,s)=>({key:s,label:t.jsxs(r,{justify:"space-between",style:{width:"100%"},children:[t.jsx(B,{strong:!0,children:e.name}),t.jsxs(j,{color:"blue",children:["Rata-rata Nilai: ",e.score]})]}),children:E(e.subjects)}))}):E(e.subjects)}))})]}),!N&&!M&&u&&!G&&t.jsx(i,{children:t.jsx(I,{description:"Data laporan untuk bulan yang dipilih tidak tersedia."})})]})},K=()=>t.jsx(S,{type:"info",showIcon:!0,message:"Laporan Semester",description:"Halaman ini masih dalam tahap pengembangan"}),$=()=>{const{user:s}=e(e=>e.auth),a=[{label:"Bulanan",key:"1",children:t.jsx(D,{})},{label:"Semester",key:"2",children:t.jsx(K,{})}];return t.jsxs(p,{title:"Laporan Akademik",levels:["parent"],children:[t.jsx(l.Title,{level:5,children:`Laporan Akademik ${s?.student}`}),t.jsx(g,{centered:!0,defaultActiveKey:"1",items:a})]})};export{$ as default};
//# sourceMappingURL=ParentAcademic-DNNR-34P.js.map
