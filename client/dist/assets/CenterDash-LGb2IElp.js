import{j as s,K as e,b as a}from"./index-DFhdulld.js";import"./vendor-CnnDPxwB.js";import{L as l}from"./Layout-GZnRoUIy.js";import{C as d,A as i,p as t,a as r,b as c,L as n,B as h,c as o,P as x,d as m}from"./index-BQoB5aE1.js";import{G as j}from"./GeographicalDistribution-C75CkyeV.js";import"./index-B8CuzAwO.js";import"./index-g0LoU_Ie.js";d.register(i,t,r,c,n,h,o);const u=({studentDemographics:e})=>{var a,l,d;return s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-md-",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Data Demografis Siswa"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-6",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Informasi"}),s.jsx("th",{children:"Jumlah"}),s.jsx("th",{children:"Persentase"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Total Siswa"}),s.jsx("td",{children:parseInt(null==e?void 0:e.total_students)||0}),s.jsx("td",{children:"100%"})]},"total"),s.jsxs("tr",{children:[s.jsx("td",{children:"Laki-laki"}),s.jsx("td",{children:parseInt(null==e?void 0:e.male_count)||0}),s.jsxs("td",{children:[((parseInt(null==e?void 0:e.male_count)||0)/(parseInt(null==e?void 0:e.total_students)||1)*100).toFixed(1),"%"]})]},"male"),s.jsxs("tr",{children:[s.jsx("td",{children:"Perempuan"}),s.jsx("td",{children:parseInt(null==e?void 0:e.female_count)||0}),s.jsxs("td",{children:[((parseInt(null==e?void 0:e.female_count)||0)/(parseInt(null==e?void 0:e.total_students)||1)*100).toFixed(1),"%"]})]},"female"),s.jsxs("tr",{children:[s.jsx("td",{children:"Rentang Usia"}),s.jsxs("td",{colSpan:"2",children:[(null==e?void 0:e.min_age)||0," -"," ",(null==e?void 0:e.max_age)||0," Tahun"]})]},"age_range")]})]})})}),s.jsx("div",{className:"col-md-6 d-flex align-items-center justify-content-center",children:s.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:s.jsx(x,{data:{labels:["Laki-laki","Perempuan"],datasets:[{data:[parseInt(null==e?void 0:e.male_count)||0,parseInt(null==e?void 0:e.female_count)||0],backgroundColor:["rgba(54, 162, 235, 0.8)","rgba(255, 99, 132, 0.8)"],borderColor:["rgba(54, 162, 235, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]}),s.jsxs("div",{className:"row mt-4",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("h6",{className:"mb-3",children:"Distribusi Usia"}),s.jsx("div",{style:{height:"300px",position:"relative"},children:s.jsx(m,{data:{labels:(null==(a=null==e?void 0:e.age_distribution)?void 0:a.map((s=>s.age_group)))||[],datasets:[{label:"Jumlah Siswa",data:(null==(l=null==e?void 0:e.age_distribution)?void 0:l.map((s=>s.count)))||[],backgroundColor:"rgba(54, 162, 235, 0.8)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Distribusi Usia Siswa"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Jumlah Siswa"}},x:{title:{display:!0,text:"Usia (Tahun)"}}}}})})]}),s.jsx("div",{className:"col-md-6",children:s.jsx("div",{className:"table-responsive mt-4",children:s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Rentang Usia (Tahun)"}),s.jsx("th",{children:"Jumlah Siswa"}),s.jsx("th",{children:"Persentase"})]})}),s.jsx("tbody",{children:null==(d=null==e?void 0:e.age_distribution)?void 0:d.map(((a,l)=>s.jsxs("tr",{children:[s.jsx("td",{children:a.age_group}),s.jsx("td",{children:a.count}),s.jsxs("td",{children:[((a.count||0)/(parseInt(null==e?void 0:e.total_students)||1)*100).toFixed(1),"%"]})]},l)))})]})})})]})]})]})})})},v=({entryStats:e,studentDemographics:a,entryChartOptions:l})=>s.jsx("div",{className:"col-md-6 mt-4",children:s.jsxs("div",{className:"card h-100",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Distribusi Siswa per Tahun Masuk"})}),s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"d-flex align-items-center justify-content-center h-50",children:s.jsx(m,{data:{labels:(null==e?void 0:e.map((s=>s.entry_name)))||[],datasets:[{label:"Jumlah Siswa",data:(null==e?void 0:e.map((s=>parseInt(s.student_count)||0)))||[],backgroundColor:"rgba(54, 162, 235, 0.8)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:l})}),s.jsx("div",{className:"table-responsive mt-4",children:s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Tahun Masuk"}),s.jsx("th",{children:"Jumlah Siswa"}),s.jsx("th",{children:"Persentase"})]})}),s.jsx("tbody",{children:(e||[]).map(((e,l)=>s.jsxs("tr",{children:[s.jsx("td",{children:e.entry_name}),s.jsx("td",{children:parseInt(e.student_count)||0}),s.jsxs("td",{children:[((parseInt(e.student_count)||0)/(parseInt(null==a?void 0:a.total_students)||1)*100).toFixed(1),"%"]})]},l)))})]})})]})]})});d.register(i,t,r,c,n,h,o);const b=()=>{const{data:d,isLoading:i,error:t}=e();if(a((s=>s.auth)),i)return s.jsx(l,{title:"Dashboard Admin",levels:["center"],children:s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"50vh"},children:s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Memuat..."})})})});if(t)return s.jsx(l,{title:"Dashboard Admin",levels:["center"],children:s.jsxs("div",{className:"alert alert-danger",role:"alert",children:[s.jsx("h4",{className:"alert-heading",children:"Error!"}),s.jsx("p",{children:"Gagal memuat data dashboard. Silakan coba lagi nanti."}),s.jsx("hr",{}),s.jsxs("p",{className:"mb-0",children:["Detail error: ",t.message]})]})});const{basicStats:r,studentsPerGrade:c,teacherComposition:n,recentActivities:h,homebaseStats:o,activityLogs:x,studentDemographics:m,geographicalDistribution:b,entryStats:p}=d||{};return s.jsx(l,{title:"Dashboard Admin",levels:["center"],children:s.jsxs("div",{className:"container-fluid",children:[s.jsxs("div",{className:"row mb-4",children:[s.jsx("div",{className:"col-md-3",children:s.jsx("div",{className:"card bg-primary text-white",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h5",{className:"card-title",children:"Total Siswa"}),s.jsx("h2",{className:"card-text",children:(null==r?void 0:r.total_students)||0})]})})}),s.jsx("div",{className:"col-md-3",children:s.jsx("div",{className:"card bg-success text-white",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h5",{className:"card-title",children:"Total Guru"}),s.jsx("h2",{className:"card-text",children:(null==r?void 0:r.total_teachers)||0})]})})}),s.jsx("div",{className:"col-md-3",children:s.jsx("div",{className:"card bg-info text-white",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h5",{className:"card-title",children:"Total Kelas"}),s.jsx("h2",{className:"card-text",children:(null==r?void 0:r.total_classes)||0})]})})}),s.jsx("div",{className:"col-md-3",children:s.jsx("div",{className:"card bg-warning text-white",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h5",{className:"card-title",children:"Total Homebase"}),s.jsx("h2",{className:"card-text",children:(null==r?void 0:r.total_homebase)||0})]})})})]}),s.jsx(u,{studentDemographics:m}),s.jsxs("div",{className:"row mb-3",children:[s.jsx(j,{data:b}),s.jsx(v,{entryStats:p,studentDemographics:m})]}),s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-md-12",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Statistik Homebase"})}),s.jsx("div",{className:"card-body",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Homebase"}),s.jsx("th",{children:"Siswa"}),s.jsx("th",{children:"Guru"}),s.jsx("th",{children:"Kelas"}),s.jsx("th",{children:"Mata Pelajaran"})]})}),s.jsx("tbody",{children:null==o?void 0:o.map(((e,a)=>s.jsxs("tr",{children:[s.jsx("td",{children:e.homebase_name}),s.jsx("td",{children:e.total_students}),s.jsx("td",{children:e.total_teachers}),s.jsx("td",{children:e.total_classes}),s.jsx("td",{children:e.total_subjects})]},`homebase-${a}-${e.homebase_name}`)))})]})})})]})})}),s.jsxs("div",{className:"row mb-4",children:[s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Siswa per Kelas"})}),s.jsx("div",{className:"card-body",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Kelas"}),s.jsx("th",{children:"Total Siswa"}),s.jsx("th",{children:"Laki-laki"}),s.jsx("th",{children:"Perempuan"})]})}),s.jsx("tbody",{children:null==c?void 0:c.map(((e,a)=>s.jsxs("tr",{children:[s.jsx("td",{children:e.grade_name}),s.jsx("td",{children:e.total_students}),s.jsx("td",{children:e.male_count}),s.jsx("td",{children:e.female_count})]},`grade-${a}-${e.grade_name}`)))})]})})})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Komposisi Guru"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("h6",{children:"Distribusi Gender"}),s.jsxs("p",{children:["Laki-laki: ",(null==n?void 0:n.male_count)||0]}),s.jsxs("p",{children:["Perempuan: ",(null==n?void 0:n.female_count)||0]})]}),s.jsxs("div",{className:"col-md-6",children:[s.jsx("h6",{children:"Guru Wali Kelas"}),s.jsxs("p",{children:["Total: ",(null==n?void 0:n.homeroom_count)||0]})]})]})})]})})]}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-md-12",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{className:"card-title mb-0",children:"Aktivitas Terbaru"})}),s.jsx("div",{className:"card-body",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Tipe"}),s.jsx("th",{children:"Judul"}),s.jsx("th",{children:"Guru"}),s.jsx("th",{children:"Tanggal"})]})}),s.jsx("tbody",{children:null==h?void 0:h.map(((e,a)=>s.jsxs("tr",{children:[s.jsx("td",{children:e.type}),s.jsx("td",{children:e.title}),s.jsx("td",{children:e.teacher_name}),s.jsx("td",{children:new Date(e.createdat).toLocaleDateString()})]},`activity-${a}-${e.id}`)))})]})})})]})})})]})})};export{b as default};
//# sourceMappingURL=CenterDash-LGb2IElp.js.map
