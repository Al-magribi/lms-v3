{"version":3,"file":"CmsDataTable-CWf4SQGL.js","sources":["../../src/page/cms/components/CmsDataTable.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  FaEdit,\r\n  FaTrash,\r\n  FaEye,\r\n  FaSort,\r\n  FaSortUp,\r\n  FaSortDown,\r\n  FaChevronLeft,\r\n  FaChevronRight,\r\n} from \"react-icons/fa\";\r\n\r\nconst CmsDataTable = ({\r\n  columns,\r\n  data,\r\n  onEdit,\r\n  onDelete,\r\n  onView,\r\n  itemsPerPage = 10,\r\n  showActions = true,\r\n  showPagination = true,\r\n}) => {\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [sortConfig, setSortConfig] = useState({\r\n    key: null,\r\n    direction: \"ascending\",\r\n  });\r\n\r\n  // Sorting logic\r\n  const sortedData = React.useMemo(() => {\r\n    let sortableData = [...data];\r\n    if (sortConfig.key) {\r\n      sortableData.sort((a, b) => {\r\n        if (a[sortConfig.key] < b[sortConfig.key]) {\r\n          return sortConfig.direction === \"ascending\" ? -1 : 1;\r\n        }\r\n        if (a[sortConfig.key] > b[sortConfig.key]) {\r\n          return sortConfig.direction === \"ascending\" ? 1 : -1;\r\n        }\r\n        return 0;\r\n      });\r\n    }\r\n    return sortableData;\r\n  }, [data, sortConfig]);\r\n\r\n  // Pagination logic\r\n  const indexOfLastItem = currentPage * itemsPerPage;\r\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n  const currentItems = sortedData.slice(indexOfFirstItem, indexOfLastItem);\r\n  const totalPages = Math.ceil(sortedData.length / itemsPerPage);\r\n\r\n  const requestSort = (key) => {\r\n    let direction = \"ascending\";\r\n    if (sortConfig.key === key && sortConfig.direction === \"ascending\") {\r\n      direction = \"descending\";\r\n    }\r\n    setSortConfig({ key, direction });\r\n  };\r\n\r\n  const getSortIcon = (columnKey) => {\r\n    if (sortConfig.key !== columnKey) {\r\n      return <FaSort className=\"ms-1 text-muted\" />;\r\n    }\r\n    return sortConfig.direction === \"ascending\" ? (\r\n      <FaSortUp className=\"ms-1\" />\r\n    ) : (\r\n      <FaSortDown className=\"ms-1\" />\r\n    );\r\n  };\r\n\r\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\r\n\r\n  const tableVariants = {\r\n    hidden: { opacity: 0 },\r\n    visible: {\r\n      opacity: 1,\r\n      transition: {\r\n        staggerChildren: 0.05,\r\n      },\r\n    },\r\n  };\r\n\r\n  const rowVariants = {\r\n    hidden: { opacity: 0, x: -20 },\r\n    visible: {\r\n      opacity: 1,\r\n      x: 0,\r\n      transition: {\r\n        type: \"spring\",\r\n        stiffness: 100,\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"table-responsive\"\r\n      initial=\"hidden\"\r\n      animate=\"visible\"\r\n      variants={tableVariants}\r\n    >\r\n      <table className=\"table table-hover\">\r\n        <thead className=\"table-light\">\r\n          <tr>\r\n            {columns.map((column) => (\r\n              <th\r\n                key={column.key}\r\n                onClick={() => requestSort(column.key)}\r\n                style={{ cursor: \"pointer\" }}\r\n              >\r\n                <div className=\"d-flex align-items-center\">\r\n                  {column.label}\r\n                  {getSortIcon(column.key)}\r\n                </div>\r\n              </th>\r\n            ))}\r\n            {showActions && <th>Actions</th>}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {currentItems.length > 0 ? (\r\n            currentItems.map((item, index) => (\r\n              <motion.tr\r\n                key={item.id || index}\r\n                variants={rowVariants}\r\n                whileHover={{ backgroundColor: \"rgba(0,0,0,0.02)\" }}\r\n              >\r\n                {columns.map((column) => (\r\n                  <td key={`${item.id}-${column.key}`}>\r\n                    {column.render\r\n                      ? column.render(item[column.key], item)\r\n                      : item[column.key]}\r\n                  </td>\r\n                ))}\r\n                {showActions && (\r\n                  <td>\r\n                    <div className=\"d-flex gap-2\">\r\n                      {onView && (\r\n                        <motion.button\r\n                          className=\"btn btn-sm btn-info text-white\"\r\n                          whileHover={{ scale: 1.1 }}\r\n                          whileTap={{ scale: 0.9 }}\r\n                          onClick={() => onView(item)}\r\n                        >\r\n                          <FaEye />\r\n                        </motion.button>\r\n                      )}\r\n                      {onEdit && (\r\n                        <motion.button\r\n                          className=\"btn btn-sm btn-primary\"\r\n                          whileHover={{ scale: 1.1 }}\r\n                          whileTap={{ scale: 0.9 }}\r\n                          onClick={() => onEdit(item)}\r\n                        >\r\n                          <FaEdit />\r\n                        </motion.button>\r\n                      )}\r\n                      {onDelete && (\r\n                        <motion.button\r\n                          className=\"btn btn-sm btn-danger\"\r\n                          whileHover={{ scale: 1.1 }}\r\n                          whileTap={{ scale: 0.9 }}\r\n                          onClick={() => onDelete(item)}\r\n                        >\r\n                          <FaTrash />\r\n                        </motion.button>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                )}\r\n              </motion.tr>\r\n            ))\r\n          ) : (\r\n            <tr>\r\n              <td\r\n                colSpan={columns.length + (showActions ? 1 : 0)}\r\n                className=\"text-center py-4\"\r\n              >\r\n                No data available\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n\r\n      {showPagination && totalPages > 1 && (\r\n        <div className=\"d-flex justify-content-between align-items-center mt-3\">\r\n          <div>\r\n            Showing {indexOfFirstItem + 1} to{\" \"}\r\n            {Math.min(indexOfLastItem, sortedData.length)} of{\" \"}\r\n            {sortedData.length} entries\r\n          </div>\r\n          <nav>\r\n            <ul className=\"pagination mb-0\">\r\n              <li\r\n                className={`page-item ${currentPage === 1 ? \"disabled\" : \"\"}`}\r\n              >\r\n                <button\r\n                  className=\"page-link\"\r\n                  onClick={() => paginate(currentPage - 1)}\r\n                  disabled={currentPage === 1}\r\n                >\r\n                  <FaChevronLeft />\r\n                </button>\r\n              </li>\r\n              {Array.from({ length: totalPages }, (_, i) => i + 1).map(\r\n                (number) => (\r\n                  <li\r\n                    key={number}\r\n                    className={`page-item ${\r\n                      currentPage === number ? \"active\" : \"\"\r\n                    }`}\r\n                  >\r\n                    <button\r\n                      className=\"page-link\"\r\n                      onClick={() => paginate(number)}\r\n                    >\r\n                      {number}\r\n                    </button>\r\n                  </li>\r\n                )\r\n              )}\r\n              <li\r\n                className={`page-item ${\r\n                  currentPage === totalPages ? \"disabled\" : \"\"\r\n                }`}\r\n              >\r\n                <button\r\n                  className=\"page-link\"\r\n                  onClick={() => paginate(currentPage + 1)}\r\n                  disabled={currentPage === totalPages}\r\n                >\r\n                  <FaChevronRight />\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default CmsDataTable;\r\n"],"names":["CmsDataTable","columns","data","onEdit","onDelete","onView","itemsPerPage","showActions","showPagination","currentPage","setCurrentPage","useState","sortConfig","setSortConfig","key","direction","sortedData","React","useMemo","sortableData","sort","a","b","indexOfLastItem","indexOfFirstItem","currentItems","slice","totalPages","Math","ceil","length","paginate","pageNumber","rowVariants","hidden","opacity","x","visible","transition","type","stiffness","jsxRuntimeExports","jsxs","motion","div","className","initial","animate","variants","staggerChildren","children","jsx","map","column","onClick","requestSort","style","cursor","label","columnKey","FaSort","FaSortUp","FaSortDown","item","index","tr","whileHover","backgroundColor","render","id","button","scale","whileTap","FaEye","FaEdit","FaTrash","colSpan","min","disabled","FaChevronLeft","Array","from","_","i","number","FaChevronRight"],"mappings":"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"}