import{bB as e,j as s,e as a,bC as t,bD as n}from"./index-DFhdulld.js";import{b as i}from"./vendor-CnnDPxwB.js";import{L as l}from"./Layout-GZnRoUIy.js";import{T as r}from"./Table-CpyGbvYh.js";import"./index-B8CuzAwO.js";import"./index-g0LoU_Ie.js";const d=({detail:t,setDetail:n})=>{const[l,r]=i.useState({id:t?t.id:"",name:""}),[d,{isLoading:c,isSuccess:m,isError:o,reset:u}]=e(),x=()=>{n({}),r({id:"",name:""})};return i.useEffect((()=>{(m||o)&&(x(),u())}),[m,o]),i.useEffect((()=>{t&&r({id:t.id,name:t.name})}),[t]),s.jsxs("form",{onSubmit:e=>{e.preventDefault(),a.promise(d(l).unwrap().then((e=>e.message)),{loading:"Memuat...",success:e=>e,error:e=>{var s;return null==(s=e.data)?void 0:s.message}})},className:"rounded border bg-white p-2 d-flex flex-column gap-2",children:[s.jsx("p",{className:"m-0 h6",children:"Penguji"}),s.jsx("input",{type:"text",name:"name",id:"name",required:!0,className:"form-control",placeholder:"Nama Penguji",value:l.name||"",onChange:e=>r({...l,name:e.target.value})}),s.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[s.jsx("button",{type:"button",className:"btn btn-sm btn-warning",onClick:x,children:"Batal"}),s.jsx("button",{type:"submit",className:"btn btn-sm btn-success",disabled:c,children:"Simpan"})]})]})},c=({setDetail:e})=>{const[l,d]=i.useState(1),[c,m]=i.useState(10),[o,u]=i.useState(""),{data:x={},isLoading:j}=t({page:l,limit:c,search:o}),{examiners:b=[],totalData:g,totalPages:h}=x,[p,{isLoading:N}]=n();return s.jsx(r,{isLoading:j,page:l,setPage:d,setLimit:m,setSearch:u,totalData:g,totalPages:h,children:s.jsxs("table",{className:"mb-0 table table-bordered table-striped table-hover",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("td",{className:"text-center align-middle",children:"No"}),s.jsx("td",{className:"text-center align-middle",children:"Nama Penguji"}),s.jsx("td",{className:"text-center align-middle",children:"Aksi"})]})}),s.jsx("tbody",{children:null==b?void 0:b.map(((t,n)=>s.jsxs("tr",{children:[s.jsx("td",{className:"text-center align-middle",children:(l-1)*c+n+1}),s.jsx("td",{className:"align-middle",children:t.name}),s.jsx("td",{className:"text-center align-middle",children:s.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[s.jsx("button",{className:"btn btn-sm btn-warning",onClick:()=>e(t),children:s.jsx("i",{className:"bi bi-pencil-square"})}),s.jsx("button",{className:"btn btn-sm btn-danger",disabled:N,onClick:()=>{return e=t.id,void a.promise(p(e).unwrap().then((e=>e.message)),{loading:"Memuat...",success:e=>e,error:e=>{var s;return null==(s=e.data)?void 0:s.message}});var e},children:s.jsx("i",{className:"bi bi-trash"})})]})})]},n)))})]})})},m=()=>{const[e,a]=i.useState({});return s.jsx(l,{title:"Penguji",levels:["tahfiz"],children:s.jsxs("div",{className:"row g-2",children:[s.jsx("div",{className:"col-lg-3 col-12",children:s.jsx(d,{detail:e,setDetail:a})}),s.jsx("div",{className:"col-lg-9 col-12",children:s.jsx(c,{setDetail:a})})]})})};export{m as default};
//# sourceMappingURL=TahfizExaminer-DUQOIr6r.js.map
