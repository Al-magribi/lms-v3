{"version":3,"file":"CbtControl-BM1Jk0JV.js","sources":["../../node_modules/@ant-design/icons-svg/es/asn/TagsOutlined.js","../../node_modules/@ant-design/icons/es/icons/TagsOutlined.js","../../src/module/cbt/bank/Lists.jsx","../../src/module/cbt/bank/FormBank.jsx","../../src/module/cbt/bank/Bank.jsx","../../src/module/cbt/bank/FormQues.jsx","../../src/module/cbt/bank/FormUpload.jsx","../../src/module/cbt/bank/Questions.jsx","../../src/module/cbt/exams/FormExam.jsx","../../src/module/cbt/exams/Exams.jsx","../../src/module/cbt/report/Logs.jsx","../../src/module/cbt/report/Analysis.jsx","../../src/module/cbt/report/Scores.jsx","../../src/module/cbt/report/Report.jsx","../../src/module/cbt/control/CbtControl.jsx"],"sourcesContent":["// This icon file is generated automatically.\nvar TagsOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M483.2 790.3L861.4 412c1.7-1.7 2.5-4 2.3-6.3l-25.5-301.4c-.7-7.8-6.8-13.9-14.6-14.6L522.2 64.3c-2.3-.2-4.7.6-6.3 2.3L137.7 444.8a8.03 8.03 0 000 11.3l334.2 334.2c3.1 3.2 8.2 3.2 11.3 0zm62.6-651.7l224.6 19 19 224.6L477.5 694 233.9 450.5l311.9-311.9zm60.16 186.23a48 48 0 1067.88-67.89 48 48 0 10-67.88 67.89zM889.7 539.8l-39.6-39.5a8.03 8.03 0 00-11.3 0l-362 361.3-237.6-237a8.03 8.03 0 00-11.3 0l-39.6 39.5a8.03 8.03 0 000 11.3l243.2 242.8 39.6 39.5c3.1 3.1 8.2 3.1 11.3 0l407.3-406.6c3.1-3.1 3.1-8.2 0-11.3z\" } }] }, \"name\": \"tags\", \"theme\": \"outlined\" };\nexport default TagsOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport TagsOutlinedSvg from \"@ant-design/icons-svg/es/asn/TagsOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar TagsOutlined = function TagsOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: TagsOutlinedSvg\n  }));\n};\n\n/**![tags](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ4My4yIDc5MC4zTDg2MS40IDQxMmMxLjctMS43IDIuNS00IDIuMy02LjNsLTI1LjUtMzAxLjRjLS43LTcuOC02LjgtMTMuOS0xNC42LTE0LjZMNTIyLjIgNjQuM2MtMi4zLS4yLTQuNy42LTYuMyAyLjNMMTM3LjcgNDQ0LjhhOC4wMyA4LjAzIDAgMDAwIDExLjNsMzM0LjIgMzM0LjJjMy4xIDMuMiA4LjIgMy4yIDExLjMgMHptNjIuNi02NTEuN2wyMjQuNiAxOSAxOSAyMjQuNkw0NzcuNSA2OTQgMjMzLjkgNDUwLjVsMzExLjktMzExLjl6bTYwLjE2IDE4Ni4yM2E0OCA0OCAwIDEwNjcuODgtNjcuODkgNDggNDggMCAxMC02Ny44OCA2Ny44OXpNODg5LjcgNTM5LjhsLTM5LjYtMzkuNWE4LjAzIDguMDMgMCAwMC0xMS4zIDBsLTM2MiAzNjEuMy0yMzcuNi0yMzdhOC4wMyA4LjAzIDAgMDAtMTEuMyAwbC0zOS42IDM5LjVhOC4wMyA4LjAzIDAgMDAwIDExLjNsMjQzLjIgMjQyLjggMzkuNiAzOS41YzMuMSAzLjEgOC4yIDMuMSAxMS4zIDBsNDA3LjMtNDA2LjZjMy4xLTMuMSAzLjEtOC4yIDAtMTEuM3oiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(TagsOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'TagsOutlined';\n}\nexport default RefIcon;","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  useDeleteBankMutation,\r\n  useGetBankQuery,\r\n} from \"../../../service/api/cbt/ApiBank\";\r\nimport {\r\n  Card,\r\n  Col,\r\n  Empty,\r\n  Flex,\r\n  Modal,\r\n  Pagination,\r\n  Row,\r\n  Space,\r\n  Spin,\r\n  Tooltip,\r\n  Typography,\r\n  message,\r\n} from \"antd\";\r\nimport {\r\n  ContainerOutlined,\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  FolderOpenOutlined,\r\n  FolderOutlined,\r\n  TagsOutlined,\r\n  UserOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst Lists = ({ onEdit, search }) => {\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(8);\r\n  const [onSearch, setOnSearch] = useState(\"\");\r\n\r\n  const { data, isLoading } = useGetBankQuery({\r\n    page,\r\n    limit,\r\n    search: onSearch,\r\n  });\r\n  const banks = data?.banks;\r\n\r\n  const [\r\n    deleteBank,\r\n    { data: delMessage, isLoading: delLoading, isSuccess, error, reset },\r\n  ] = useDeleteBankMutation();\r\n\r\n  // Functions\r\n  const handleDelete = (id) => {\r\n    confirm({\r\n      title: \"Apakah anda yakin akan menghapus data ini?\",\r\n      content: \"Data yang dihapus tidak bisa dikembalikan\",\r\n      okText: \"Ya, Hapus\",\r\n      okType: \"danger\",\r\n      cancelText: \"Batal\",\r\n      onOk() {\r\n        deleteBank(id);\r\n      },\r\n      onCancel() {\r\n        message.warning(\"Aksi dibatalkan\");\r\n      },\r\n    });\r\n  };\r\n\r\n  const handlePaginationChange = (newPage, newPageSize) => {\r\n    setPage(newPage);\r\n    setLimit(newPageSize);\r\n  };\r\n\r\n  const handleDetail = (value) => {\r\n    setSearchParams({\r\n      subject: value.subject_name.replace(/\\s+/g, \"-\"),\r\n      bankid: value.id,\r\n      name: value.name.replace(/\\s+/g, \"-\"),\r\n    });\r\n  };\r\n\r\n  // Effect\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      message.success(delMessage.message);\r\n      reset();\r\n    }\r\n\r\n    if (error) {\r\n      message.error(error.data.message);\r\n      reset;\r\n    }\r\n  }, [delMessage, isSuccess, error]);\r\n\r\n  useEffect(() => {\r\n    const handler = setTimeout(() => {\r\n      setOnSearch(search);\r\n      setPage(1);\r\n    }, 500);\r\n    return () => clearTimeout(handler);\r\n  }, [search]);\r\n\r\n  if (!isLoading && banks?.length === 0) {\r\n    return (\r\n      <Card>\r\n        <Empty\r\n          description={\r\n            onSearch\r\n              ? `Data dengan kata kunci \"${onSearch}\" tidak ditemukan.`\r\n              : \"Belum ada data bank soal yang dapat ditampilkan.\"\r\n          }\r\n        />\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Flex vertical gap={\"middle\"}>\r\n      <Spin tip=\"Memuat data...\" spinning={isLoading || delLoading}>\r\n        <Row gutter={[16, 16]}>\r\n          {banks?.map((item) => (\r\n            <Col key={item.id} xs={24} sm={12} md={8} lg={6}>\r\n              <Card\r\n                title={<Tooltip title={item.name}>{item.name}</Tooltip>}\r\n                loading={isLoading || delLoading}\r\n                actions={[\r\n                  <Tooltip title=\"Detail\">\r\n                    <FolderOpenOutlined\r\n                      key={\"more\"}\r\n                      onClick={() => handleDetail(item)}\r\n                    />\r\n                  </Tooltip>,\r\n                  <Tooltip title=\"Ubah Data\">\r\n                    <EditOutlined key={\"edit\"} onClick={() => onEdit(item)} />\r\n                  </Tooltip>,\r\n                  <Tooltip title=\"Hapus Data\">\r\n                    <DeleteOutlined\r\n                      key={\"delete\"}\r\n                      onClick={() => handleDelete(item.id)}\r\n                    />\r\n                  </Tooltip>,\r\n                ]}\r\n              >\r\n                <Card.Meta\r\n                  description={\r\n                    <Flex vertical gap={\"small\"}>\r\n                      <Space>\r\n                        <FolderOutlined />\r\n                        <Typography.Text>{item.subject_name}</Typography.Text>\r\n                      </Space>\r\n                      <Space>\r\n                        <UserOutlined />\r\n                        <Typography.Text>{item.teacher_name}</Typography.Text>\r\n                      </Space>\r\n                      <Space>\r\n                        <TagsOutlined />\r\n                        <Typography.Text>{item.btype}</Typography.Text>\r\n                      </Space>\r\n                      <Space>\r\n                        <ContainerOutlined />\r\n                        <Typography.Text>\r\n                          {item.question_count} Soal\r\n                        </Typography.Text>\r\n                      </Space>\r\n                    </Flex>\r\n                  }\r\n                />\r\n              </Card>\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      </Spin>\r\n\r\n      {banks?.length > 0 && (\r\n        <Pagination\r\n          align=\"center\"\r\n          total={data?.totalData}\r\n          pageSize={limit}\r\n          current={page}\r\n          onChange={handlePaginationChange}\r\n          showSizeChanger\r\n          showTotal={(total, range) =>\r\n            `${range[0]}-${range[1]} dari ${total} item`\r\n          }\r\n        />\r\n      )}\r\n    </Flex>\r\n  );\r\n};\r\n\r\nexport default Lists;\r\n","import { Form, Input, Modal, Select, Spin, message } from \"antd\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  useAddBankMutation,\r\n  useGetTeachersQuery,\r\n} from \"../../../service/api/cbt/ApiBank\";\r\n\r\nconst page = \"\";\r\nconst limit = \"\";\r\n\r\nconst FormBank = ({ open, onClose, title, bank }) => {\r\n  const { user } = useSelector((state) => state.auth);\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n  const [subjectOptions, setSubjectOptions] = useState([]);\r\n  const [form] = Form.useForm();\r\n\r\n  const { data: teachers, isLoading: isLoadingTeachers } = useGetTeachersQuery({\r\n    page,\r\n    limit,\r\n    search,\r\n  });\r\n  const [\r\n    addBank,\r\n    { data: addMessage, isLoading: addLoading, isSuccess, error },\r\n  ] = useAddBankMutation();\r\n\r\n  const teacherOpts =\r\n    teachers?.map((item) => ({\r\n      value: item.id,\r\n      label: item.name,\r\n      subjects: item.subjects,\r\n    })) || [];\r\n\r\n  // Functions\r\n\r\n  const handleSearchTeacher = (value) => {\r\n    setSearch(value);\r\n  };\r\n\r\n  const handleTeacherChange = (value, option) => {\r\n    if (option) {\r\n      const newSubjectOptions = option.subjects.map((subject) => ({\r\n        value: subject.id,\r\n        label: subject.name,\r\n      }));\r\n      setSubjectOptions(newSubjectOptions);\r\n    } else {\r\n      setSubjectOptions([]);\r\n    }\r\n    form.setFieldsValue({ subject: undefined });\r\n  };\r\n\r\n  const onFinish = (values) => {\r\n    if (bank.id) {\r\n      const data = { id: bank.id, ...values };\r\n\r\n      addBank(data);\r\n    } else {\r\n      addBank(values);\r\n    }\r\n  };\r\n\r\n  //   Effect\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      message.success(addMessage.message);\r\n      form.resetFields();\r\n      onClose();\r\n    }\r\n\r\n    if (error) {\r\n      message.error(error.data.message);\r\n    }\r\n  }, [addMessage, isSuccess, error]);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      // Selalu reset form saat modal dibuka\r\n      form.resetFields();\r\n      setSubjectOptions([]);\r\n\r\n      if (!bank.id) {\r\n        // Mode Tambah Baru\r\n        // SOLUSI: Atur nilai default 'btype' secara eksplisit di sini\r\n        form.setFieldsValue({ btype: \"paket\" });\r\n\r\n        if (user?.level === \"teacher\" && teachers) {\r\n          const loggedInTeacher = teachers.find((t) => t.id === user.id);\r\n          if (loggedInTeacher) {\r\n            form.setFieldsValue({ teacher: loggedInTeacher.id });\r\n            const newSubjectOptions = loggedInTeacher.subjects.map(\r\n              (subject) => ({\r\n                value: subject.id,\r\n                label: subject.name,\r\n              })\r\n            );\r\n            setSubjectOptions(newSubjectOptions);\r\n          }\r\n        }\r\n      } else if (bank && teachers) {\r\n        // Mode Edit\r\n        const selectedTeacher = teachers.find((t) => t.id === bank.teacher);\r\n        if (selectedTeacher) {\r\n          const newSubjectOptions = selectedTeacher.subjects.map((subject) => ({\r\n            value: subject.id,\r\n            label: subject.name,\r\n          }));\r\n          setSubjectOptions(newSubjectOptions);\r\n        }\r\n        form.setFieldsValue({\r\n          name: bank.name,\r\n          btype: bank.btype,\r\n          teacher: bank.teacher,\r\n          subject: bank.subject,\r\n        });\r\n      }\r\n    }\r\n  }, [open, bank, teachers, form, user]);\r\n\r\n  return (\r\n    <Modal\r\n      title={title}\r\n      open={open}\r\n      onCancel={onClose}\r\n      cancelText='Tutup'\r\n      okText='Simpan'\r\n      onOk={() => form.submit()}\r\n      confirmLoading={addLoading} // Menampilkan loading pada tombol OK\r\n      forceRender\r\n    >\r\n      <Spin tip='Memproses data...' spinning={addLoading}>\r\n        <Form\r\n          form={form}\r\n          layout='vertical'\r\n          onFinish={onFinish}\r\n          // KUNCI 1: 'initialValues' mengatur nilai default saat form dimuat/reset.\r\n          initialValues={{ btype: \"paket\" }}\r\n        >\r\n          {/* ... Form.Item untuk teacher dan subject ... */}\r\n          <Form.Item\r\n            name='teacher'\r\n            label='Pilih Guru'\r\n            rules={[{ required: true, message: \"Pilih guru terlebih dahulu\" }]}\r\n          >\r\n            <Select\r\n              placeholder='Ketik untuk mencari guru...'\r\n              allowClear\r\n              showSearch\r\n              onSearch={handleSearchTeacher}\r\n              options={teacherOpts}\r\n              onChange={handleTeacherChange}\r\n              loading={isLoadingTeachers}\r\n              disabled={user?.level === \"teacher\"}\r\n              filterOption={(input, option) =>\r\n                option.label.toLowerCase().includes(input.toLowerCase())\r\n              }\r\n              getPopupContainer={(triggerNode) => triggerNode.parentNode}\r\n              virtual={false}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name='subject'\r\n            label='Pilih Mata Pelajaran'\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Pilih mata pelajaran terlebih dahulu\",\r\n              },\r\n            ]}\r\n          >\r\n            <Select\r\n              placeholder='Pilih mata pelajaran'\r\n              allowClear\r\n              options={subjectOptions}\r\n              disabled={subjectOptions.length === 0 && !bank}\r\n              showSearch\r\n              filterOption={(input, option) =>\r\n                option.label.toLowerCase().includes(input.toLowerCase())\r\n              }\r\n              getPopupContainer={(triggerNode) => triggerNode.parentNode}\r\n              virtual={false}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item name='btype' label='Tipe Bank Soal'>\r\n            <Select\r\n              placeholder='Pilih tipe bank soal'\r\n              options={[{ label: \"Paket\", value: \"paket\" }]}\r\n              // KUNCI 2: 'disabled' mencegah pengguna mengubah nilai yang sudah di-set.\r\n              disabled\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            name='name'\r\n            label='Nama Bank Soal'\r\n            rules={[{ required: true, message: \"Nama bank soal wajib diisi\" }]}\r\n          >\r\n            <Input placeholder='maks 30 karakter' maxLength={30} />\r\n          </Form.Item>\r\n        </Form>\r\n      </Spin>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default FormBank;\r\n","import { Flex, Input, Space, Typography } from \"antd\";\r\nimport React, { useState } from \"react\";\r\nimport Add from \"../../../components/buttons/Add\";\r\nimport Lists from \"./Lists\";\r\nimport FormBank from \"./FormBank\";\r\n\r\nconst Bank = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [bankData, setBankData] = useState({});\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const handleClose = () => {\r\n    setBankData({});\r\n    setIsEdit(false);\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleEdit = (record) => {\r\n    setBankData(record);\r\n    setIsEdit(true);\r\n    setOpen(true);\r\n  };\r\n\r\n  return (\r\n    <Flex vertical gap={\"middle\"}>\r\n      <Flex align=\"center\" justify=\"space-between\">\r\n        <Typography.Title style={{ margin: 0 }} level={5}>\r\n          Manajemen Bank Soal\r\n        </Typography.Title>\r\n\r\n        <Space>\r\n          <Input.Search\r\n            placeholder=\"Cari Data ...\"\r\n            allowClear\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            style={{ width: 250 }}\r\n          />\r\n\r\n          <Add onClick={() => setOpen(true)} />\r\n        </Space>\r\n      </Flex>\r\n\r\n      <Lists onEdit={handleEdit} search={search} />\r\n\r\n      <FormBank\r\n        title={isEdit ? `Edit Bank Soal ${bankData.name}` : \"Tambah Bank Soal\"}\r\n        open={open}\r\n        onClose={handleClose}\r\n        bank={bankData}\r\n      />\r\n    </Flex>\r\n  );\r\n};\r\n\r\nexport default Bank;\r\n","import {\r\n  Flex,\r\n  Modal,\r\n  Select,\r\n  Form,\r\n  InputNumber,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  message,\r\n} from \"antd\";\r\nimport Editor from \"../../../components/editor/Editor\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useAddQuestionMutation } from \"../../../service/api/cbt/ApiBank\";\r\n\r\nconst FormQues = ({ open, onClose, title, ques, bankid }) => {\r\n  const [form] = Form.useForm();\r\n\r\n  const [type, setType] = useState(1);\r\n\r\n  const [addQuestion, { data, isSuccess, error, isLoading }] =\r\n    useAddQuestionMutation();\r\n\r\n  const handleSubmit = (values) => {\r\n    const payload = {\r\n      id: ques?.id ? ques?.id : \"\",\r\n      qtype: values.type,\r\n      poin: values.poin,\r\n      question: values.question,\r\n      bank: bankid,\r\n      qkey: values.qkey,\r\n      a: values.choiceA,\r\n      b: values.choiceB,\r\n      c: values.choiceC,\r\n      d: values.choiceD,\r\n      e: values.choiceE,\r\n    };\r\n    console.log(payload);\r\n    addQuestion(payload);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      if (ques) {\r\n        console.log(ques);\r\n        form.setFieldsValue({\r\n          qtype: ques.type || 1,\r\n          qkey: ques.qkey || null,\r\n          poin: ques.poin || 0,\r\n          question: ques.question || \"\",\r\n          choiceA: ques.a || \"\",\r\n          choiceB: ques.b || \"\",\r\n          choiceC: ques.c || \"\",\r\n          choiceD: ques.d || \"\",\r\n          choiceE: ques.e || \"\",\r\n        });\r\n        setType(ques.type || 1);\r\n      } else {\r\n        form.resetFields();\r\n        form.setFieldsValue({ type: 1, poin: 0 });\r\n      }\r\n    }\r\n  }, [open, ques, form]);\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      message.success(data.message);\r\n      form.resetFields();\r\n      onClose();\r\n    }\r\n\r\n    if (error) {\r\n      message.error(error.data.message);\r\n    }\r\n  }, [data, isSuccess, error]);\r\n\r\n  return (\r\n    <Modal\r\n      title={title}\r\n      open={open}\r\n      onCancel={onClose}\r\n      width={900}\r\n      destroyOnHidden\r\n      okText='Simpan'\r\n      cancelText='Tutup'\r\n      confirmLoading={isLoading}\r\n      loading={isLoading}\r\n      onOk={() => form.submit()}\r\n      style={{ top: 20 }}\r\n    >\r\n      <Form\r\n        form={form}\r\n        layout='vertical'\r\n        onFinish={handleSubmit}\r\n        initialValues={{ type: 1, poin: 0 }}\r\n        style={{\r\n          height: 600,\r\n          overflowY: \"auto\",\r\n          overflowX: \"hidden\",\r\n          scrollbarWidth: \"none\",\r\n        }}\r\n      >\r\n        <Row gutter={16}>\r\n          <Col span={12}>\r\n            <Form.Item\r\n              name='type'\r\n              label='Tipe Pertanyaan'\r\n              rules={[\r\n                { required: true, message: \"Silakan pilih tipe pertanyaan!\" },\r\n              ]}\r\n            >\r\n              <Select\r\n                placeholder='Pilih Tipe Pertanyaan'\r\n                onChange={(value) => setType(value)}\r\n                options={[\r\n                  { label: \"Pilihan Ganda\", value: 1 },\r\n                  { label: \"Essai\", value: 2 },\r\n                ]}\r\n                allowClear\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n\r\n          <Col span={12}>\r\n            <Form.Item\r\n              name='poin'\r\n              label='Poin'\r\n              rules={[{ required: true, message: \"Silakan masukkan poin!\" }]}\r\n            >\r\n              <InputNumber\r\n                style={{ width: \"100%\" }}\r\n                min={0}\r\n                placeholder='Masukkan Poin'\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n\r\n        {type === 1 && (\r\n          <Form.Item\r\n            name='qkey'\r\n            label='Kunci Jawaban'\r\n            rules={[\r\n              { required: true, message: \"Silakan pilih kunci jawaban!\" },\r\n            ]}\r\n          >\r\n            <Select\r\n              placeholder='Pilih Kunci Jawaban'\r\n              options={[\r\n                { label: \"A\", value: \"A\" },\r\n                { label: \"B\", value: \"B\" },\r\n                { label: \"C\", value: \"C\" },\r\n                { label: \"D\", value: \"D\" },\r\n                { label: \"E\", value: \"E\" },\r\n              ]}\r\n              allowClear\r\n              showSearch\r\n              filterOption={(input, option) =>\r\n                option.label.toLowerCase().includes(input.toLowerCase())\r\n              }\r\n              getPopupContainer={(triggerNode) => triggerNode.parentNode}\r\n              virtual={false}\r\n            />\r\n          </Form.Item>\r\n        )}\r\n\r\n        <Form.Item\r\n          name='question'\r\n          label='Pertanyaan'\r\n          rules={[\r\n            { required: true, message: \"Pertanyaan tidak boleh kosong!\" },\r\n          ]}\r\n        >\r\n          <Editor placeholder='Ketikan pertanyaan di sini ...' height={200} />\r\n        </Form.Item>\r\n\r\n        {type === 1 &&\r\n          [\"A\", \"B\", \"C\", \"D\", \"E\"].map((choice) => (\r\n            <Form.Item\r\n              key={choice}\r\n              name={`choice${choice}`}\r\n              label={`Pilihan ${choice}`}\r\n            >\r\n              <Editor\r\n                placeholder={`Ketikan jawaban untuk pilihan ${choice} ...`}\r\n                height={150}\r\n              />\r\n            </Form.Item>\r\n          ))}\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default FormQues;\r\n","import {\r\n  Alert,\r\n  Button,\r\n  Modal,\r\n  Space,\r\n  Table,\r\n  Tag,\r\n  Typography,\r\n  Upload,\r\n  message,\r\n} from \"antd\";\r\nimport { useUploadQuestionMutation } from \"../../../service/api/cbt/ApiBank\";\r\nimport { useEffect, useState } from \"react\";\r\nimport * as XLSX from \"xlsx\";\r\nimport { InboxOutlined } from \"@ant-design/icons\";\r\n\r\nconst { Text } = Typography;\r\nconst { Dragger } = Upload;\r\n\r\nconst FormUpload = ({ title, open, onClose, bankid }) => {\r\n  const [uploadQuestion, { isLoading, isSuccess, error, data, reset }] =\r\n    useUploadQuestionMutation();\r\n\r\n  const [fileList, setFileList] = useState([]);\r\n  const [dataSoal, setDataSoal] = useState([]);\r\n  const [columns, setColumns] = useState([]);\r\n\r\n  const handleDownload = () => {\r\n    // Pastikan path ini benar menuju file template di folder public Anda\r\n    window.open(\"/template/template_soal.xlsx\", \"_blank\");\r\n  };\r\n\r\n  /**\r\n   * Menangani pengiriman data hasil parsing Excel.\r\n   * Fungsi ini mengubah data dari array of objects (untuk preview tabel)\r\n   * menjadi array of arrays sesuai format yang diharapkan backend.\r\n   *\r\n   * PERBAIKAN: Menambahkan konversi tipe data eksplisit (Number, String)\r\n   * untuk memastikan backend menerima format yang benar, terutama untuk\r\n   * kolom 'Jenis' dan 'Poin' yang memerlukan operasi numerik.\r\n   */\r\n  const handleUpload = () => {\r\n    if (dataSoal.length === 0) {\r\n      message.error(\r\n        \"Tidak ada data untuk diunggah. Silakan pilih file yang valid.\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Ubah data menjadi array of arrays untuk dikirim ke backend\r\n    const payload = dataSoal.map((item) => [\r\n      Number(item[\"Jenis\"]), // qtype (question[0]) - Pastikan berupa Angka\r\n      String(item[\"Pertanyaan\"]), // question (question[1])\r\n      item[\"A\"] ? String(item[\"A\"]) : null, // a (question[2])\r\n      item[\"B\"] ? String(item[\"B\"]) : null, // b (question[3])\r\n      item[\"C\"] ? String(item[\"C\"]) : null, // c (question[4])\r\n      item[\"D\"] ? String(item[\"D\"]) : null, // d (question[5])\r\n      item[\"E\"] ? String(item[\"E\"]) : null, // e (question[6])\r\n      String(item[\"Jawaban\"]), // qkey (question[7])\r\n      Number(item[\"Poin\"] || 0), // poin (question[8]) - Pastikan berupa Angka\r\n    ]);\r\n\r\n    // Panggil mutation dengan bankid dan payload yang sudah diubah\r\n    uploadQuestion({ body: payload, bankid: bankid });\r\n  };\r\n\r\n  // Efek untuk menangani pesan sukses dan error dari mutation\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      message.success(data?.message || \"Soal berhasil diunggah!\");\r\n      setDataSoal([]);\r\n      setFileList([]);\r\n      onClose(); // Menutup modal setelah sukses\r\n      // Tidak perlu reset() di sini jika onClose sudah membersihkan state di parent\r\n    }\r\n\r\n    if (error) {\r\n      message.error(\r\n        error.data?.message || \"Terjadi kesalahan saat mengunggah.\"\r\n      );\r\n      // Tidak perlu reset() di sini agar user bisa melihat error tanpa kehilangan konteks\r\n    }\r\n  }, [data, isSuccess, error, onClose]);\r\n\r\n  // Props untuk komponen Upload dari Ant Design\r\n  const propsUpload = {\r\n    name: \"file\",\r\n    multiple: false,\r\n    accept:\r\n      \".xlsx, .xls, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\",\r\n    fileList,\r\n    onRemove: () => {\r\n      setFileList([]);\r\n      setDataSoal([]);\r\n      setColumns([]);\r\n    },\r\n    // customRequest untuk membaca dan mem-parsing file secara lokal\r\n    customRequest: ({ file, onSuccess, onError }) => {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        try {\r\n          const data = new Uint8Array(e.target.result);\r\n          const workbook = XLSX.read(data, { type: \"array\" });\r\n          const sheetName = workbook.SheetNames[0];\r\n          const worksheet = workbook.Sheets[sheetName];\r\n          const jsonData = XLSX.utils.sheet_to_json(worksheet, {\r\n            header: 1, // Membaca baris sebagai array\r\n            range: 1, // Mulai membaca dari baris kedua (indeks 1) untuk melewati header\r\n          });\r\n\r\n          // Filter baris kosong dari spreadsheet\r\n          const filteredData = jsonData.filter(\r\n            (row) =>\r\n              row.length > 0 &&\r\n              row.some(\r\n                (cell) => cell !== null && cell !== undefined && cell !== \"\"\r\n              )\r\n          );\r\n\r\n          // Proses setiap baris menjadi objek untuk preview di tabel\r\n          const processedData = filteredData.map((row) => {\r\n            const [colA, colB, colC, colD, colE, colF, colG, colH, colI] = row;\r\n            // Menangani soal esai (Jenis 2)\r\n            if (Number(colA) === 2) {\r\n              return {\r\n                Jenis: colA,\r\n                Pertanyaan: colB,\r\n                A: null,\r\n                B: null,\r\n                C: null,\r\n                D: null,\r\n                E: null,\r\n                Jawaban: colH,\r\n                Poin: colI,\r\n              };\r\n            }\r\n            // Menangani soal pilihan ganda\r\n            return {\r\n              Jenis: colA,\r\n              Pertanyaan: colB,\r\n              A: colC,\r\n              B: colD,\r\n              C: colE,\r\n              D: colF,\r\n              E: colG,\r\n              Jawaban: colH,\r\n              Poin: colI,\r\n            };\r\n          });\r\n\r\n          // Membuat kolom tabel secara dinamis untuk preview\r\n          if (processedData.length > 0) {\r\n            const header = Object.keys(processedData[0]);\r\n            const tableColumns = header.map((key) => ({\r\n              title: key,\r\n              dataIndex: key,\r\n              key: key,\r\n              // Renderer khusus untuk kolom 'Jenis'\r\n              ...(key === \"Jenis\" && {\r\n                render: (jenis) => (\r\n                  <Tag color={Number(jenis) === 1 ? \"green\" : \"blue\"}>\r\n                    {Number(jenis) === 1 ? \"Pilihan Ganda\" : \"Essay\"}\r\n                  </Tag>\r\n                ),\r\n                width: 150,\r\n              }),\r\n            }));\r\n            setColumns(tableColumns);\r\n          }\r\n\r\n          setDataSoal(processedData);\r\n          setFileList([file]);\r\n          onSuccess(\"ok\");\r\n        } catch (err) {\r\n          console.error(\"File processing error:\", err);\r\n          message.error(\"Gagal memproses file. Periksa kembali formatnya.\");\r\n          onError(err);\r\n        }\r\n      };\r\n      reader.readAsArrayBuffer(file);\r\n    },\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setDataSoal([]);\r\n    setFileList([]);\r\n    setColumns([]);\r\n    if (error || isSuccess) {\r\n      reset(); // Reset status mutation saat modal ditutup\r\n    }\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title={title}\r\n      open={open}\r\n      onCancel={handleCancel}\r\n      onOk={handleUpload}\r\n      okText='Simpan'\r\n      cancelText='Tutup'\r\n      width={1000}\r\n      confirmLoading={isLoading}\r\n    >\r\n      <Space direction='vertical' style={{ width: \"100%\" }} size='large'>\r\n        <Alert\r\n          message='Ikuti langkah-langkah berikut'\r\n          description={\r\n            <Space direction='vertical' size={2}>\r\n              <Text>1. Unduh template Excel yang disediakan.</Text>\r\n              <Text>2. Isi data soal sesuai dengan kolom yang tersedia.</Text>\r\n              <Text>\r\n                3. Unggah file yang sudah diisi pada area di bawah ini.\r\n              </Text>\r\n              <Button type='primary' size='small' onClick={handleDownload}>\r\n                Unduh Template\r\n              </Button>\r\n            </Space>\r\n          }\r\n          type='info'\r\n          showIcon\r\n        />\r\n\r\n        <Dragger {...propsUpload}>\r\n          <p className='ant-upload-drag-icon'>\r\n            <InboxOutlined />\r\n          </p>\r\n          <p className='ant-upload-text'>\r\n            Klik atau seret file ke area ini untuk mengunggah\r\n          </p>\r\n          <p className='ant-upload-hint'>\r\n            Hanya mendukung file .xlsx atau .xls.\r\n          </p>\r\n        </Dragger>\r\n\r\n        {dataSoal.length > 0 && (\r\n          <>\r\n            <Text strong>Pratinjau Data:</Text>\r\n            <Table\r\n              columns={columns}\r\n              dataSource={dataSoal}\r\n              bordered\r\n              size='small'\r\n              rowKey={(record, index) => index}\r\n              loading={isLoading}\r\n              pagination={{ pageSize: 5 }}\r\n              scroll={{ x: \"max-content\" }}\r\n            />\r\n          </>\r\n        )}\r\n      </Space>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default FormUpload;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  Flex,\r\n  Space,\r\n  Typography,\r\n  Alert,\r\n  Divider,\r\n  Tag,\r\n  Popconfirm,\r\n  Skeleton,\r\n  Row,\r\n  Col,\r\n  message,\r\n  Pagination,\r\n  Empty,\r\n  Spin,\r\n} from \"antd\";\r\nimport {\r\n  ArrowLeftOutlined,\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  CheckCircleFilled,\r\n} from \"@ant-design/icons\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Add from \"../../../components/buttons/Add\";\r\nimport FormQues from \"./FormQues\";\r\nimport {\r\n  useDeleteQuestionMutation,\r\n  useGetQuestionsQuery,\r\n} from \"../../../service/api/cbt/ApiBank\";\r\nimport Upload from \"../../../components/buttons/Upload\";\r\nimport FormUpload from \"./FormUpload\";\r\n\r\nconst createMarkup = (html) => {\r\n  return { __html: html || \"\" };\r\n};\r\n\r\nconst questionTypeMap = {\r\n  1: { label: \"Pilihan Ganda\", color: \"blue\" },\r\n  2: { label: \"Esai\", color: \"purple\" },\r\n};\r\n\r\nconst Questions = ({ subject, bankid, name }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [openUpload, setOpenUpload] = useState(false);\r\n  const [editingQuestion, setEditingQuestion] = useState(null);\r\n\r\n  const { data, isLoading, error } = useGetQuestionsQuery({\r\n    page,\r\n    limit,\r\n    search,\r\n    bankid,\r\n  });\r\n  const [\r\n    deleteQuestion,\r\n    { data: delMessage, isLoading: delLoading, isSuccess, error: delError },\r\n  ] = useDeleteQuestionMutation();\r\n\r\n  const handleOpenForm = (question = null) => {\r\n    setEditingQuestion(question);\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleCloseForm = () => {\r\n    setEditingQuestion(null);\r\n    setOpen(false);\r\n  };\r\n\r\n  const handlePaginationChange = (newPage, newPageSize) => {\r\n    setPage(newPage);\r\n    setLimit(newPageSize);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      message.success(delMessage.message);\r\n    }\r\n\r\n    if (delError) {\r\n      message.error(delError.data.message);\r\n    }\r\n  }, [delMessage, isSuccess, delError]);\r\n\r\n  const renderQuestionList = () => {\r\n    if (error) {\r\n      return (\r\n        <Alert\r\n          type='warning'\r\n          showIcon\r\n          message='Soal Belum Tersedia'\r\n          description={\r\n            error\r\n              ? error.data?.message || \"Gagal memuat soal.\"\r\n              : \"Silakan unggah atau buat soal terlebih dahulu.\"\r\n          }\r\n        />\r\n      );\r\n    }\r\n\r\n    // Success State\r\n    return data?.questions.map((item, index) => {\r\n      const qType = questionTypeMap[item.qtype] || {\r\n        label: \"Tipe Tidak Dikenal\",\r\n        color: \"default\",\r\n      };\r\n      const options = [\r\n        { key: \"A\", text: item.a },\r\n        { key: \"B\", text: item.b },\r\n        { key: \"C\", text: item.c },\r\n        { key: \"D\", text: item.d },\r\n        { key: \"E\", text: item.e },\r\n      ];\r\n\r\n      return (\r\n        <Card\r\n          key={item.id}\r\n          loading={isLoading || delLoading}\r\n          title={\r\n            <Flex vertical>\r\n              <Typography.Text>\r\n                {`Pertanyaan ${(page - 1) * limit + index + 1}`}\r\n              </Typography.Text>\r\n              <Space size={\"small\"}>\r\n                <Tag color={qType.color}>{qType.label}</Tag>\r\n                <Tag>\r\n                  <strong>{item.poin || 0}</strong> Poin\r\n                </Tag>\r\n              </Space>\r\n            </Flex>\r\n          }\r\n          extra={\r\n            <Space>\r\n              <Button\r\n                icon={<EditOutlined />}\r\n                onClick={() => handleOpenForm(item)}\r\n              >\r\n                Ubah\r\n              </Button>\r\n              <Popconfirm\r\n                title='Hapus Soal'\r\n                description='Apakah Anda yakin ingin menghapus soal ini?'\r\n                onConfirm={() => deleteQuestion(item.id)}\r\n                okText='Ya, Hapus'\r\n                cancelText='Batal'\r\n              >\r\n                <Button danger icon={<DeleteOutlined />}>\r\n                  Hapus\r\n                </Button>\r\n              </Popconfirm>\r\n            </Space>\r\n          }\r\n        >\r\n          <div dangerouslySetInnerHTML={createMarkup(item.question)} />\r\n\r\n          {item.qtype === 1 && (\r\n            <>\r\n              <Divider orientation='left' plain>\r\n                Opsi Jawaban\r\n              </Divider>\r\n              {/* -- UI OPSI JAWABAN YANG DIPERBAIKI DIMULAI DI SINI -- */}\r\n              <Row gutter={[16, 16]}>\r\n                {options.map(\r\n                  (opt) =>\r\n                    // Menggunakan logika pengecekan yang lebih kuat\r\n                    opt.text &&\r\n                    opt.text.trim() !== \"\" && (\r\n                      <Col key={opt.key} xs={24} sm={24} md={12}>\r\n                        <Flex\r\n                          align='start'\r\n                          gap='small'\r\n                          style={{\r\n                            padding: \"12px\",\r\n                            borderRadius: \"8px\",\r\n                            border:\r\n                              item.qkey === opt.key\r\n                                ? \"1px solid #52c41a\"\r\n                                : \"1px solid #d9d9d9\",\r\n                            background:\r\n                              item.qkey === opt.key ? \"#f6ffed\" : \"transparent\",\r\n                            width: \"100%\",\r\n                            height: \"100%\", // Memastikan tinggi kolom sama\r\n                          }}\r\n                        >\r\n                          <Tag>{opt.key}</Tag>\r\n                          <div\r\n                            style={{ flex: 1 }}\r\n                            dangerouslySetInnerHTML={createMarkup(opt.text)}\r\n                          />\r\n                          {item.qkey === opt.key && (\r\n                            <CheckCircleFilled\r\n                              style={{\r\n                                color: \"#52c41a\",\r\n                                fontSize: \"16px\",\r\n                                marginTop: \"2px\",\r\n                              }}\r\n                            />\r\n                          )}\r\n                        </Flex>\r\n                      </Col>\r\n                    )\r\n                )}\r\n              </Row>\r\n              {/* -- UI OPSI JAWABAN BERAKHIR DI SINI -- */}\r\n            </>\r\n          )}\r\n        </Card>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Flex vertical gap='large'>\r\n      <Flex align='center' justify='space-between'>\r\n        <Space>\r\n          <Button\r\n            shape='circle'\r\n            icon={<ArrowLeftOutlined />}\r\n            onClick={() => navigate(\"/computer-based-test\")}\r\n          />\r\n          <div>\r\n            <Typography.Title style={{ margin: 0 }} level={4}>\r\n              Bank Soal: {name}\r\n            </Typography.Title>\r\n            <Typography.Text type='secondary'>{subject}</Typography.Text>\r\n          </div>\r\n        </Space>\r\n\r\n        <Space>\r\n          <Upload onClick={() => setOpenUpload(true)} />\r\n          <Add onClick={() => handleOpenForm(null)} />\r\n        </Space>\r\n      </Flex>\r\n\r\n      {data?.questions.length === 0 ? (\r\n        <Empty description='Data pertanyaan belum tersedia' />\r\n      ) : (\r\n        <Spin tip='Memuat data...' spinning={isLoading || delLoading}>\r\n          <Flex vertical gap='large'>\r\n            {renderQuestionList()}\r\n\r\n            <Pagination\r\n              size='small'\r\n              align='center'\r\n              total={data?.totalData}\r\n              pageSize={limit}\r\n              current={page}\r\n              onChange={handlePaginationChange}\r\n              showSizeChanger\r\n              showTotal={(total, range) =>\r\n                `${range[0]}-${range[1]} dari ${total}`\r\n              }\r\n            />\r\n          </Flex>\r\n        </Spin>\r\n      )}\r\n\r\n      {/* Question List */}\r\n\r\n      <FormQues\r\n        title={editingQuestion ? \"Ubah Soal\" : \"Tambah Soal\"}\r\n        open={open}\r\n        onClose={handleCloseForm}\r\n        bankid={bankid}\r\n        ques={editingQuestion} // Pass question data to form for editing\r\n      />\r\n\r\n      <FormUpload\r\n        title={`Upload pertanyaan ${name?.replace(/-/g, \" \")}`}\r\n        open={openUpload}\r\n        onClose={() => setOpenUpload(false)}\r\n        bankid={bankid}\r\n      />\r\n    </Flex>\r\n  );\r\n};\r\n\r\nexport default Questions;\r\n","import { Form, Modal, Select, Input, InputNumber, Switch, message } from \"antd\";\r\nimport { useGetTeachersQuery } from \"../../../service/api/cbt/ApiBank\";\r\nimport {\r\n  useCreateExamMutation,\r\n  useGetClassesQuery,\r\n} from \"../../../service/api/cbt/ApiExam\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\n\r\nconst FormExam = ({ title, open, onClose, exam }) => {\r\n  const { user } = useSelector((state) => state.auth);\r\n  const [form] = Form.useForm();\r\n\r\n  const { data: teachers } = useGetTeachersQuery();\r\n  const { data: classes } = useGetClassesQuery();\r\n\r\n  const [createExam, { isLoading: isCreating }] = useCreateExamMutation();\r\n\r\n  const [bankOptions, setBankOptions] = useState([]);\r\n  const modalTitle = exam ? \"Edit Ujian\" : title;\r\n\r\n  const teacherOpts = useMemo(() => {\r\n    if (!teachers) return [];\r\n    return teachers.map((teacher) => ({\r\n      value: teacher.id,\r\n      label: teacher.name,\r\n      banks: teacher.bank,\r\n    }));\r\n  }, [teachers]);\r\n\r\n  const classOpts = useMemo(() => {\r\n    if (!classes) return [];\r\n    return classes.map((item) => ({\r\n      value: item.id,\r\n      label: item.name,\r\n    }));\r\n  }, [classes]);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      form.resetFields();\r\n\r\n      if (exam && teachers) {\r\n        const teacherData = teacherOpts?.find(\r\n          (opt) => opt.value === exam.teacher\r\n        );\r\n        if (teacherData) {\r\n          const initialBankOptions = (teacherData.banks || []).map((bank) => ({\r\n            value: bank.id,\r\n            label: bank.name,\r\n            type: bank.type,\r\n          }));\r\n          setBankOptions(initialBankOptions);\r\n        }\r\n\r\n        // ## BAGIAN YANG DIPERBAIKI ##\r\n        form.setFieldsValue({\r\n          ...exam,\r\n          // ✅ Ambil ID dari `exam.classes` dengan mengakses properti 'id'\r\n          classes: (exam.classes || []).map((c) => c.id),\r\n          // ✅ Ambil ID dari `exam.banks` dengan mengakses properti 'id'\r\n          bank: (exam.banks || []).map((b) => b.id),\r\n        });\r\n      } else {\r\n        form.resetFields();\r\n        setBankOptions([]);\r\n        if (user?.level === \"teacher\" && teacherOpts.length > 0) {\r\n          form.setFieldsValue({ teacher: user.id });\r\n          const teacherData = teacherOpts.find((opt) => opt.value === user.id);\r\n          if (teacherData) {\r\n            const initialBankOptions = (teacherData.banks || []).map(\r\n              (bank) => ({\r\n                value: bank.id,\r\n                label: bank.name,\r\n                type: bank.type,\r\n              })\r\n            );\r\n            setBankOptions(initialBankOptions);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, [open, exam, teachers, user, form, teacherOpts]);\r\n\r\n  const handleTeacherChange = (value, option) => {\r\n    form.setFieldsValue({ bank: [] });\r\n    if (option) {\r\n      setBankOptions(\r\n        (option.banks || []).map((bank) => ({\r\n          value: bank.id,\r\n          label: bank.name,\r\n          type: bank.type,\r\n        }))\r\n      );\r\n    } else {\r\n      setBankOptions([]);\r\n    }\r\n  };\r\n\r\n  const handleBankChange = (selectedIds) => {\r\n    if (selectedIds.length === 0) return;\r\n\r\n    const lastSelectedId = selectedIds[selectedIds.length - 1];\r\n    const lastSelectedBank = bankOptions.find(\r\n      (b) => b.value === lastSelectedId\r\n    );\r\n\r\n    if (lastSelectedBank?.type === \"paket\") {\r\n      form.setFieldsValue({ bank: [lastSelectedId] });\r\n    } else {\r\n      const nonPaketIds = selectedIds.filter((id) => {\r\n        const bank = bankOptions.find((b) => b.value === id);\r\n        return bank && bank.type !== \"paket\";\r\n      });\r\n      form.setFieldsValue({ bank: nonPaketIds });\r\n    }\r\n  };\r\n\r\n  // ## FUNGSI HANDLE SUBMIT YANG TELAH DISESUAIKAN ##\r\n  const handleSubmit = async (values) => {\r\n    // 1. Transformasi 'bank' dari array ID menjadi array of object\r\n    // Backend mengharapkan: [{ bankid, pg, essay }]\r\n    // Karena UI tidak menyediakan input untuk pg/essay, kita kirim null\r\n    const transformedBank = values.bank.map((bankId) => ({\r\n      bankid: bankId,\r\n      pg: null,\r\n      essay: null,\r\n    }));\r\n\r\n    // 2. Transformasi 'classes' dari array ID menjadi array of object\r\n    // Backend mengharapkan: [{ value }]\r\n    const transformedClasses = values.classes.map((classId) => ({\r\n      value: classId,\r\n    }));\r\n\r\n    // 3. Buat payload dengan struktur yang benar\r\n    const payload = {\r\n      ...values,\r\n      bank: transformedBank,\r\n      classes: transformedClasses,\r\n      isshuffle: values.isshuffle || false,\r\n    };\r\n\r\n    // 4. Jika 'exam' ada (mode edit), tambahkan 'examid' dan 'token' ke payload\r\n    if (exam) {\r\n      payload.examid = exam.id;\r\n      payload.token = exam.token; // Pastikan object 'exam' memiliki properti token\r\n    }\r\n\r\n    try {\r\n      await createExam(payload).unwrap();\r\n      message.success(`Ujian berhasil ${exam ? \"diperbarui\" : \"dibuat\"}!`);\r\n      onClose();\r\n    } catch (error) {\r\n      console.error(\"Gagal menyimpan ujian:\", error);\r\n      message.error(\"Terjadi kesalahan saat menyimpan ujian.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title={modalTitle}\r\n      open={open}\r\n      onCancel={onClose}\r\n      destroyOnHidden // Ganti destroyOnHidden menjadi destroyOnClose\r\n      okText='Simpan'\r\n      cancelText='Batal'\r\n      onOk={form.submit} // Disederhanakan\r\n      confirmLoading={isCreating}\r\n      style={{ top: 20 }}\r\n    >\r\n      <Form\r\n        form={form}\r\n        layout='vertical'\r\n        onFinish={handleSubmit}\r\n        initialValues={{ mc_score: 100, essay_score: 0, isshuffle: false }}\r\n      >\r\n        <Form.Item\r\n          name='teacher'\r\n          label='Pilih Guru'\r\n          rules={[{ required: true, message: \"Pilih guru terlebih dahulu\" }]}\r\n        >\r\n          <Select\r\n            placeholder='Cari Guru'\r\n            options={teacherOpts}\r\n            onChange={handleTeacherChange}\r\n            allowClear\r\n            showSearch\r\n            disabled={user?.level === \"teacher\"}\r\n            filterOption={(input, option) =>\r\n              (option?.label ?? \"\").toLowerCase().includes(input.toLowerCase())\r\n            }\r\n            virtual={false}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name='bank'\r\n          label='Pilih Bank Soal'\r\n          rules={[\r\n            { required: true, message: \"Pilih bank soal terlebih dahulu\" },\r\n          ]}\r\n        >\r\n          <Select\r\n            mode='multiple'\r\n            placeholder='Pilih satu atau lebih bank soal'\r\n            options={bankOptions}\r\n            onChange={handleBankChange}\r\n            allowClear\r\n            virtual={false}\r\n            showSearch\r\n            filterOption={(input, option) =>\r\n              (option?.label ?? \"\").toLowerCase().includes(input.toLowerCase())\r\n            }\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name='classes'\r\n          label='Untuk Kelas'\r\n          rules={[{ required: true, message: \"Pilih kelas terlebih dahulu\" }]}\r\n        >\r\n          <Select\r\n            mode='multiple'\r\n            placeholder='Pilih satu atau lebih kelas'\r\n            options={classOpts}\r\n            allowClear\r\n            showSearch\r\n            filterOption={(input, option) =>\r\n              option.label.toLowerCase().includes(input.toLowerCase())\r\n            }\r\n            getPopupContainer={(triggerNode) => triggerNode.parentNode}\r\n            virtual={false}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name='name'\r\n          label='Nama Ujian'\r\n          rules={[{ required: true, message: \"Masukkan nama ujian\" }]}\r\n        >\r\n          <Input placeholder='maks 30 karakter' maxLength={30} />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name='duration'\r\n          label='Durasi (Menit)'\r\n          rules={[{ required: true, message: \"Masukkan durasi ujian\" }]}\r\n        >\r\n          <InputNumber\r\n            style={{ width: \"100%\" }}\r\n            placeholder='Masukkan durasi dalam menit'\r\n            min={1}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name='mc_score'\r\n          label='Persentase Nilai PG'\r\n          rules={[{ required: true, message: \"Masukkan persentase nilai PG\" }]}\r\n        >\r\n          <InputNumber style={{ width: \"100%\" }} min={0} max={100} />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name='essay_score'\r\n          label='Persentase Nilai Essay'\r\n          rules={[\r\n            { required: true, message: \"Masukkan persentase nilai essay\" },\r\n          ]}\r\n        >\r\n          <InputNumber style={{ width: \"100%\" }} min={0} max={100} />\r\n        </Form.Item>\r\n\r\n        <Form.Item name='isshuffle' label='Acak Soal?' valuePropName='checked'>\r\n          <Switch />\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default FormExam;\r\n","import {\r\n  Alert,\r\n  Card,\r\n  Col,\r\n  Divider,\r\n  Flex,\r\n  Input,\r\n  Modal,\r\n  Pagination,\r\n  Row,\r\n  Space,\r\n  Spin,\r\n  Tag,\r\n  Tooltip,\r\n  Typography,\r\n  message,\r\n} from \"antd\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Add from \"../../../components/buttons/Add\";\r\nimport {\r\n  useDeleteExamMutation,\r\n  useGetExamsQuery,\r\n} from \"../../../service/api/cbt/ApiExam\";\r\nimport {\r\n  CalendarOutlined,\r\n  ClockCircleOutlined,\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  FolderOpenOutlined,\r\n  UserOutlined,\r\n} from \"@ant-design/icons\";\r\nimport FormExam from \"./FormExam\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\n\r\nconst { Text, Title } = Typography;\r\nconst { confirm } = Modal;\r\n\r\nconst Exams = () => {\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(8);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [onSearch, setOnSearch] = useState(\"\");\r\n  const [exam, setExam] = useState({});\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const { data, isLoading, error } = useGetExamsQuery({\r\n    page,\r\n    limit,\r\n    search: onSearch,\r\n  });\r\n  const [\r\n    deleteExam,\r\n    {\r\n      data: delMessage,\r\n      isSuccess,\r\n      error: delError,\r\n      isLoading: delLoading,\r\n      reset,\r\n    },\r\n  ] = useDeleteExamMutation();\r\n\r\n  const examsData = data?.exams;\r\n\r\n  const handlePaginationChange = (newPage, newPageSize) => {\r\n    setPage(newPage);\r\n    setLimit(newPageSize);\r\n  };\r\n\r\n  const handleEdit = (record) => {\r\n    setExam(record);\r\n    setIsEdit(true);\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setExam({});\r\n    setIsEdit(false);\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    confirm({\r\n      title: \"Apa anda yakin menghapus data ini?\",\r\n      content: \"Data yang sudah dihapus tidak bisa dikembalikan\",\r\n      okText: \"Ya, hapus\",\r\n      okType: \"danger\",\r\n      cancelText: \"Batal\",\r\n      onOk() {\r\n        deleteExam(id);\r\n      },\r\n      onCancel() {\r\n        message.info(\"Aksi dibatalkan\");\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleReport = (record) => {\r\n    window.open(\r\n      `/computer-based-test?report=true&examid=${record.id}&token=${\r\n        record.token\r\n      }&name=${record.name?.replace(/\\s+/g, \"-\")}`,\r\n      \"_blank\"\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      message.success(delMessage.message);\r\n      reset();\r\n    }\r\n\r\n    if (delError) {\r\n      message.error(delError.data.message);\r\n      reset();\r\n    }\r\n  }, [delMessage, isSuccess, delError]);\r\n\r\n  useEffect(() => {\r\n    const timeOut = setTimeout(() => {\r\n      setOnSearch(search);\r\n      setPage(1);\r\n    }, 500);\r\n\r\n    return () => clearTimeout(timeOut);\r\n  }, [search]);\r\n\r\n  if (error) {\r\n    return (\r\n      <Alert\r\n        showIcon\r\n        type=\"error\"\r\n        message=\"Terjadi Kesalahan\"\r\n        description={error ? error.data.message : \"Jadwal ujian belum tersedia\"}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Spin tip=\"Memuat data...\" spinning={isLoading}>\r\n      <Flex vertical gap={\"large\"}>\r\n        <Flex align=\"center\" justify=\"space-between\">\r\n          <Typography.Title style={{ margin: 0 }} level={5}>\r\n            Managemen Penjadwalan\r\n          </Typography.Title>\r\n\r\n          <Space>\r\n            <Input.Search\r\n              placeholder=\"Cari data ...\"\r\n              allowClear\r\n              onChange={(e) => setSearch(e.target.value)}\r\n            />\r\n\r\n            <Add onClick={() => setOpen(true)} />\r\n          </Space>\r\n        </Flex>\r\n\r\n        {/* Exams */}\r\n        <Row gutter={[16, 16]}>\r\n          {examsData?.map((item) => (\r\n            <Col key={item.id} sm={24} md={12} lg={6}>\r\n              <Card\r\n                hoverable\r\n                loading={isLoading || delLoading}\r\n                title={\r\n                  <Tooltip title={item.name}>\r\n                    <Text ellipsis>{item.name}</Text>\r\n                  </Tooltip>\r\n                }\r\n                extra={\r\n                  <Tag color={item.isactive ? \"green\" : \"volcano\"}>\r\n                    {item.isactive ? \"Aktif\" : \"Tidak Aktif\"}\r\n                  </Tag>\r\n                }\r\n                actions={[\r\n                  <Tooltip title=\"Detail\">\r\n                    <FolderOpenOutlined\r\n                      key={\"detail\"}\r\n                      onClick={() => handleReport(item)}\r\n                    />\r\n                  </Tooltip>,\r\n                  <Tooltip title=\"Edit\">\r\n                    <EditOutlined\r\n                      key={\"edit\"}\r\n                      onClick={() => handleEdit(item)}\r\n                    />\r\n                  </Tooltip>,\r\n                  <Tooltip title=\"Hapus\">\r\n                    <DeleteOutlined\r\n                      key={\"remove\"}\r\n                      onClick={() => handleDelete(item.id)}\r\n                    />\r\n                  </Tooltip>,\r\n                ]}\r\n              >\r\n                <Flex vertical gap=\"small\">\r\n                  {/* Token Section */}\r\n                  <Flex align=\"center\" justify=\"space-between\">\r\n                    <Text type=\"secondary\">Token Ujian</Text>\r\n                    <Text strong copyable>\r\n                      {item.token}\r\n                    </Text>\r\n                  </Flex>\r\n\r\n                  <Flex align=\"center\" justify=\"space-between\">\r\n                    <Text type=\"secondary\">Acak Soal</Text>\r\n                    <Tag color={item.isshuffle ? \"blue\" : \"purple\"}>\r\n                      {item.isshuffle ? \"Acak\" : \"Urut\"}\r\n                    </Tag>\r\n                  </Flex>\r\n\r\n                  <Divider style={{ margin: \"8px 0\" }} />\r\n                  {/* Bank Section */}\r\n                  <Flex vertical>\r\n                    <Text type=\"secondary\">Bank Soal</Text>\r\n\r\n                    <Flex vertical gap={\"small\"}>\r\n                      {item.banks?.map((b, i) => (\r\n                        <Tooltip key={i} title={b.name}>\r\n                          <Typography.Text ellipsis>\r\n                            <Tag color=\"magenta\">{b.name}</Tag>\r\n                          </Typography.Text>\r\n                        </Tooltip>\r\n                      ))}\r\n                    </Flex>\r\n                  </Flex>\r\n\r\n                  <Divider style={{ margin: \"8px 0\" }} />\r\n\r\n                  {/* Info Section */}\r\n                  <Space\r\n                    direction=\"vertical\"\r\n                    size=\"small\"\r\n                    style={{ width: \"100%\" }}\r\n                  >\r\n                    <Flex align=\"center\" gap={8}>\r\n                      <UserOutlined />\r\n                      <Text>{item.teacher_name}</Text>\r\n                    </Flex>\r\n                    <Flex align=\"center\" gap={8}>\r\n                      <ClockCircleOutlined />\r\n                      <Text>{item.duration} Menit</Text>\r\n                    </Flex>\r\n                    <Flex align=\"center\" gap={8}>\r\n                      <CalendarOutlined />\r\n                      <Text>\r\n                        {new Date(item.createdat).toLocaleDateString(\"id-ID\", {\r\n                          day: \"numeric\",\r\n                          month: \"short\",\r\n                          year: \"numeric\",\r\n                        })}\r\n                      </Text>\r\n                    </Flex>\r\n                  </Space>\r\n\r\n                  <Divider style={{ margin: \"8px 0\" }} />\r\n\r\n                  {/* Classes Section */}\r\n\r\n                  <Flex wrap=\"wrap\" gap=\"8px 0\">\r\n                    {item.classes.map((kelas) => (\r\n                      <Tag color=\"cyan\" key={kelas.id}>\r\n                        {kelas.name}\r\n                      </Tag>\r\n                    ))}\r\n                  </Flex>\r\n                </Flex>\r\n              </Card>\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n\r\n        {examsData?.length > 0 && (\r\n          <Pagination\r\n            size=\"small\"\r\n            align=\"center\"\r\n            total={data?.totalData}\r\n            pageSize={limit}\r\n            current={page}\r\n            onChange={handlePaginationChange}\r\n            showSizeChanger\r\n            showTotal={(total, range) =>\r\n              `${range[0]}-${range[1]} dari ${total} item`\r\n            }\r\n          />\r\n        )}\r\n\r\n        <FormExam\r\n          title={isEdit ? \"Ubah Jadwal Ujian\" : \"Simpan Jadwan Ujian\"}\r\n          open={open}\r\n          onClose={handleClose}\r\n          exam={exam}\r\n        />\r\n      </Flex>\r\n    </Spin>\r\n  );\r\n};\r\n\r\nexport default Exams;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  useFinishCbtMutation,\r\n  useGetExamLogQuery,\r\n  useRejoinExamMutation,\r\n  useRetakeExamMutation,\r\n} from \"../../../service/api/log/ApiLog\";\r\nimport TableLayout from \"../../../components/table/TableLayout\";\r\nimport { Dropdown, Modal, Tag, message } from \"antd\";\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst Logs = ({ examid, classid, tableRef }) => {\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const { data, isLoading } = useGetExamLogQuery({\r\n    page,\r\n    limit,\r\n    search,\r\n    exam: examid,\r\n    classid,\r\n  });\r\n\r\n  const [finishCbt, { isLoading: finishLoading }] = useFinishCbtMutation();\r\n  const [rejoinExam, { isLoading: rejoingLoading }] = useRejoinExamMutation();\r\n  const [retakeExam, { isLoading: retakeLoading }] = useRetakeExamMutation();\r\n\r\n  const handleSearch = (value) => {\r\n    setSearch(value);\r\n    setPage(1);\r\n  };\r\n\r\n  const handleSelect = (record, { key }) => {\r\n    switch (key) {\r\n      case \"detail\":\r\n        message.info(\"detail\");\r\n        break;\r\n\r\n      case \"allow\":\r\n        confirm({\r\n          title: \"Apakah anda yakin mengizinkan peserta mengikuti ujian ini?\",\r\n          content:\r\n            \"peserta harus refresh halaman ujian agar dapat mengikuti ujian ini\",\r\n          okText: \"Ya, Izinkan\",\r\n          cancelText: \"Tutup\",\r\n          okType: \"danger\",\r\n          async onOk() {\r\n            try {\r\n              await rejoinExam(record.log_id);\r\n              message.success(\r\n                `${record.student_name} telah diizinkan masuk kembali`\r\n              );\r\n            } catch (error) {\r\n              message.error(error?.data?.message || \"Terjadi kesalahan\");\r\n            }\r\n          },\r\n          onCancel() {\r\n            message.info(\"Aksi dibatalkan\");\r\n          },\r\n        });\r\n        break;\r\n\r\n      case \"finish\":\r\n        confirm({\r\n          title: `Apakah anda yakin menyelesaikan ujian ${record.student_name} ?`,\r\n          content: \"Setelah diselesaikan peserta tidak ada ikut ujian ini\",\r\n          okText: \"Ya, Selesaikan\",\r\n          cancelText: \"Tutup\",\r\n          okType: \"danger\",\r\n          async onOk() {\r\n            try {\r\n              await finishCbt(record.log_id);\r\n              message.success(\r\n                `Ujian ${record.student_name} telah diselesaikan`\r\n              );\r\n            } catch (error) {\r\n              message.error(error?.data?.message || \"Terjadi kesalahan\");\r\n            }\r\n          },\r\n          onCancel() {\r\n            message.info(\"Aksi dibatalkan\");\r\n          },\r\n        });\r\n        break;\r\n\r\n      case \"retake\":\r\n        confirm({\r\n          title: `Apakah anda yakin mengulang ujian ${record.student_name} ?`,\r\n          content: \"Jawaban dan nilai yang telah diperoleh akan dihapus\",\r\n          okText: `Ya, Ulangi Ujian ${record.student_name}`,\r\n          cancelText: \"Tutup\",\r\n          okType: \"danger\",\r\n          async onOk() {\r\n            try {\r\n              await retakeExam(record.log_id);\r\n              message.success(\r\n                `Data ujian ${record.student_name} telah direset`\r\n              );\r\n            } catch (error) {\r\n              message.error(error?.data?.message || \"Terjadi Kesalahan\");\r\n            }\r\n          },\r\n          onCancel() {\r\n            message.info(\"Aksi dibatalkan\");\r\n          },\r\n        });\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleTableChange = (pagination) => {\r\n    setPage(pagination.current);\r\n    setLimit(pagination.pageSize);\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: \"No\",\r\n      key: \"no\",\r\n      render: (text, record, index) => (page - 1) * limit + index + 1,\r\n    },\r\n    { title: \"NIS\", dataIndex: \"nis\", key: \"nis\" },\r\n    { title: \"Nama Siswa\", dataIndex: \"student_name\", key: \"student_name\" },\r\n    { title: \"Tingkat\", dataIndex: \"grade_name\", key: \"grade_name\" },\r\n    { title: \"Kelas\", dataIndex: \"class_name\", key: \"class_name\" },\r\n    { title: \"Ip\", dataIndex: \"ip\", key: \"ip\" },\r\n    { title: \"Browser\", dataIndex: \"browser\", key: \"browser\" },\r\n    {\r\n      title: \"Mulai\",\r\n      dataIndex: \"createdat\",\r\n      key: \"createdat\",\r\n      render: (text) => (\r\n        <Tag color='volcano'>{text && new Date(text).toLocaleString()}</Tag>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      key: \"status\",\r\n      render: (record) =>\r\n        record.ispenalty ? (\r\n          <Tag color='red'>Melanggar</Tag>\r\n        ) : record.isactive ? (\r\n          <Tag color='blue'>Mengerjakan</Tag>\r\n        ) : record.isdone ? (\r\n          <Tag color='green'>Selesai</Tag>\r\n        ) : (\r\n          <Tag>Belum Masuk</Tag>\r\n        ),\r\n    },\r\n    {\r\n      title: \"Aksi\",\r\n      key: \"action\",\r\n      render: (record) => (\r\n        <Dropdown.Button\r\n          menu={{\r\n            items: [\r\n              {\r\n                key: \"detail\",\r\n                label: \"Lihat Jawaban\",\r\n                disabled: !record.log_id,\r\n              },\r\n              {\r\n                key: \"allow\",\r\n                label: \"Izikan Masuk\",\r\n                disabled: !record.isactive,\r\n              },\r\n              {\r\n                key: \"finish\",\r\n                label: \"Selesaikan Ujian\",\r\n                disabled: !record.isdone || !record.isactive,\r\n              },\r\n              {\r\n                key: \"retake\",\r\n                label: \"Ulangi Ujian\",\r\n                disabled: !record.isdone,\r\n              },\r\n            ],\r\n\r\n            onClick: ({ key }) => handleSelect(record, { key }),\r\n          }}\r\n        >\r\n          Pilihan Aksi\r\n        </Dropdown.Button>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <TableLayout\r\n      tableRef={tableRef}\r\n      onSearch={handleSearch}\r\n      isLoading={isLoading || rejoingLoading || finishLoading || retakeLoading}\r\n      columns={columns}\r\n      source={data?.result}\r\n      rowKey='student_id'\r\n      page={page}\r\n      limit={limit}\r\n      totalData={data?.totalData}\r\n      onChange={handleTableChange}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Logs;\r\n","import React, { useMemo, useState } from \"react\";\r\nimport { useGetExamAnalysisQuery } from \"../../../service/api/cbt/ApiAnswer\";\r\nimport TableLayout from \"../../../components/table/TableLayout\";\r\nimport { Tag, Tooltip, Typography } from \"antd\";\r\nimport { CheckCircleOutlined, CloseCircleOutlined } from \"@ant-design/icons\";\r\n\r\nconst Analysis = ({ examid, classid, tableRef }) => {\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const { data, isLoading } = useGetExamAnalysisQuery({\r\n    page,\r\n    limit,\r\n    search,\r\n    exam: examid,\r\n    classid,\r\n  });\r\n\r\n  const handleSearch = (value) => {\r\n    setSearch(value);\r\n    setPage(1);\r\n  };\r\n\r\n  const handleTableChange = (pagination) => {\r\n    setPage(pagination.current);\r\n    setLimit(pagination.pageSize);\r\n  };\r\n\r\n  const columns = useMemo(() => {\r\n    if (!data) return [];\r\n\r\n    // --- Kolom Statis di Kiri (Info & Ringkasan) ---\r\n    const leftFixedColumns = [\r\n      {\r\n        title: \"No\",\r\n        key: \"no\",\r\n        width: 60,\r\n        fixed: \"left\",\r\n        align: \"center\",\r\n        render: (text, record, index) => (page - 1) * limit + index + 1,\r\n      },\r\n      {\r\n        title: \"Nama Siswa\",\r\n        dataIndex: \"name\",\r\n        key: \"name\",\r\n        width: 250,\r\n        fixed: \"left\",\r\n      },\r\n    ];\r\n\r\n    // --- Kolom Grup Jawaban (Dinamis dengan Ikon) ---\r\n    const answerColumns = {\r\n      title: \"Analisis Jawaban Siswa\",\r\n      align: \"center\",\r\n      children: data.questions.map((question, index) => ({\r\n        // Header dengan Tooltip untuk info Kunci Jawaban & Poin\r\n        title: (\r\n          <Tooltip title={`Kunci: ${question.qkey} | Poin: ${question.poin}`}>\r\n            {`S${index + 1}`}\r\n          </Tooltip>\r\n        ),\r\n        dataIndex: \"answers\",\r\n        key: `question_${question.id}`,\r\n        width: 75,\r\n        align: \"center\",\r\n        render: (answers) => {\r\n          const studentAnswerObj = answers?.find(\r\n            (ans) => ans.id === question.id\r\n          );\r\n          const studentAnswer = studentAnswerObj\r\n            ? studentAnswerObj.mc.toUpperCase()\r\n            : \"-\";\r\n          const isCorrect = studentAnswer === question.qkey.toUpperCase();\r\n\r\n          if (!studentAnswerObj) {\r\n            return <Typography.Text type=\"secondary\">-</Typography.Text>;\r\n          }\r\n\r\n          return (\r\n            <Typography.Text\r\n              style={{\r\n                marginLeft: \"4px\",\r\n                color: isCorrect ? \"#52c41a\" : \"#f5222d\",\r\n              }}\r\n            >\r\n              {studentAnswer}\r\n            </Typography.Text>\r\n          );\r\n        },\r\n      })),\r\n    };\r\n\r\n    // --- Kolom Statis di Kanan (Hasil Akhir) ---\r\n    const rightFixedColumns = [\r\n      {\r\n        title: \"Benar\",\r\n        dataIndex: \"correct\",\r\n        key: \"correct\",\r\n        width: 80,\r\n        fixed: \"right\",\r\n        align: \"center\",\r\n        render: (text) => (\r\n          <Typography.Text strong style={{ color: \"#52c41a\" }}>\r\n            {text}\r\n          </Typography.Text>\r\n        ),\r\n      },\r\n      {\r\n        title: \"Salah\",\r\n        dataIndex: \"incorrect\",\r\n        key: \"incorrect\",\r\n        width: 80,\r\n        fixed: \"right\",\r\n        render: (text) => (\r\n          <Typography.Text strong style={{ color: \"#f5222d\" }}>\r\n            {text}\r\n          </Typography.Text>\r\n        ),\r\n      },\r\n      {\r\n        title: \"Nilai Akhir\",\r\n        dataIndex: \"mc_score\",\r\n        key: \"mc_score\",\r\n        width: 100,\r\n        fixed: \"right\",\r\n        align: \"center\",\r\n        render: (score) => (\r\n          <Tag\r\n            color={score >= 75 ? \"blue\" : \"volcano\"}\r\n            style={{ fontSize: 14, padding: \"4px 8px\" }}\r\n          >\r\n            {score}\r\n          </Tag>\r\n        ),\r\n      },\r\n    ];\r\n\r\n    return [...leftFixedColumns, answerColumns, ...rightFixedColumns];\r\n  }, [data, page, limit]);\r\n\r\n  return (\r\n    <TableLayout\r\n      tableRef={tableRef}\r\n      onSearch={handleSearch}\r\n      isLoading={isLoading}\r\n      columns={columns}\r\n      source={data?.students}\r\n      rowKey=\"id\"\r\n      page={page}\r\n      limit={limit}\r\n      totalData={data?.totalData}\r\n      onChange={handleTableChange}\r\n      bordered\r\n      scroll={{ x: \"max-content\" }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Analysis;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useGetExamScoreListQuery } from \"../../../service/api/cbt/ApiAnswer\";\r\nimport {\r\n  Table,\r\n  Card,\r\n  Input,\r\n  Typography,\r\n  Space,\r\n  Row,\r\n  Col,\r\n  Tag,\r\n  Alert,\r\n} from \"antd\";\r\n\r\nconst { Title, Text } = Typography;\r\nconst { Search } = Input;\r\n\r\nconst Scores = ({ examid, classid, tableRef }) => {\r\n  // State untuk manajemen paginasi dan pencarian\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [onSearch, setOnSearch] = useState(\"\");\r\n\r\n  // Hook RTK Query untuk mengambil data\r\n  const { data, isLoading, isError } = useGetExamScoreListQuery({\r\n    exam: examid,\r\n    classid,\r\n    page,\r\n    limit,\r\n    search: onSearch,\r\n  });\r\n\r\n  // Efek untuk debouncing input pencarian (menunda eksekusi pencarian)\r\n  useEffect(() => {\r\n    const timeOut = setTimeout(() => {\r\n      setOnSearch(search);\r\n      if (page !== 1) setPage(1); // Kembali ke halaman 1 jika sedang tidak di halaman 1\r\n    }, 500);\r\n\r\n    return () => clearTimeout(timeOut);\r\n  }, [search]);\r\n\r\n  // Handler saat ada perubahan pada tabel (paginasi)\r\n  const handleTableChange = (pagination) => {\r\n    setPage(pagination.current);\r\n    setLimit(pagination.pageSize);\r\n  };\r\n\r\n  // Konfigurasi kolom untuk Ant Design Table\r\n  const columns = [\r\n    {\r\n      title: \"No\",\r\n      key: \"no\",\r\n      render: (text, record, index) => (page - 1) * limit + index + 1,\r\n      width: \"5%\",\r\n    },\r\n    {\r\n      title: \"NIS\",\r\n      dataIndex: \"student_nis\",\r\n      key: \"student_nis\",\r\n    },\r\n    {\r\n      title: \"Nama Siswa\",\r\n      dataIndex: \"student_name\",\r\n      key: \"student_name\",\r\n    },\r\n    {\r\n      title: \"Tingkat\",\r\n      dataIndex: \"student_grade\",\r\n      key: \"student_grade\",\r\n    },\r\n    {\r\n      title: \"Kelas\",\r\n      dataIndex: \"student_class\",\r\n      key: \"student_class\",\r\n    },\r\n    {\r\n      title: \"Benar\",\r\n      dataIndex: \"correct\",\r\n      key: \"correct\",\r\n      align: \"center\",\r\n      render: (correct) => <Text style={{ color: \"#52c41a\" }}>{correct}</Text>,\r\n    },\r\n    {\r\n      title: \"Salah\",\r\n      dataIndex: \"incorrect\",\r\n      key: \"incorrect\",\r\n      align: \"center\",\r\n      render: (incorrect) => (\r\n        <Text style={{ color: \"#f5222d\" }}>{incorrect}</Text>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Skor PG\",\r\n      dataIndex: \"mc_score\",\r\n      key: \"mc_score\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Skor Esai\",\r\n      dataIndex: \"essay_score\",\r\n      key: \"essay_score\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Nilai Akhir\",\r\n      dataIndex: \"score\",\r\n      key: \"score\",\r\n      align: \"center\",\r\n      render: (score) => (\r\n        <Text strong style={{ color: \"#1890ff\" }}>\r\n          {score}\r\n        </Text>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  // Render kondisi error\r\n  if (isError) {\r\n    return (\r\n      <Alert\r\n        message=\"Terjadi Kesalahan\"\r\n        description=\"Gagal memuat data nilai. Silakan coba lagi nanti.\"\r\n        type=\"error\"\r\n        showIcon\r\n      />\r\n    );\r\n  }\r\n\r\n  const cardTitle = data?.exam_name || \"Daftar Nilai\";\r\n  const cardDescription = (\r\n    <Space direction=\"vertical\" size=\"small\">\r\n      <Text type=\"secondary\">Guru: {data?.teacher_name}</Text>\r\n      <Text type=\"secondary\">Sekolah: {data?.homebase_name}</Text>\r\n    </Space>\r\n  );\r\n\r\n  return (\r\n    <div ref={tableRef}>\r\n      <Card>\r\n        <Title level={4}>{cardTitle}</Title>\r\n        {cardDescription}\r\n\r\n        <Row justify=\"end\" style={{ margin: \"16px 0\" }}>\r\n          <Col>\r\n            <Search\r\n              placeholder=\"Cari nama atau NIS siswa...\"\r\n              value={search}\r\n              onChange={(e) => setSearch(e.target.value)}\r\n              style={{ width: 280 }}\r\n              allowClear\r\n              enterButton\r\n            />\r\n          </Col>\r\n        </Row>\r\n\r\n        <Table\r\n          columns={columns}\r\n          dataSource={data?.students || []}\r\n          rowKey=\"student_id\"\r\n          loading={isLoading}\r\n          onChange={handleTableChange}\r\n          pagination={{\r\n            current: page,\r\n            pageSize: limit,\r\n            total: data?.totalData || 0,\r\n            showSizeChanger: true,\r\n            pageSizeOptions: [\"10\", \"20\", \"50\", \"100\"],\r\n            showTotal: (total, range) =>\r\n              `${range[0]}-${range[1]} dari ${total} data`,\r\n          }}\r\n          scroll={{ x: \"max-content\" }} // Membuat tabel responsif horizontal\r\n        />\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Scores;\r\n","import { ArrowLeftOutlined, DownloadOutlined } from \"@ant-design/icons\";\r\nimport { Button, Flex, Select, Space, Tabs, Typography, message } from \"antd\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Logs from \"./Logs\";\r\nimport Analysis from \"./Analysis\";\r\nimport Scores from \"./Scores\";\r\nimport { useGetFilterQuery } from \"../../../service/api/log/ApiLog\";\r\nimport * as XLSX from \"xlsx\";\r\n\r\nconst Report = ({ name, examid, token }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const [classid, setClassid] = useState(\"\");\r\n  const [activeTab, setActiveTab] = useState(\"1\");\r\n\r\n  const logsTableRef = useRef(null);\r\n  const analysisTableRef = useRef(null);\r\n  const scoreTableRef = useRef(null);\r\n\r\n  const { data } = useGetFilterQuery({ exam: examid }, { skip: !examid });\r\n\r\n  const classOpts = data?.map((item) => ({ value: item.id, label: item.name }));\r\n\r\n  const handleBack = () => {\r\n    navigate(\"/computer-based-test\");\r\n  };\r\n\r\n  const handleSelect = (value) => {\r\n    setClassid(value);\r\n  };\r\n\r\n  const exportHtmlTableToExcel = (ref, fileName) => {\r\n    if (!ref.current) {\r\n      message.error(\"Tabel tidak ditemukan, tidak dapat mengunduh data.\");\r\n      return;\r\n    }\r\n    // Cari elemen <table> di dalam div yang direferensikan\r\n    const table = ref.current.querySelector(\"table\");\r\n    if (!table) {\r\n      message.error(\"Elemen tabel HTML tidak ditemukan.\");\r\n      return;\r\n    }\r\n\r\n    const workbook = XLSX.utils.book_new();\r\n    const worksheet = XLSX.utils.table_to_sheet(table);\r\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Data\");\r\n    XLSX.writeFile(workbook, `${fileName}.xlsx`);\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    switch (activeTab) {\r\n      case \"1\":\r\n        exportHtmlTableToExcel(\r\n          logsTableRef,\r\n          `Absensi_${name.replace(/-/g, \"_\")}`\r\n        );\r\n        break;\r\n      case \"2\":\r\n        exportHtmlTableToExcel(\r\n          analysisTableRef,\r\n          `Analisis_${name.replace(/-/g, \"_\")}`\r\n        );\r\n\r\n        break;\r\n      case \"3\":\r\n        exportHtmlTableToExcel(\r\n          scoreTableRef,\r\n          `Nilai_${name.replace(/-/g, \"_\")}`\r\n        );\r\n\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const items = [\r\n    {\r\n      label: \"Absen\",\r\n      key: \"1\",\r\n      children: (\r\n        <Logs examid={examid} classid={classid} tableRef={logsTableRef} />\r\n      ),\r\n    },\r\n    {\r\n      label: \"Analisis\",\r\n      key: \"2\",\r\n      children: (\r\n        <Analysis\r\n          examid={examid}\r\n          classid={classid}\r\n          tableRef={analysisTableRef}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      label: \"Nilai\",\r\n      key: \"3\",\r\n      children: (\r\n        <Scores examid={examid} classid={classid} tableRef={scoreTableRef} />\r\n      ),\r\n    },\r\n  ];\r\n  return (\r\n    <Flex vertical gap={\"small\"}>\r\n      <Flex align=\"center\" justify=\"space-between\">\r\n        <Space>\r\n          <Button\r\n            shape=\"circle\"\r\n            icon={<ArrowLeftOutlined />}\r\n            onClick={handleBack}\r\n          />\r\n          <div>\r\n            <Typography.Title style={{ margin: 0 }} level={5}>\r\n              {name?.replace(/-/g, \" \")}\r\n            </Typography.Title>\r\n\r\n            <Typography.Text copyable strong>\r\n              {token}\r\n            </Typography.Text>\r\n          </div>\r\n        </Space>\r\n\r\n        <Space>\r\n          <Select\r\n            style={{ width: 200 }}\r\n            placeholder=\"Pilih Kelas\"\r\n            options={classOpts}\r\n            onChange={handleSelect}\r\n            allowClear\r\n          />\r\n\r\n          <Button icon={<DownloadOutlined />} onClick={handleDownload}>\r\n            Unduh Data\r\n          </Button>\r\n        </Space>\r\n      </Flex>\r\n\r\n      <Tabs centered items={items} onChange={(key) => setActiveTab(key)} />\r\n    </Flex>\r\n  );\r\n};\r\n\r\nexport default Report;\r\n","import MainLayout from \"../../../components/layout/MainLayout\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport { Tabs } from \"antd\";\r\nimport Bank from \"../bank/Bank\";\r\nimport Questions from \"../bank/Questions\";\r\nimport Exams from \"../exams/Exams\";\r\nimport Report from \"../report/Report\";\r\n\r\nconst CbtControl = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const subject = searchParams.get(\"subject\")?.replace(/-/g, \" \");\r\n  const bankid = searchParams.get(\"bankid\");\r\n  const name = searchParams.get(\"name\")?.replace(/-/g, \" \");\r\n  const report = searchParams.get(\"report\");\r\n  const examid = searchParams.get(\"examid\");\r\n  const token = searchParams.get(\"token\");\r\n\r\n  const items = [\r\n    { label: \"Bank Soal\", key: \"1\", children: <Bank /> },\r\n    { label: \"Jadwal Ujian\", key: \"2\", children: <Exams /> },\r\n  ];\r\n\r\n  if (bankid) {\r\n    return (\r\n      <MainLayout\r\n        title={\"Mangement Computer Based Test\"}\r\n        levels={[\"admin\", \"teacher\"]}\r\n      >\r\n        <Questions subject={subject} bankid={bankid} name={name} />\r\n      </MainLayout>\r\n    );\r\n  }\r\n\r\n  if (report) {\r\n    return (\r\n      <MainLayout\r\n        title={\r\n          name ? name?.replace(/-/g, \" \") : \"Mangement Computer Based Test\"\r\n        }\r\n        levels={[\"admin\", \"teacher\"]}\r\n      >\r\n        <Report name={name} examid={examid} token={token} />\r\n      </MainLayout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <MainLayout\r\n      title={\"Mangement Computer Based Test\"}\r\n      levels={[\"admin\", \"teacher\"]}\r\n    >\r\n      <Tabs centered items={items} />\r\n    </MainLayout>\r\n  );\r\n};\r\n\r\nexport default CbtControl;\r\n"],"names":["TagsOutlined","icon","tag","attrs","viewBox","focusable","children","d","name","theme","props","ref","AntdIcon","_extends","TagsOutlinedSvg","RefIcon","React.forwardRef","confirm","Modal","Lists","onEdit","search","searchParams","setSearchParams","useSearchParams","page","setPage","useState","limit","setLimit","onSearch","setOnSearch","data","isLoading","useGetBankQuery","banks","deleteBank","delMessage","delLoading","isSuccess","error","reset","useDeleteBankMutation","useEffect","message","success","handler","setTimeout","clearTimeout","length","jsxs","Flex","vertical","gap","jsx","Spin","tip","spinning","Row","gutter","map","item","Col","xs","sm","md","lg","Card","title","Tooltip","loading","actions","FolderOpenOutlined","onClick","value","subject","subject_name","replace","bankid","id","EditOutlined","DeleteOutlined","handleDelete","content","okText","okType","cancelText","onOk","onCancel","warning","Meta","description","Space","FolderOutlined","Typography","Text","UserOutlined","teacher_name","btype","ContainerOutlined","question_count","Pagination","align","total","totalData","pageSize","current","onChange","newPage","newPageSize","showSizeChanger","showTotal","range","Empty","FormBank","open","onClose","bank","user","useSelector","state","auth","setSearch","subjectOptions","setSubjectOptions","form","Form","useForm","teachers","isLoadingTeachers","useGetTeachersQuery","addBank","addMessage","addLoading","useAddBankMutation","teacherOpts","label","subjects","resetFields","selectedTeacher","find","t","teacher","newSubjectOptions","setFieldsValue","level","loggedInTeacher","submit","confirmLoading","forceRender","layout","onFinish","values","initialValues","Item","rules","required","Select","placeholder","allowClear","showSearch","options","option","disabled","filterOption","input","toLowerCase","includes","getPopupContainer","triggerNode","parentNode","virtual","Input","maxLength","Bank","setOpen","isEdit","setIsEdit","bankData","setBankData","justify","Title","style","margin","Search","e","target","width","Add","record","FormQues","ques","type","setType","addQuestion","useAddQuestionMutation","console","log","qtype","qkey","poin","question","choiceA","a","choiceB","b","choiceC","c","choiceD","choiceE","destroyOnHidden","top","payload","height","overflowY","overflowX","scrollbarWidth","span","InputNumber","min","Editor","choice","Dragger","Upload","FormUpload","uploadQuestion","useUploadQuestionMutation","fileList","setFileList","dataSoal","setDataSoal","columns","setColumns","propsUpload","multiple","accept","onRemove","customRequest","file","onSuccess","onError","reader","FileReader","onload","Uint8Array","result","workbook","XLSX.read","sheetName","SheetNames","worksheet","Sheets","jsonData","XLSX.utils","sheet_to_json","header","processedData","filter","row","some","cell","colA","colB","colC","colD","colE","colF","colG","colH","colI","Number","Jenis","Pertanyaan","A","B","C","D","E","Jawaban","Poin","tableColumns","Object","keys","key","dataIndex","render","jenis","Tag","color","err","readAsArrayBuffer","String","body","direction","size","Alert","Button","window","showIcon","className","InboxOutlined","Fragment","strong","Table","dataSource","bordered","rowKey","index","pagination","scroll","x","createMarkup","html","__html","questionTypeMap","Questions","navigate","useNavigate","openUpload","setOpenUpload","editingQuestion","setEditingQuestion","useGetQuestionsQuery","deleteQuestion","delError","useDeleteQuestionMutation","handleOpenForm","shape","ArrowLeftOutlined","questions","qType","text","extra","Popconfirm","onConfirm","danger","dangerouslySetInnerHTML","Divider","orientation","plain","opt","trim","padding","borderRadius","border","background","flex","CheckCircleFilled","fontSize","marginTop","FormExam","exam","classes","useGetClassesQuery","createExam","isCreating","useCreateExamMutation","bankOptions","setBankOptions","modalTitle","useMemo","classOpts","teacherData","initialBankOptions","async","transformedBank","bankId","pg","essay","transformedClasses","classId","isshuffle","examid","token","unwrap","mc_score","essay_score","mode","selectedIds","lastSelectedId","lastSelectedBank","nonPaketIds","max","valuePropName","Switch","Exams","setExam","useGetExamsQuery","deleteExam","useDeleteExamMutation","examsData","exams","timeOut","hoverable","ellipsis","isactive","handleReport","info","copyable","i","ClockCircleOutlined","duration","CalendarOutlined","Date","createdat","toLocaleDateString","day","month","year","wrap","kelas","Logs","classid","tableRef","useGetExamLogQuery","finishCbt","finishLoading","useFinishCbtMutation","rejoinExam","rejoingLoading","useRejoinExamMutation","retakeExam","retakeLoading","useRetakeExamMutation","toLocaleString","ispenalty","isdone","Dropdown","menu","items","log_id","student_name","handleSelect","TableLayout","source","Analysis","useGetExamAnalysisQuery","fixed","answers","studentAnswerObj","ans","studentAnswer","mc","toUpperCase","isCorrect","marginLeft","score","students","Scores","isError","useGetExamScoreListQuery","correct","incorrect","cardTitle","exam_name","cardDescription","homebase_name","enterButton","pageSizeOptions","Report","setClassid","activeTab","setActiveTab","logsTableRef","useRef","analysisTableRef","scoreTableRef","useGetFilterQuery","skip","exportHtmlTableToExcel","fileName","table","querySelector","book_new","table_to_sheet","book_append_sheet","XLSX.writeFile","DownloadOutlined","Tabs","centered","CbtControl","get","report","MainLayout","levels"],"mappings":"wxCACA,IAAIA,GAAe,CAAEC,KAAQ,CAAEC,IAAO,MAAOC,MAAS,CAAEC,QAAW,gBAAiBC,UAAa,SAAWC,SAAY,CAAC,CAAEJ,IAAO,OAAQC,MAAS,CAAEI,EAAK,ogBAAwgBC,KAAQ,OAAQC,MAAS,YCMvrBT,GAAe,SAAsBU,EAAOC,GAC9C,uBAAwCC,EAAUC,EAAS,CAAA,EAAIH,EAAO,CACpEC,MACAV,KAAMa,KAEV,EAGIC,GAAuBC,EAAAA,WAAiBhB,ICe5C,MAAMiB,QAAEA,IAAYC,GAEdC,GAAQ,EAAGC,SAAQC,aACvB,MAAOC,EAAcC,GAAmBC,KAEjCC,EAAMC,GAAWC,EAAAA,SAAS,IAC1BC,EAAOC,GAAYF,EAAAA,SAAS,IAC5BG,EAAUC,GAAeJ,EAAAA,SAAS,KAEnCK,KAAEA,EAAAC,UAAMA,GAAcC,EAAgB,CAC1CT,KAAAA,EACAG,MAAAA,EACAP,OAAQS,IAEJK,EAAQH,GAAMG,OAGlBC,GACEJ,KAAMK,EAAYJ,UAAWK,EAAAC,UAAYA,EAAAC,MAAWA,QAAOC,IAC3DC,IAsDJ,OApBAC,EAAAA,UAAU,KACJJ,IACFK,EAAQC,QAAQR,EAAWO,SAC3BH,KAGED,GACFI,EAAQJ,MAAMA,EAAMR,KAAKY,UAG1B,CAACP,EAAYE,EAAWC,IAE3BG,EAAAA,UAAU,KACR,MAAMG,EAAUC,WAAW,KACzBhB,EAAYV,GACZK,EAAQ,IACP,KACH,MAAO,IAAMsB,aAAaF,IACzB,CAACzB,IAECY,GAA+B,IAAlBE,GAAOc,OAevBC,EAAAA,KAACC,EAAA,CAAKC,UAAQ,EAACC,IAAK,SAClB/C,SAAA,GAAAgD,IAACC,EAAA,CAAKC,IAAI,iBAAiBC,SAAUxB,GAAaK,EAChDhC,WAAAgD,IAACI,EAAA,CAAIC,OAAQ,CAAC,GAAI,IACfrD,YAAOsD,IAAKC,GACXP,EAAAA,IAACQ,EAAA,CAAkBC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAC5C5D,SAAAgD,EAAAA,IAACa,EAAA,CACCC,MAAOd,EAAAA,IAACe,EAAA,CAAQD,MAAOP,EAAKrD,KAAOF,WAAKE,OACxC8D,QAASrC,GAAaK,EACtBiC,QAAS,GACPjB,IAACe,EAAA,CAAQD,MAAM,SACb9D,SAAAgD,EAAAA,IAACkB,EAAA,CAECC,QAAS,KAzDR,IAACC,EACpBnD,EAAgB,CACdoD,SAFkBD,EAyD0Bb,GAvD7Be,aAAaC,QAAQ,OAAQ,KAC5CC,OAAQJ,EAAMK,GACdvE,KAAMkE,EAAMlE,KAAKqE,QAAQ,OAAQ,SAoDZ,YAITvB,IAACe,EAAA,CAAQD,MAAM,YACb9D,SAAAgD,EAAAA,IAAC0B,EAAA,CAA0BP,QAAS,IAAMrD,EAAOyC,IAA9B,YAErBP,IAACe,EAAA,CAAQD,MAAM,aACb9D,SAAAgD,EAAAA,IAAC2B,GAAA,CAECR,QAAS,KAAMS,OAvFbH,EAuF0BlB,EAAKkB,QAtFnD9D,GAAQ,CACNmD,MAAO,6CACPe,QAAS,4CACTC,OAAQ,YACRC,OAAQ,SACRC,WAAY,QACZ,IAAAC,GACEnD,EAAW2C,EACb,EACA,QAAAS,GACE5C,EAAQ6C,QAAQ,kBAClB,IAZiB,IAACV,IAsFG,aAMXzE,SAAAgD,EAAAA,IAACa,EAAKuB,KAAL,CACCC,cACEzC,KAACC,EAAA,CAAKC,UAAQ,EAACC,IAAK,QAClB/C,SAAA,CAAA4C,OAAC0C,EAAA,CACCtF,SAAA,CAAAgD,EAAAA,IAACuC,EAAA,IACDvC,EAAAA,IAACwC,EAAWC,KAAX,CAAiBzF,WAAKsE,yBAExBgB,EAAA,CACCtF,SAAA,CAAAgD,EAAAA,IAAC0C,EAAA,IACD1C,EAAAA,IAACwC,EAAWC,KAAX,CAAiBzF,WAAK2F,yBAExBL,EAAA,CACCtF,SAAA,CAAAgD,EAAAA,IAACtD,GAAA,IACDsD,EAAAA,IAACwC,EAAWC,KAAX,CAAiBzF,WAAK4F,kBAExBN,EAAA,CACCtF,SAAA,CAAAgD,EAAAA,IAAC6C,EAAA,IACDjD,EAAAA,KAAC4C,EAAWC,KAAX,CACEzF,SAAA,CAAAuD,EAAKuC,eAAe,sBAxCzBvC,EAAKkB,SAoDpB5C,GAAOc,OAAS,GACfK,EAAAA,IAAC+C,EAAA,CACCC,MAAM,SACNC,MAAOvE,GAAMwE,UACbC,SAAU7E,EACV8E,QAASjF,EACTkF,SAhHuB,CAACC,EAASC,KACvCnF,EAAQkF,GACR/E,EAASgF,IA+GHC,iBAAe,EACfC,UAAW,CAACR,EAAOS,IACjB,GAAGA,EAAM,MAAMA,EAAM,WAAWT,oBA9ErCpC,EAAA,CACC7D,SAAAgD,EAAAA,IAAC2D,EAAA,CACCtB,YACE7D,EACI,2BAA2BA,sBAC3B,wDCnGVoF,GAAW,EAAGC,OAAMC,UAAShD,QAAOiD,WACxC,MAAMC,KAAEA,GAASC,EAAaC,GAAUA,EAAMC,OAEvCpG,EAAQqG,GAAa/F,EAAAA,SAAS,KAC9BgG,EAAgBC,GAAqBjG,EAAAA,SAAS,KAC9CkG,GAAQC,EAAKC,WAEZ/F,KAAMgG,EAAU/F,UAAWgG,GAAsBC,EAAoB,CAC3EzG,KAXS,GAYTG,MAXU,GAYVP,YAGA8G,GACEnG,KAAMoG,EAAYnG,UAAWoG,EAAA9F,UAAYA,QAAWC,IACpD8F,IAEEC,EACJP,GAAUpE,IAAKC,IAAA,CACba,MAAOb,EAAKkB,GACZyD,MAAO3E,EAAKrD,KACZiI,SAAU5E,EAAK4E,aACV,GAwFT,OAxDA9F,EAAAA,UAAU,KACJJ,IACFK,EAAQC,QAAQuF,EAAWxF,SAC3BiF,EAAKa,cACLtB,KAGE5E,GACFI,EAAQJ,MAAMA,EAAMR,KAAKY,UAE1B,CAACwF,EAAY7F,EAAWC,IAE3BG,EAAAA,UAAU,KACR,GAAIwE,EAKF,GAHAU,EAAKa,cACLd,EAAkB,IAEbP,EAAKtC,IAkBV,GAAWsC,GAAQW,EAAU,CAE3B,MAAMW,EAAkBX,EAASY,KAAMC,GAAMA,EAAE9D,KAAOsC,EAAKyB,SAC3D,GAAIH,EAAiB,CACnB,MAAMI,EAAoBJ,EAAgBF,SAAS7E,IAAKe,IAAA,CACtDD,MAAOC,EAAQI,GACfyD,MAAO7D,EAAQnE,QAEjBoH,EAAkBmB,EACpB,CACAlB,EAAKmB,eAAe,CAClBxI,KAAM6G,EAAK7G,KACX0F,MAAOmB,EAAKnB,MACZ4C,QAASzB,EAAKyB,QACdnE,QAAS0C,EAAK1C,SAElB,OA7BE,GAFAkD,EAAKmB,eAAe,CAAE9C,MAAO,UAET,YAAhBoB,GAAM2B,OAAuBjB,EAAU,CACzC,MAAMkB,EAAkBlB,EAASY,KAAMC,GAAMA,EAAE9D,KAAOuC,EAAKvC,IAC3D,GAAImE,EAAiB,CACnBrB,EAAKmB,eAAe,CAAEF,QAASI,EAAgBnE,KAC/C,MAAMgE,EAAoBG,EAAgBT,SAAS7E,IAChDe,IAAA,CACCD,MAAOC,EAAQI,GACfyD,MAAO7D,EAAQnE,QAGnBoH,EAAkBmB,EACpB,CACF,GAmBH,CAAC5B,EAAME,EAAMW,EAAUH,EAAMP,IAG9BhE,EAAAA,IAACpC,GAAA,CACCkD,QACA+C,OACA3B,SAAU4B,EACV9B,WAAW,QACXF,OAAO,SACPG,KAAM,IAAMsC,EAAKsB,SACjBC,eAAgBf,EAChBgB,aAAW,EAEX/I,SAAAgD,EAAAA,IAACC,EAAA,CAAKC,IAAI,oBAAoBC,SAAU4E,EACtC/H,SAAA4C,EAAAA,KAAC4E,EAAA,CACCD,OACAyB,OAAO,WACPC,SAlFUC,IAChB,GAAInC,EAAKtC,GAAI,CACX,MAAM/C,EAAO,CAAE+C,GAAIsC,EAAKtC,MAAOyE,GAE/BrB,EAAQnG,EACV,MACEmG,EAAQqB,IA8EJC,cAAe,CAAEvD,MAAO,SAGxB5F,SAAA,CAAAgD,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,UACLgI,MAAM,aACNmB,MAAO,CAAC,CAAEC,UAAU,EAAMhH,QAAS,+BAEnCtC,SAAAgD,EAAAA,IAACuG,EAAA,CACCC,YAAY,8BACZC,YAAU,EACVC,YAAU,EACVlI,SAjHiB4C,IAC3BgD,EAAUhD,IAiHAuF,QAAS1B,EACT5B,SA/GgB,CAACjC,EAAOwF,KAClC,GAAIA,EAAQ,CACV,MAAMnB,EAAoBmB,EAAOzB,SAAS7E,IAAKe,IAAA,CAC7CD,MAAOC,EAAQI,GACfyD,MAAO7D,EAAQnE,QAEjBoH,EAAkBmB,EACpB,MACEnB,EAAkB,IAEpBC,EAAKmB,eAAe,CAAErE,aAAS,KAsGrBL,QAAS2D,EACTkC,SAA0B,YAAhB7C,GAAM2B,MAChBmB,aAAc,CAACC,EAAOH,IACpBA,EAAO1B,MAAM8B,cAAcC,SAASF,EAAMC,eAE5CE,kBAAoBC,GAAgBA,EAAYC,WAChDC,SAAS,MAGbrH,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,UACLgI,MAAM,uBACNmB,MAAO,CACL,CACEC,UAAU,EACVhH,QAAS,yCAIbtC,SAAAgD,EAAAA,IAACuG,EAAA,CACCC,YAAY,uBACZC,YAAU,EACVE,QAAStC,EACTwC,SAAoC,IAA1BxC,EAAe1E,SAAiBoE,EAC1C2C,YAAU,EACVI,aAAc,CAACC,EAAOH,IACpBA,EAAO1B,MAAM8B,cAAcC,SAASF,EAAMC,eAE5CE,kBAAoBC,GAAgBA,EAAYC,WAChDC,SAAS,YAGZ7C,EAAK4B,KAAL,CAAUlJ,KAAK,QAAQgI,MAAM,iBAC5BlI,SAAAgD,EAAAA,IAACuG,EAAA,CACCC,YAAY,uBACZG,QAAS,CAAC,CAAEzB,MAAO,QAAS9D,MAAO,UAEnCyF,UAAQ,MAIZ7G,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,OACLgI,MAAM,iBACNmB,MAAO,CAAC,CAAEC,UAAU,EAAMhH,QAAS,+BAEnCtC,WAAAgD,IAACsH,EAAA,CAAMd,YAAY,mBAAmBe,UAAW,eCjMvDC,GAAO,KACX,MAAO3D,EAAM4D,GAAWpJ,EAAAA,UAAS,IAC1BqJ,EAAQC,GAAatJ,EAAAA,UAAS,IAC9BuJ,EAAUC,GAAexJ,EAAAA,SAAS,CAAA,IAElCN,EAAQqG,GAAa/F,EAAAA,SAAS,IAcrC,OACEuB,EAAAA,KAACC,EAAA,CAAKC,UAAQ,EAACC,IAAK,SAClB/C,SAAA,CAAA4C,EAAAA,KAACC,EAAA,CAAKmD,MAAM,SAAS8E,QAAQ,gBAC3B9K,SAAA,CAAAgD,EAAAA,IAACwC,EAAWuF,MAAX,CAAiBC,MAAO,CAAEC,OAAQ,GAAKtC,MAAO,EAAG3I,SAAA,+BAIjDsF,EAAA,CACCtF,SAAA,CAAAgD,EAAAA,IAACsH,EAAMY,OAAN,CACC1B,YAAY,gBACZC,YAAU,EACVpD,SAAW8E,GAAM/D,EAAU+D,EAAEC,OAAOhH,OACpC4G,MAAO,CAAEK,MAAO,aAGjBC,EAAA,CAAInH,QAAS,IAAMsG,GAAQ,aAIhCzH,IAACnC,GAAA,CAAMC,OAzBSyK,IAClBV,EAAYU,GACZZ,GAAU,GACVF,GAAQ,IAsBqB1J,WAE3BiC,EAAAA,IAAC4D,GAAA,CACC9C,MAAO4G,EAAS,kBAAkBE,EAAS1K,OAAS,mBACpD2G,OACAC,QApCc,KAClB+D,EAAY,CAAA,GACZF,GAAU,GACVF,GAAQ,IAkCJ1D,KAAM6D,QCnCRY,GAAW,EAAG3E,OAAMC,UAAShD,QAAO2H,OAAMjH,aAC9C,MAAO+C,GAAQC,EAAKC,WAEbiE,EAAMC,GAAWtK,EAAAA,SAAS,IAE1BuK,GAAalK,KAAEA,EAAAO,UAAMA,QAAWC,EAAAP,UAAOA,IAC5CkK,IAuDF,OAnCAxJ,EAAAA,UAAU,KACJwE,IACE4E,GACFK,QAAQC,IAAIN,GACZlE,EAAKmB,eAAe,CAClBsD,MAAOP,EAAKC,MAAQ,EACpBO,KAAMR,EAAKQ,MAAQ,KACnBC,KAAMT,EAAKS,MAAQ,EACnBC,SAAUV,EAAKU,UAAY,GAC3BC,QAASX,EAAKY,GAAK,GACnBC,QAASb,EAAKc,GAAK,GACnBC,QAASf,EAAKgB,GAAK,GACnBC,QAASjB,EAAKxL,GAAK,GACnB0M,QAASlB,EAAKN,GAAK,KAErBQ,EAAQF,EAAKC,MAAQ,KAErBnE,EAAKa,cACLb,EAAKmB,eAAe,CAAEgD,KAAM,EAAGQ,KAAM,OAGxC,CAACrF,EAAM4E,EAAMlE,IAEhBlF,EAAAA,UAAU,KACJJ,IACFK,EAAQC,QAAQb,EAAKY,SACrBiF,EAAKa,cACLtB,KAGE5E,GACFI,EAAQJ,MAAMA,EAAMR,KAAKY,UAE1B,CAACZ,EAAMO,EAAWC,IAGnBc,EAAAA,IAACpC,GAAA,CACCkD,QACA+C,OACA3B,SAAU4B,EACVuE,MAAO,IACPuB,iBAAe,EACf9H,OAAO,SACPE,WAAW,QACX8D,eAAgBnH,EAChBqC,QAASrC,EACTsD,KAAM,IAAMsC,EAAKsB,SACjBmC,MAAO,CAAE6B,IAAK,IAEd7M,SAAA4C,EAAAA,KAAC4E,EAAA,CACCD,OACAyB,OAAO,WACPC,SAtEgBC,IACpB,MAAM4D,EAAU,CACdrI,GAAIgH,GAAMhH,GAAKgH,GAAMhH,GAAK,GAC1BuH,MAAO9C,EAAOwC,KACdQ,KAAMhD,EAAOgD,KACbC,SAAUjD,EAAOiD,SACjBpF,KAAMvC,EACNyH,KAAM/C,EAAO+C,KACbI,EAAGnD,EAAOkD,QACVG,EAAGrD,EAAOoD,QACVG,EAAGvD,EAAOsD,QACVvM,EAAGiJ,EAAOwD,QACVvB,EAAGjC,EAAOyD,SAEZb,QAAQC,IAAIe,GACZlB,EAAYkB,IAwDR3D,cAAe,CAAEuC,KAAM,EAAGQ,KAAM,GAChClB,MAAO,CACL+B,OAAQ,IACRC,UAAW,OACXC,UAAW,SACXC,eAAgB,QAGlBlN,SAAA,GAAA4C,KAACQ,EAAA,CAAIC,OAAQ,GACXrD,SAAA,GAAAgD,IAACQ,EAAA,CAAI2J,KAAM,GACTnN,SAAAgD,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,OACLgI,MAAM,kBACNmB,MAAO,CACL,CAAEC,UAAU,EAAMhH,QAAS,mCAG7BtC,SAAAgD,EAAAA,IAACuG,EAAA,CACCC,YAAY,wBACZnD,SAAWjC,GAAUuH,EAAQvH,GAC7BuF,QAAS,CACP,CAAEzB,MAAO,gBAAiB9D,MAAO,GACjC,CAAE8D,MAAO,QAAS9D,MAAO,IAE3BqF,YAAU,UAKhBzG,IAACQ,EAAA,CAAI2J,KAAM,GACTnN,SAAAgD,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,OACLgI,MAAM,OACNmB,MAAO,CAAC,CAAEC,UAAU,EAAMhH,QAAS,2BAEnCtC,SAAAgD,EAAAA,IAACoK,GAAA,CACCpC,MAAO,CAAEK,MAAO,QAChBgC,IAAK,EACL7D,YAAY,yBAMV,IAATkC,GACC1I,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,OACLgI,MAAM,gBACNmB,MAAO,CACL,CAAEC,UAAU,EAAMhH,QAAS,iCAG7BtC,SAAAgD,EAAAA,IAACuG,EAAA,CACCC,YAAY,sBACZG,QAAS,CACP,CAAEzB,MAAO,IAAK9D,MAAO,KACrB,CAAE8D,MAAO,IAAK9D,MAAO,KACrB,CAAE8D,MAAO,IAAK9D,MAAO,KACrB,CAAE8D,MAAO,IAAK9D,MAAO,KACrB,CAAE8D,MAAO,IAAK9D,MAAO,MAEvBqF,YAAU,EACVC,YAAU,EACVI,aAAc,CAACC,EAAOH,IACpBA,EAAO1B,MAAM8B,cAAcC,SAASF,EAAMC,eAE5CE,kBAAoBC,GAAgBA,EAAYC,WAChDC,SAAS,MAKfrH,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,WACLgI,MAAM,aACNmB,MAAO,CACL,CAAEC,UAAU,EAAMhH,QAAS,mCAG7BtC,WAAAgD,IAACsK,GAAA,CAAO9D,YAAY,iCAAiCuD,OAAQ,QAGrD,IAATrB,GACC,CAAC,IAAK,IAAK,IAAK,IAAK,KAAKpI,IAAKiK,GAC7BvK,EAAAA,IAACwE,EAAK4B,KAAL,CAEClJ,KAAM,SAASqN,IACfrF,MAAO,WAAWqF,IAElBvN,SAAAgD,EAAAA,IAACsK,GAAA,CACC9D,YAAa,iCAAiC+D,QAC9CR,OAAQ,OANLQ,WCnKb9H,KAAEA,IAASD,GACXgI,QAAEA,IAAYC,GAEdC,GAAa,EAAG5J,QAAO+C,OAAMC,UAAStC,aAC1C,MAAOmJ,GAAgBhM,UAAEA,EAAAM,UAAWA,EAAAC,MAAWA,OAAOR,EAAAS,MAAMA,IAC1DyL,KAEKC,EAAUC,GAAezM,EAAAA,SAAS,KAClC0M,EAAUC,GAAe3M,EAAAA,SAAS,KAClC4M,EAASC,GAAc7M,EAAAA,SAAS,IA0CvCgB,EAAAA,UAAU,KACJJ,IACFK,EAAQC,QAAQb,GAAMY,SAAW,2BACjC0L,EAAY,IACZF,EAAY,IACZhH,KAIE5E,GACFI,EAAQJ,MACNA,EAAMR,MAAMY,SAAW,uCAI1B,CAACZ,EAAMO,EAAWC,EAAO4E,IAG5B,MAAMqH,EAAc,CAClBjO,KAAM,OACNkO,UAAU,EACVC,OACE,2GACFR,WACAS,SAAU,KACRR,EAAY,IACZE,EAAY,IACZE,EAAW,KAGbK,cAAe,EAAGC,OAAMC,YAAWC,cACjC,MAAMC,EAAS,IAAIC,WACnBD,EAAOE,OAAU1D,IACf,IACE,MAAMzJ,EAAO,IAAIoN,WAAW3D,EAAEC,OAAO2D,QAC/BC,EAAWC,GAAUvN,EAAM,CAAEgK,KAAM,UACnCwD,EAAYF,EAASG,WAAW,GAChCC,EAAYJ,EAASK,OAAOH,GAC5BI,EAAWC,GAAWC,cAAcJ,EAAW,CACnDK,OAAQ,EACR/I,MAAO,IAaHgJ,EATeJ,EAASK,OAC3BC,GACCA,EAAIjN,OAAS,GACbiN,EAAIC,KACDC,GAASA,SAAgD,KAATA,IAKpBxM,IAAKsM,IACtC,MAAOG,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,GAAQX,EAE/D,OAAqB,IAAjBY,OAAOT,GACF,CACLU,MAAOV,EACPW,WAAYV,EACZW,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,QAASV,EACTW,KAAMV,GAIH,CACLE,MAAOV,EACPW,WAAYV,EACZW,EAAGV,EACHW,EAAGV,EACHW,EAAGV,EACHW,EAAGV,EACHW,EAAGV,EACHW,QAASV,EACTW,KAAMV,KAKV,GAAIb,EAAc/M,OAAS,EAAG,CAC5B,MACMuO,EADSC,OAAOC,KAAK1B,EAAc,IACbpM,IAAK+N,IAAA,CAC/BvN,MAAOuN,EACPC,UAAWD,EACXA,SAEY,UAARA,GAAmB,CACrBE,OAASC,GACPxO,MAACyO,EAAA,CAAIC,MAAyB,IAAlBlB,OAAOgB,GAAe,QAAU,OACzCxR,SAAkB,IAAlBwQ,OAAOgB,GAAe,gBAAkB,UAG7CnG,MAAO,QAGX6C,EAAWgD,EACb,CAEAlD,EAAY0B,GACZ5B,EAAY,CAACU,IACbC,EAAU,KACZ,OAASkD,GACP7F,QAAQ5J,MAAM,yBAA0ByP,GACxCrP,EAAQJ,MAAM,oDACdwM,EAAQiD,EACV,GAEFhD,EAAOiD,kBAAkBpD,KAc7B,OACExL,EAAAA,IAACpC,GAAA,CACCkD,QACA+C,OACA3B,SAdiB,KACnB8I,EAAY,IACZF,EAAY,IACZI,EAAW,KACPhM,GAASD,IACXE,IAEF2E,KAQE7B,KA7JiB,KACnB,GAAwB,IAApB8I,EAASpL,OAIX,YAHAL,EAAQJ,MACN,iEAMJ,MAAM4K,EAAUiB,EAASzK,IAAKC,GAAS,CACrCiN,OAAOjN,EAAY,OACnBsO,OAAOtO,EAAiB,YACxBA,EAAQ,EAAIsO,OAAOtO,EAAQ,GAAK,KAChCA,EAAQ,EAAIsO,OAAOtO,EAAQ,GAAK,KAChCA,EAAQ,EAAIsO,OAAOtO,EAAQ,GAAK,KAChCA,EAAQ,EAAIsO,OAAOtO,EAAQ,GAAK,KAChCA,EAAQ,EAAIsO,OAAOtO,EAAQ,GAAK,KAChCsO,OAAOtO,EAAc,SACrBiN,OAAOjN,EAAW,MAAK,KAIzBoK,EAAe,CAAEmE,KAAMhF,EAAStI,YAwI9BM,OAAO,SACPE,WAAW,QACXqG,MAAO,IACPvC,eAAgBnH,EAEhB3B,SAAA4C,EAAAA,KAAC0C,EAAA,CAAMyM,UAAU,WAAW/G,MAAO,CAAEK,MAAO,QAAU2G,KAAK,QACzDhS,SAAA,CAAAgD,EAAAA,IAACiP,GAAA,CACC3P,QAAQ,gCACR+C,cACEzC,KAAC0C,EAAA,CAAMyM,UAAU,WAAWC,KAAM,EAChChS,SAAA,GAAAgD,IAACyC,IAAKzF,SAAA,+CACNgD,IAACyC,IAAKzF,SAAA,0DACNgD,IAACyC,IAAKzF,SAAA,4DAGNgD,EAAAA,IAACkP,GAAOxG,KAAK,UAAUsG,KAAK,QAAQ7N,QA3LzB,KAErBgO,OAAOtL,KAAK,+BAAgC,WAyL2B7G,SAAA,sBAKjE0L,KAAK,OACL0G,UAAQ,MAGVxP,KAAC4K,GAAA,IAAYW,EACXnO,SAAA,CAAAgD,MAAC,IAAA,CAAEqP,UAAU,uBACXrS,SAAAgD,MAACsP,SAEHtP,EAAAA,IAAC,IAAA,CAAEqP,UAAU,kBAAkBrS,SAAA,sDAG/BgD,EAAAA,IAAC,IAAA,CAAEqP,UAAU,kBAAkBrS,SAAA,6CAKhC+N,EAASpL,OAAS,GACjBC,EAAAA,KAAA2P,EAAAA,SAAA,CACEvS,SAAA,CAAAgD,EAAAA,IAACyC,GAAA,CAAK+M,QAAM,EAACxS,SAAA,oBACbgD,EAAAA,IAACyP,EAAA,CACCxE,UACAyE,WAAY3E,EACZ4E,UAAQ,EACRX,KAAK,QACLY,OAAQ,CAACrH,EAAQsH,IAAUA,EAC3B7O,QAASrC,EACTmR,WAAY,CAAE3M,SAAU,GACxB4M,OAAQ,CAAEC,EAAG,0BCnNrBC,GAAgBC,IACb,CAAEC,OAAQD,GAAQ,KAGrBE,GAAkB,CACtB,EAAG,CAAElL,MAAO,gBAAiBwJ,MAAO,QACpC,EAAG,CAAExJ,MAAO,OAAQwJ,MAAO,WAGvB2B,GAAY,EAAGhP,UAASG,SAAQtE,WACpC,MAAMoT,EAAWC,KAEVpS,EAAMC,GAAWC,EAAAA,SAAS,IAC1BC,EAAOC,GAAYF,EAAAA,SAAS,KAC5BN,EAAQqG,GAAa/F,EAAAA,SAAS,KAE9BwF,EAAM4D,GAAWpJ,EAAAA,UAAS,IAC1BmS,EAAYC,GAAiBpS,EAAAA,UAAS,IACtCqS,EAAiBC,GAAsBtS,EAAAA,SAAS,OAEjDK,KAAEA,EAAAC,UAAMA,EAAAO,MAAWA,GAAU0R,EAAqB,CACtDzS,KAAAA,EACAG,MAAAA,EACAP,SACAyD,YAGAqP,GACEnS,KAAMK,EAAYJ,UAAWK,EAAAC,UAAYA,EAAWC,MAAO4R,IAC3DC,IAEEC,EAAiB,CAAC7H,EAAW,QACjCwH,EAAmBxH,GACnB1B,GAAQ,IAaVpI,EAAAA,UAAU,KACJJ,GACFK,EAAQC,QAAQR,EAAWO,SAGzBwR,GACFxR,EAAQJ,MAAM4R,EAASpS,KAAKY,UAE7B,CAACP,EAAYE,EAAW6R,IAiI3B,OACElR,EAAAA,KAACC,EAAA,CAAKC,UAAQ,EAACC,IAAI,QACjB/C,SAAA,CAAA4C,EAAAA,KAACC,EAAA,CAAKmD,MAAM,SAAS8E,QAAQ,gBAC3B9K,SAAA,CAAA4C,OAAC0C,EAAA,CACCtF,SAAA,CAAAgD,EAAAA,IAACkP,EAAA,CACC+B,MAAM,SACNtU,WAAOuU,EAAA,IACP/P,QAAS,IAAMmP,EAAS,iCAEzB,MAAA,CACCtT,SAAA,CAAA4C,EAAAA,KAAC4C,EAAWuF,MAAX,CAAiBC,MAAO,CAAEC,OAAQ,GAAKtC,MAAO,EAAG3I,SAAA,CAAA,cACpCE,WAEbsF,EAAWC,KAAX,CAAgBiG,KAAK,YAAa1L,SAAAqE,iBAItCiB,EAAA,CACCtF,SAAA,CAAAgD,EAAAA,IAACyK,GAAA,CAAOtJ,QAAS,IAAMsP,GAAc,WACpCnI,EAAA,CAAInH,QAAS,IAAM6P,EAAe,cAIX,IAA3BtS,GAAMyS,UAAUxR,aACdgE,EAAA,CAAMtB,YAAY,qCAEnBrC,IAACC,GAAKC,IAAI,iBAAiBC,SAAUxB,GAAaK,EAChDhC,gBAAC6C,EAAA,CAAKC,UAAQ,EAACC,IAAI,QAChB/C,SAAA,CA1JLkC,EAEAc,EAAAA,IAACiP,GAAA,CACCvG,KAAK,UACL0G,UAAQ,EACR9P,QAAQ,sBACR+C,YACEnD,EACIA,EAAMR,MAAMY,SAAW,qBACvB,mDAOLZ,GAAMyS,UAAU7Q,IAAI,CAACC,EAAMsP,KAChC,MAAMuB,EAAQhB,GAAgB7P,EAAKyI,QAAU,CAC3C9D,MAAO,qBACPwJ,MAAO,WAEH/H,EAAU,CACd,CAAE0H,IAAK,IAAKgD,KAAM9Q,EAAK8I,GACvB,CAAEgF,IAAK,IAAKgD,KAAM9Q,EAAKgJ,GACvB,CAAE8E,IAAK,IAAKgD,KAAM9Q,EAAKkJ,GACvB,CAAE4E,IAAK,IAAKgD,KAAM9Q,EAAKtD,GACvB,CAAEoR,IAAK,IAAKgD,KAAM9Q,EAAK4H,IAGzB,OACEvI,EAAAA,KAACiB,EAAA,CAECG,QAASrC,GAAaK,EACtB8B,MACElB,EAAAA,KAACC,EAAA,CAAKC,UAAQ,EACZ9C,SAAA,CAAAgD,EAAAA,IAACwC,EAAWC,KAAX,CACEzF,SAAA,eAAemB,EAAO,GAAKG,EAAQuR,EAAQ,QAE9CjQ,KAAC0C,EAAA,CAAM0M,KAAM,QACXhS,SAAA,CAAAgD,MAACyO,EAAA,CAAIC,MAAO0C,EAAM1C,MAAQ1R,WAAMkI,eAC/BuJ,EAAA,CACCzR,SAAA,CAAAgD,EAAAA,IAAC,SAAA,CAAQhD,SAAAuD,EAAK2I,MAAQ,IAAW,iBAKzCoI,aACGhP,EAAA,CACCtF,SAAA,CAAAgD,EAAAA,IAACkP,EAAA,CACCvS,WAAO+E,EAAA,IACPP,QAAS,IAAM6P,EAAezQ,GAC/BvD,SAAA,SAGDgD,EAAAA,IAACuR,GAAA,CACCzQ,MAAM,aACNuB,YAAY,8CACZmP,UAAW,IAAMX,EAAetQ,EAAKkB,IACrCK,OAAO,YACPE,WAAW,QAEXhF,SAAAgD,EAAAA,IAACkP,GAAOuC,QAAM,EAAC9U,KAAMqD,EAAAA,IAAC2B,GAAA,CAAA,GAAmB3E,SAAA,eAO/CA,SAAA,CAAAgD,EAAAA,IAAC,MAAA,CAAI0R,wBAAyBzB,GAAa1P,EAAK4I,YAEhC,IAAf5I,EAAKyI,OACJpJ,EAAAA,KAAA2P,EAAAA,SAAA,CACEvS,SAAA,CAAAgD,MAAC2R,EAAA,CAAQC,YAAY,OAAOC,OAAK,EAAC7U,SAAA,uBAIjCoD,EAAA,CAAIC,OAAQ,CAAC,GAAI,IACfrD,SAAA2J,EAAQrG,IACNwR,GAECA,EAAIT,MACgB,KAApBS,EAAIT,KAAKU,QACP/R,MAACQ,EAAA,CAAkBC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GACrC3D,SAAA4C,EAAAA,KAACC,EAAA,CACCmD,MAAM,QACNjD,IAAI,QACJiI,MAAO,CACLgK,QAAS,OACTC,aAAc,MACdC,OACE3R,EAAK0I,OAAS6I,EAAIzD,IACd,oBACA,oBACN8D,WACE5R,EAAK0I,OAAS6I,EAAIzD,IAAM,UAAY,cACtChG,MAAO,OACP0B,OAAQ,QAGV/M,SAAA,GAAAgD,IAACyO,EAAA,CAAKzR,WAAIqR,MACVrO,EAAAA,IAAC,MAAA,CACCgI,MAAO,CAAEoK,KAAM,GACfV,wBAAyBzB,GAAa6B,EAAIT,QAE3C9Q,EAAK0I,OAAS6I,EAAIzD,KACjBrO,EAAAA,IAACqS,EAAA,CACCrK,MAAO,CACL0G,MAAO,UACP4D,SAAU,OACVC,UAAW,aA3BXT,EAAIzD,aAnDrB9N,EAAKkB,MA6HRzB,EAAAA,IAAC+C,EAAA,CACCiM,KAAK,QACLhM,MAAM,SACNC,MAAOvE,GAAMwE,UACbC,SAAU7E,EACV8E,QAASjF,EACTkF,SAlLmB,CAACC,EAASC,KACvCnF,EAAQkF,GACR/E,EAASgF,IAiLCC,iBAAe,EACfC,UAAW,CAACR,EAAOS,IACjB,GAAGA,EAAM,MAAMA,EAAM,WAAWT,WAS1CjD,EAAAA,IAACwI,GAAA,CACC1H,MAAO4P,EAAkB,YAAc,cACvC7M,OACAC,QAtMkB,KACtB6M,EAAmB,MACnBlJ,GAAQ,IAqMJjG,SACAiH,KAAMiI,IAGR1Q,EAAAA,IAAC0K,GAAA,CACC5J,MAAO,qBAAqB5D,GAAMqE,QAAQ,KAAM,OAChDsC,KAAM2M,EACN1M,QAAS,IAAM2M,GAAc,GAC7BjP,eC7QFgR,GAAW,EAAG1R,QAAO+C,OAAMC,UAAS2O,WACxC,MAAMzO,KAAEA,GAASC,EAAaC,GAAUA,EAAMC,OACvCI,GAAQC,EAAKC,WAEZ/F,KAAMgG,GAAaE,KACnBlG,KAAMgU,GAAYC,KAEnBC,GAAcjU,UAAWkU,IAAgBC,KAEzCC,EAAaC,GAAkB3U,EAAAA,SAAS,IACzC4U,EAAaR,EAAO,aAAe3R,EAEnCmE,EAAciO,EAAAA,QAAQ,IACrBxO,EACEA,EAASpE,IAAKkF,IAAA,CACnBpE,MAAOoE,EAAQ/D,GACfyD,MAAOM,EAAQtI,KACf2B,MAAO2G,EAAQzB,QAJK,GAMrB,CAACW,IAEEyO,EAAYD,EAAAA,QAAQ,IACnBR,EACEA,EAAQpS,IAAKC,IAAA,CAClBa,MAAOb,EAAKkB,GACZyD,MAAO3E,EAAKrD,QAHO,GAKpB,CAACwV,IAEJrT,EAAAA,UAAU,KACR,GAAIwE,EAGF,GAFAU,EAAKa,cAEDqN,GAAQ/N,EAAU,CACpB,MAAM0O,EAAcnO,GAAaK,KAC9BwM,GAAQA,EAAI1Q,QAAUqR,EAAKjN,SAE9B,GAAI4N,EAAa,CACf,MAAMC,GAAsBD,EAAYvU,OAAS,IAAIyB,IAAKyD,IAAA,CACxD3C,MAAO2C,EAAKtC,GACZyD,MAAOnB,EAAK7G,KACZwL,KAAM3E,EAAK2E,QAEbsK,EAAeK,EACjB,CAGA9O,EAAKmB,eAAe,IACf+M,EAEHC,SAAUD,EAAKC,SAAW,IAAIpS,IAAKmJ,GAAMA,EAAEhI,IAE3CsC,MAAO0O,EAAK5T,OAAS,IAAIyB,IAAKiJ,GAAMA,EAAE9H,KAE1C,MAGE,GAFA8C,EAAKa,cACL4N,EAAe,IACK,YAAhBhP,GAAM2B,OAAuBV,EAAYtF,OAAS,EAAG,CACvD4E,EAAKmB,eAAe,CAAEF,QAASxB,EAAKvC,KACpC,MAAM2R,EAAcnO,EAAYK,KAAMwM,GAAQA,EAAI1Q,QAAU4C,EAAKvC,IACjE,GAAI2R,EAAa,CACf,MAAMC,GAAsBD,EAAYvU,OAAS,IAAIyB,IAClDyD,IAAA,CACC3C,MAAO2C,EAAKtC,GACZyD,MAAOnB,EAAK7G,KACZwL,KAAM3E,EAAK2E,QAGfsK,EAAeK,EACjB,CACF,GAGH,CAACxP,EAAM4O,EAAM/N,EAAUV,EAAMO,EAAMU,IA6EtC,OACEjF,EAAAA,IAACpC,GAAA,CACCkD,MAAOmS,EACPpP,OACA3B,SAAU4B,EACV8F,iBAAe,EACf9H,OAAO,SACPE,WAAW,QACXC,KAAMsC,EAAKsB,OACXC,eAAgB+M,EAChB7K,MAAO,CAAE6B,IAAK,IAEd7M,SAAA4C,EAAAA,KAAC4E,EAAA,CACCD,OACAyB,OAAO,WACPC,SAvDeqN,MAAOpN,IAI1B,MAAMqN,EAAkBrN,EAAOnC,KAAKzD,IAAKkT,IAAA,CACvChS,OAAQgS,EACRC,GAAI,KACJC,MAAO,QAKHC,EAAqBzN,EAAOwM,QAAQpS,IAAKsT,IAAA,CAC7CxS,MAAOwS,KAIH9J,EAAU,IACX5D,EACHnC,KAAMwP,EACNb,QAASiB,EACTE,UAAW3N,EAAO2N,YAAa,GAI7BpB,IACF3I,EAAQgK,OAASrB,EAAKhR,GACtBqI,EAAQiK,MAAQtB,EAAKsB,OAGvB,UACQnB,EAAW9I,GAASkK,SAC1B1U,EAAQC,QAAQ,kBAAkBkT,EAAO,aAAe,aACxD3O,GACF,OAAS5E,GACP4J,QAAQ5J,MAAM,yBAA0BA,GACxCI,EAAQJ,MAAM,0CAChB,GAmBIiH,cAAe,CAAE8N,SAAU,IAAKC,YAAa,EAAGL,WAAW,GAE3D7W,SAAA,CAAAgD,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,UACLgI,MAAM,aACNmB,MAAO,CAAC,CAAEC,UAAU,EAAMhH,QAAS,+BAEnCtC,SAAAgD,EAAAA,IAACuG,EAAA,CACCC,YAAY,YACZG,QAAS1B,EACT5B,SArGkB,CAACjC,EAAOwF,KAClCrC,EAAKmB,eAAe,CAAE3B,KAAM,KAE1BiP,EADEpM,GAECA,EAAO/H,OAAS,IAAIyB,IAAKyD,IAAA,CACxB3C,MAAO2C,EAAKtC,GACZyD,MAAOnB,EAAK7G,KACZwL,KAAM3E,EAAK2E,QAIA,KA2FTjC,YAAU,EACVC,YAAU,EACVG,SAA0B,YAAhB7C,GAAM2B,MAChBmB,aAAc,CAACC,EAAOH,KACnBA,GAAQ1B,OAAS,IAAI8B,cAAcC,SAASF,EAAMC,eAErDK,SAAS,MAIbrH,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,OACLgI,MAAM,kBACNmB,MAAO,CACL,CAAEC,UAAU,EAAMhH,QAAS,oCAG7BtC,SAAAgD,EAAAA,IAACuG,EAAA,CACC4N,KAAK,WACL3N,YAAY,kCACZG,QAASoM,EACT1P,SA5GgB+Q,IACxB,GAA2B,IAAvBA,EAAYzU,OAAc,OAE9B,MAAM0U,EAAiBD,EAAYA,EAAYzU,OAAS,GAClD2U,EAAmBvB,EAAYzN,KAClCiE,GAAMA,EAAEnI,QAAUiT,GAGrB,GAA+B,UAA3BC,GAAkB5L,KACpBnE,EAAKmB,eAAe,CAAE3B,KAAM,CAACsQ,SACxB,CACL,MAAME,EAAcH,EAAYzH,OAAQlL,IACtC,MAAMsC,EAAOgP,EAAYzN,KAAMiE,GAAMA,EAAEnI,QAAUK,GACjD,OAAOsC,GAAsB,UAAdA,EAAK2E,OAEtBnE,EAAKmB,eAAe,CAAE3B,KAAMwQ,GAC9B,GA6FQ9N,YAAU,EACVY,SAAS,EACTX,YAAU,EACVI,aAAc,CAACC,EAAOH,KACnBA,GAAQ1B,OAAS,IAAI8B,cAAcC,SAASF,EAAMC,mBAKzDhH,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,UACLgI,MAAM,cACNmB,MAAO,CAAC,CAAEC,UAAU,EAAMhH,QAAS,gCAEnCtC,SAAAgD,EAAAA,IAACuG,EAAA,CACC4N,KAAK,WACL3N,YAAY,8BACZG,QAASwM,EACT1M,YAAU,EACVC,YAAU,EACVI,aAAc,CAACC,EAAOH,IACpBA,EAAO1B,MAAM8B,cAAcC,SAASF,EAAMC,eAE5CE,kBAAoBC,GAAgBA,EAAYC,WAChDC,SAAS,MAIbrH,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,OACLgI,MAAM,aACNmB,MAAO,CAAC,CAAEC,UAAU,EAAMhH,QAAS,wBAEnCtC,WAAAgD,IAACsH,EAAA,CAAMd,YAAY,mBAAmBe,UAAW,OAGnDvH,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,WACLgI,MAAM,iBACNmB,MAAO,CAAC,CAAEC,UAAU,EAAMhH,QAAS,0BAEnCtC,SAAAgD,EAAAA,IAACoK,GAAA,CACCpC,MAAO,CAAEK,MAAO,QAChB7B,YAAY,8BACZ6D,IAAK,MAITrK,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,WACLgI,MAAM,sBACNmB,MAAO,CAAC,CAAEC,UAAU,EAAMhH,QAAS,iCAEnCtC,SAAAgD,EAAAA,IAACoK,GAAA,CAAYpC,MAAO,CAAEK,MAAO,QAAUgC,IAAK,EAAGmK,IAAK,QAGtDxU,EAAAA,IAACwE,EAAK4B,KAAL,CACClJ,KAAK,cACLgI,MAAM,yBACNmB,MAAO,CACL,CAAEC,UAAU,EAAMhH,QAAS,oCAG7BtC,SAAAgD,EAAAA,IAACoK,GAAA,CAAYpC,MAAO,CAAEK,MAAO,QAAUgC,IAAK,EAAGmK,IAAK,UAGtDxU,IAACwE,EAAK4B,KAAL,CAAUlJ,KAAK,YAAYgI,MAAM,aAAauP,cAAc,UAC3DzX,SAAAgD,EAAAA,IAAC0U,GAAA,CAAA,iBCjPHjS,GAAAsF,MAAMA,IAAUvF,GAClB7E,QAAEA,IAAYC,GAEd+W,GAAQ,KAC4BzW,IAExC,MAAOC,EAAMC,GAAWC,EAAAA,SAAS,IAC1BC,EAAOC,GAAYF,EAAAA,SAAS,IAC5BN,EAAQqG,GAAa/F,EAAAA,SAAS,KAC9BG,EAAUC,GAAeJ,EAAAA,SAAS,KAClCoU,EAAMmC,GAAWvW,EAAAA,SAAS,CAAA,IAC1BqJ,EAAQC,GAAatJ,EAAAA,UAAS,IAC9BwF,EAAM4D,GAAWpJ,EAAAA,UAAS,IAE3BK,KAAEA,EAAAC,UAAMA,EAAAO,MAAWA,GAAU2V,EAAiB,CAClD1W,KAAAA,EACAG,MAAAA,EACAP,OAAQS,KAGRsW,GAEEpW,KAAMK,EAAAE,UACNA,EACAC,MAAO4R,EACPnS,UAAWK,EAAAG,MACXA,IAEA4V,IAEEC,EAAYtW,GAAMuW,MAiExB,OArBA5V,EAAAA,UAAU,KACJJ,IACFK,EAAQC,QAAQR,EAAWO,SAC3BH,KAGE2R,IACFxR,EAAQJ,MAAM4R,EAASpS,KAAKY,SAC5BH,MAED,CAACJ,EAAYE,EAAW6R,IAE3BzR,EAAAA,UAAU,KACR,MAAM6V,EAAUzV,WAAW,KACzBhB,EAAYV,GACZK,EAAQ,IACP,KAEH,MAAO,IAAMsB,aAAawV,IACzB,CAACnX,IAEAmB,EAEAc,EAAAA,IAACiP,GAAA,CACCG,UAAQ,EACR1G,KAAK,QACLpJ,QAAQ,oBACR+C,YAAanD,EAAQA,EAAMR,KAAKY,QAAU,kCAM9CU,IAACC,EAAA,CAAKC,IAAI,iBAAiBC,SAAUxB,EACnC3B,SAAA4C,EAAAA,KAACC,EAAA,CAAKC,UAAQ,EAACC,IAAK,QAClB/C,SAAA,CAAA4C,EAAAA,KAACC,EAAA,CAAKmD,MAAM,SAAS8E,QAAQ,gBAC3B9K,SAAA,CAAAgD,EAAAA,IAACwC,EAAWuF,MAAX,CAAiBC,MAAO,CAAEC,OAAQ,GAAKtC,MAAO,EAAG3I,SAAA,iCAIjDsF,EAAA,CACCtF,SAAA,CAAAgD,EAAAA,IAACsH,EAAMY,OAAN,CACC1B,YAAY,gBACZC,YAAU,EACVpD,SAAW8E,GAAM/D,EAAU+D,EAAEC,OAAOhH,eAGrCkH,EAAA,CAAInH,QAAS,IAAMsG,GAAQ,iBAK/BrH,EAAA,CAAIC,OAAQ,CAAC,GAAI,IACfrD,SAAAgY,GAAW1U,IAAKC,SACdC,EAAA,CAAkBE,GAAI,GAAIC,GAAI,GAAIC,GAAI,EACrC5D,SAAAgD,EAAAA,IAACa,EAAA,CACCsU,WAAS,EACTnU,QAASrC,GAAaK,EACtB8B,QACEd,IAACe,EAAA,CAAQD,MAAOP,EAAKrD,KACnBF,SAAAgD,EAAAA,IAACyC,GAAA,CAAK2S,UAAQ,EAAEpY,SAAAuD,EAAKrD,SAGzBoU,MACEtR,EAAAA,IAACyO,EAAA,CAAIC,MAAOnO,EAAK8U,SAAW,QAAU,UACnCrY,SAAAuD,EAAK8U,SAAW,QAAU,gBAG/BpU,QAAS,GACPjB,IAACe,EAAA,CAAQD,MAAM,SACb9D,SAAAgD,EAAAA,IAACkB,EAAA,CAECC,QAAS,KAAMmU,OAjFb/M,EAiF0BhI,OAhF9C4O,OAAOtL,KACL,2CAA2C0E,EAAO9G,YAChD8G,EAAOwL,cACAxL,EAAOrL,MAAMqE,QAAQ,OAAQ,OACtC,UALiB,IAACgH,IAgFG,cAITvI,IAACe,EAAA,CAAQD,MAAM,OACb9D,SAAAgD,EAAAA,IAAC0B,EAAA,CAECP,QAAS,KAlH3ByT,EAkH4CrU,GAjH5CoH,GAAU,QACVF,GAAQ,KA+Ge,YAITzH,IAACe,EAAA,CAAQD,MAAM,QACb9D,SAAAgD,EAAAA,IAAC2B,GAAA,CAECR,QAAS,KAAMS,OA7GbH,EA6G0BlB,EAAKkB,QA5GnD9D,GAAQ,CACNmD,MAAO,qCACPe,QAAS,kDACTC,OAAQ,YACRC,OAAQ,SACRC,WAAY,QACZ,IAAAC,GACE6S,EAAWrT,EACb,EACA,QAAAS,GACE5C,EAAQiW,KAAK,kBACf,IAZiB,IAAC9T,IA4GG,aAMXzE,WAAA4C,KAACC,EAAA,CAAKC,UAAQ,EAACC,IAAI,QAEjB/C,SAAA,CAAA4C,EAAAA,KAACC,EAAA,CAAKmD,MAAM,SAAS8E,QAAQ,gBAC3B9K,SAAA,CAAAgD,EAAAA,IAACyC,GAAA,CAAKiG,KAAK,YAAY1L,SAAA,sBACtByF,GAAA,CAAK+M,QAAM,EAACgG,UAAQ,EAClBxY,WAAK+W,WAIVnU,EAAAA,KAACC,EAAA,CAAKmD,MAAM,SAAS8E,QAAQ,gBAC3B9K,SAAA,CAAAgD,EAAAA,IAACyC,GAAA,CAAKiG,KAAK,YAAY1L,SAAA,cACvBgD,EAAAA,IAACyO,EAAA,CAAIC,MAAOnO,EAAKsT,UAAY,OAAS,SACnC7W,SAAAuD,EAAKsT,UAAY,OAAS,kBAI9BlC,EAAA,CAAQ3J,MAAO,CAAEC,OAAQ,aAE1BrI,KAACC,EAAA,CAAKC,UAAQ,EACZ9C,SAAA,CAAAgD,EAAAA,IAACyC,GAAA,CAAKiG,KAAK,YAAY1L,SAAA,cAEvBgD,EAAAA,IAACH,EAAA,CAAKC,UAAQ,EAACC,IAAK,QACjB/C,SAAAuD,EAAK1B,OAAOyB,IAAI,CAACiJ,EAAGkM,IACnBzV,EAAAA,IAACe,GAAgBD,MAAOyI,EAAErM,KACxBF,SAAAgD,MAACwC,EAAWC,KAAX,CAAgB2S,UAAQ,EACvBpY,SAAAgD,EAAAA,IAACyO,EAAA,CAAIC,MAAM,UAAW1R,WAAEE,UAFduY,eASnB9D,EAAA,CAAQ3J,MAAO,CAAEC,OAAQ,WAG1BrI,EAAAA,KAAC0C,EAAA,CACCyM,UAAU,WACVC,KAAK,QACLhH,MAAO,CAAEK,MAAO,QAEhBrL,SAAA,CAAA4C,EAAAA,KAACC,EAAA,CAAKmD,MAAM,SAASjD,IAAK,EACxB/C,SAAA,CAAAgD,EAAAA,IAAC0C,EAAA,MACD1C,IAACyC,GAAA,CAAMzF,SAAAuD,EAAKoC,kBAEd/C,EAAAA,KAACC,EAAA,CAAKmD,MAAM,SAASjD,IAAK,EACxB/C,SAAA,CAAAgD,EAAAA,IAAC0V,GAAA,WACAjT,GAAA,CAAMzF,SAAA,CAAAuD,EAAKoV,SAAS,eAEvB/V,EAAAA,KAACC,EAAA,CAAKmD,MAAM,SAASjD,IAAK,EACxB/C,SAAA,CAAAgD,EAAAA,IAAC4V,GAAA,IACD5V,MAACyC,IACEzF,SAAA,IAAI6Y,KAAKtV,EAAKuV,WAAWC,mBAAmB,QAAS,CACpDC,IAAK,UACLC,MAAO,QACPC,KAAM,0BAMbvE,EAAA,CAAQ3J,MAAO,CAAEC,OAAQ,WAI1BjI,EAAAA,IAACH,GAAKsW,KAAK,OAAOpW,IAAI,QACnB/C,SAAAuD,EAAKmS,QAAQpS,IAAK8V,GACjBpW,EAAAA,IAACyO,EAAA,CAAIC,MAAM,OACR1R,SAAAoZ,EAAMlZ,MADckZ,EAAM3U,aArG7BlB,EAAKkB,OAgHlBuT,GAAWrV,OAAS,GACnBK,EAAAA,IAAC+C,EAAA,CACCiM,KAAK,QACLhM,MAAM,SACNC,MAAOvE,GAAMwE,UACbC,SAAU7E,EACV8E,QAASjF,EACTkF,SAvNqB,CAACC,EAASC,KACvCnF,EAAQkF,GACR/E,EAASgF,IAsNDC,iBAAe,EACfC,UAAW,CAACR,EAAOS,IACjB,GAAGA,EAAM,MAAMA,EAAM,WAAWT,WAKtCjD,EAAAA,IAACwS,GAAA,CACC1R,MAAO4G,EAAS,oBAAsB,sBACtC7D,OACAC,QAvNY,KAClB8Q,EAAQ,CAAA,GACRjN,GAAU,GACVF,GAAQ,IAqNFgL,gBC3RJ9U,QAAEA,IAAYC,GAEdyY,GAAO,EAAGvC,SAAQwC,UAASC,eAC/B,MAAOpY,EAAMC,GAAWC,EAAAA,SAAS,IAC1BC,EAAOC,GAAYF,EAAAA,SAAS,KAC5BN,EAAQqG,GAAa/F,EAAAA,SAAS,KAE/BK,KAAEA,EAAAC,UAAMA,GAAc6X,EAAmB,CAC7CrY,KAAAA,EACAG,MAAAA,EACAP,SACA0U,KAAMqB,EACNwC,aAGKG,GAAa9X,UAAW+X,IAAmBC,KAC3CC,GAAcjY,UAAWkY,IAAoBC,KAC7CC,GAAcpY,UAAWqY,IAAmBC,IA6F7ChM,EAAU,CACd,CACEnK,MAAO,KACPuN,IAAK,KACLE,OAAQ,CAAC8C,EAAM9I,EAAQsH,KAAW1R,EAAO,GAAKG,EAAQuR,EAAQ,GAEhE,CAAE/O,MAAO,MAAOwN,UAAW,MAAOD,IAAK,OACvC,CAAEvN,MAAO,aAAcwN,UAAW,eAAgBD,IAAK,gBACvD,CAAEvN,MAAO,UAAWwN,UAAW,aAAcD,IAAK,cAClD,CAAEvN,MAAO,QAASwN,UAAW,aAAcD,IAAK,cAChD,CAAEvN,MAAO,KAAMwN,UAAW,KAAMD,IAAK,MACrC,CAAEvN,MAAO,UAAWwN,UAAW,UAAWD,IAAK,WAC/C,CACEvN,MAAO,QACPwN,UAAW,YACXD,IAAK,YACLE,OAAS8C,GACPrR,EAAAA,IAACyO,EAAA,CAAIC,MAAM,UAAW1R,SAAAqU,GAAQ,IAAIwE,KAAKxE,GAAM6F,oBAGjD,CACEpW,MAAO,SACPuN,IAAK,SACLE,OAAShG,GACPA,EAAO4O,UACLnX,EAAAA,IAACyO,EAAA,CAAIC,MAAM,MAAM1R,SAAA,cACfuL,EAAO8M,SACTrV,EAAAA,IAACyO,EAAA,CAAIC,MAAM,OAAO1R,SAAA,gBAChBuL,EAAO6O,OACTpX,EAAAA,IAACyO,EAAA,CAAIC,MAAM,QAAQ1R,SAAA,YAEnBgD,EAAAA,IAACyO,GAAIzR,SAAA,iBAGX,CACE8D,MAAO,OACPuN,IAAK,SACLE,OAAShG,GACPvI,EAAAA,IAACqX,GAASnI,OAAT,CACCoI,KAAM,CACJC,MAAO,CACL,CACElJ,IAAK,SACLnJ,MAAO,gBACP2B,UAAW0B,EAAOiP,QAEpB,CACEnJ,IAAK,QACLnJ,MAAO,eACP2B,UAAW0B,EAAO8M,UAEpB,CACEhH,IAAK,SACLnJ,MAAO,mBACP2B,UAAW0B,EAAO6O,SAAW7O,EAAO8M,UAEtC,CACEhH,IAAK,SACLnJ,MAAO,eACP2B,UAAW0B,EAAO6O,SAItBjW,QAAS,EAAGkN,SArJD,EAAC9F,GAAU8F,UAC9B,OAAQA,GACN,IAAK,SACH/O,EAAQiW,KAAK,UACb,MAEF,IAAK,QACH5X,GAAQ,CACNmD,MAAO,6DACPe,QACE,qEACFC,OAAQ,cACRE,WAAY,QACZD,OAAQ,SACR,UAAME,GACJ,UACQ2U,EAAWrO,EAAOiP,QACxBlY,EAAQC,QACN,GAAGgJ,EAAOkP,6CAEd,OAASvY,GACPI,EAAQJ,MAAMA,GAAOR,MAAMY,SAAW,oBACxC,CACF,EACA,QAAA4C,GACE5C,EAAQiW,KAAK,kBACf,IAEF,MAEF,IAAK,SACH5X,GAAQ,CACNmD,MAAO,yCAAyCyH,EAAOkP,iBACvD5V,QAAS,wDACTC,OAAQ,iBACRE,WAAY,QACZD,OAAQ,SACR,UAAME,GACJ,UACQwU,EAAUlO,EAAOiP,QACvBlY,EAAQC,QACN,SAASgJ,EAAOkP,kCAEpB,OAASvY,GACPI,EAAQJ,MAAMA,GAAOR,MAAMY,SAAW,oBACxC,CACF,EACA,QAAA4C,GACE5C,EAAQiW,KAAK,kBACf,IAEF,MAEF,IAAK,SACH5X,GAAQ,CACNmD,MAAO,qCAAqCyH,EAAOkP,iBACnD5V,QAAS,sDACTC,OAAQ,oBAAoByG,EAAOkP,eACnCzV,WAAY,QACZD,OAAQ,SACR,UAAME,GACJ,UACQ8U,EAAWxO,EAAOiP,QACxBlY,EAAQC,QACN,cAAcgJ,EAAOkP,6BAEzB,OAASvY,GACPI,EAAQJ,MAAMA,GAAOR,MAAMY,SAAW,oBACxC,CACF,EACA,QAAA4C,GACE5C,EAAQiW,KAAK,kBACf,MA6EwBmC,CAAanP,EAAQ,CAAE8F,SAEhDrR,SAAA,mBAOP,OACEgD,EAAAA,IAAC2X,GAAA,CACCpB,WACA/X,SAtKkB4C,IACpBgD,EAAUhD,GACVhD,EAAQ,IAqKNO,UAAWA,GAAakY,GAAkBH,GAAiBM,EAC3D/L,UACA2M,OAAQlZ,GAAMqN,OACd6D,OAAO,aACPzR,KAAAA,EACAG,MAAAA,EACA4E,UAAWxE,GAAMwE,UACjBG,SAxFuByM,IACzB1R,EAAQ0R,EAAW1M,SACnB7E,EAASuR,EAAW3M,cC/GlB0U,GAAW,EAAG/D,SAAQwC,UAASC,eACnC,MAAOpY,EAAMC,GAAWC,EAAAA,SAAS,IAC1BC,EAAOC,GAAYF,EAAAA,SAAS,KAC5BN,EAAQqG,GAAa/F,EAAAA,SAAS,KAE/BK,KAAEA,EAAAC,UAAMA,GAAcmZ,EAAwB,CAClD3Z,KAAAA,EACAG,MAAAA,EACAP,SACA0U,KAAMqB,EACNwC,YAaIrL,EAAUiI,EAAAA,QAAQ,KACtB,IAAKxU,EAAM,MAAO,GA4GlB,MAAO,IAzGkB,CACvB,CACEoC,MAAO,KACPuN,IAAK,KACLhG,MAAO,GACP0P,MAAO,OACP/U,MAAO,SACPuL,OAAQ,CAAC8C,EAAM9I,EAAQsH,KAAW1R,EAAO,GAAKG,EAAQuR,EAAQ,GAEhE,CACE/O,MAAO,aACPwN,UAAW,OACXD,IAAK,OACLhG,MAAO,IACP0P,MAAO,SAKW,CACpBjX,MAAO,yBACPkC,MAAO,SACPhG,SAAU0B,EAAKyS,UAAU7Q,IAAI,CAAC6I,EAAU0G,KAAA,CAEtC/O,MACEd,EAAAA,IAACe,EAAA,CAAQD,MAAO,UAAUqI,EAASF,gBAAgBE,EAASD,OACzDlM,SAAA,IAAI6S,EAAQ,MAGjBvB,UAAW,UACXD,IAAK,YAAYlF,EAAS1H,KAC1B4G,MAAO,GACPrF,MAAO,SACPuL,OAASyJ,IACP,MAAMC,EAAmBD,GAAS1S,KAC/B4S,GAAQA,EAAIzW,KAAO0H,EAAS1H,IAEzB0W,EAAgBF,EAClBA,EAAiBG,GAAGC,cACpB,IACEC,EAAYH,IAAkBhP,EAASF,KAAKoP,cAElD,OAAKJ,EAKHjY,EAAAA,IAACwC,EAAWC,KAAX,CACCuF,MAAO,CACLuQ,WAAY,MACZ7J,MAAO4J,EAAY,UAAY,WAGhCtb,SAAAmb,UAVK3V,EAAWC,KAAX,CAAgBiG,KAAK,YAAY1L,SAAA,cAkBvB,CACxB,CACE8D,MAAO,QACPwN,UAAW,UACXD,IAAK,UACLhG,MAAO,GACP0P,MAAO,QACP/U,MAAO,SACPuL,OAAS8C,GACPrR,EAAAA,IAACwC,EAAWC,KAAX,CAAgB+M,QAAM,EAACxH,MAAO,CAAE0G,MAAO,WACrC1R,SAAAqU,KAIP,CACEvQ,MAAO,QACPwN,UAAW,YACXD,IAAK,YACLhG,MAAO,GACP0P,MAAO,QACPxJ,OAAS8C,GACPrR,EAAAA,IAACwC,EAAWC,KAAX,CAAgB+M,QAAM,EAACxH,MAAO,CAAE0G,MAAO,WACrC1R,SAAAqU,KAIP,CACEvQ,MAAO,cACPwN,UAAW,WACXD,IAAK,WACLhG,MAAO,IACP0P,MAAO,QACP/U,MAAO,SACPuL,OAASiK,GACPxY,EAAAA,IAACyO,EAAA,CACCC,MAAO8J,GAAS,GAAK,OAAS,UAC9BxQ,MAAO,CAAEsK,SAAU,GAAIN,QAAS,WAE/BhV,SAAAwb,QAOR,CAAC9Z,EAAMP,EAAMG,IAEhB,OACE0B,EAAAA,IAAC2X,GAAA,CACCpB,WACA/X,SA7HkB4C,IACpBgD,EAAUhD,GACVhD,EAAQ,IA4HNO,YACAsM,UACA2M,OAAQlZ,GAAM+Z,SACd7I,OAAO,KACPzR,KAAAA,EACAG,MAAAA,EACA4E,UAAWxE,GAAMwE,UACjBG,SAhIuByM,IACzB1R,EAAQ0R,EAAW1M,SACnB7E,EAASuR,EAAW3M,WA+HlBwM,UAAQ,EACRI,OAAQ,CAAEC,EAAG,mBC5IbjI,MAAEA,GAAAtF,KAAOA,IAASD,GAClB0F,OAAEA,IAAWZ,EAEboR,GAAS,EAAG5E,SAAQwC,UAASC,eAEjC,MAAOpY,EAAMC,GAAWC,EAAAA,SAAS,IAC1BC,EAAOC,GAAYF,EAAAA,SAAS,KAC5BN,EAAQqG,GAAa/F,EAAAA,SAAS,KAC9BG,EAAUC,GAAeJ,EAAAA,SAAS,KAGnCK,KAAEA,EAAAC,UAAMA,EAAAga,QAAWA,GAAYC,EAAyB,CAC5DnG,KAAMqB,EACNwC,UACAnY,KAAAA,EACAG,MAAAA,EACAP,OAAQS,IAIVa,EAAAA,UAAU,KACR,MAAM6V,EAAUzV,WAAW,KACzBhB,EAAYV,GACC,IAATI,GAAYC,EAAQ,IACvB,KAEH,MAAO,IAAMsB,aAAawV,IACzB,CAACnX,IAGJ,MAMMkN,EAAU,CACd,CACEnK,MAAO,KACPuN,IAAK,KACLE,OAAQ,CAAC8C,EAAM9I,EAAQsH,KAAW1R,EAAO,GAAKG,EAAQuR,EAAQ,EAC9DxH,MAAO,MAET,CACEvH,MAAO,MACPwN,UAAW,cACXD,IAAK,eAEP,CACEvN,MAAO,aACPwN,UAAW,eACXD,IAAK,gBAEP,CACEvN,MAAO,UACPwN,UAAW,gBACXD,IAAK,iBAEP,CACEvN,MAAO,QACPwN,UAAW,gBACXD,IAAK,iBAEP,CACEvN,MAAO,QACPwN,UAAW,UACXD,IAAK,UACLrL,MAAO,SACPuL,OAASsK,GAAY7Y,EAAAA,IAACyC,GAAA,CAAKuF,MAAO,CAAE0G,MAAO,WAAc1R,SAAA6b,KAE3D,CACE/X,MAAO,QACPwN,UAAW,YACXD,IAAK,YACLrL,MAAO,SACPuL,OAASuK,GACP9Y,EAAAA,IAACyC,GAAA,CAAKuF,MAAO,CAAE0G,MAAO,WAAc1R,SAAA8b,KAGxC,CACEhY,MAAO,UACPwN,UAAW,WACXD,IAAK,WACLrL,MAAO,UAET,CACElC,MAAO,YACPwN,UAAW,cACXD,IAAK,cACLrL,MAAO,UAET,CACElC,MAAO,cACPwN,UAAW,QACXD,IAAK,QACLrL,MAAO,SACPuL,OAASiK,GACPxY,MAACyC,GAAA,CAAK+M,QAAM,EAACxH,MAAO,CAAE0G,MAAO,WAC1B1R,SAAAwb,MAOT,GAAIG,EACF,OACE3Y,EAAAA,IAACiP,GAAA,CACC3P,QAAQ,oBACR+C,YAAY,oDACZqG,KAAK,QACL0G,UAAQ,IAKd,MAAM2J,EAAYra,GAAMsa,WAAa,eAC/BC,IACJrZ,KAAC0C,EAAA,CAAMyM,UAAU,WAAWC,KAAK,QAC/BhS,SAAA,GAAA4C,KAAC6C,GAAA,CAAKiG,KAAK,YAAY1L,SAAA,CAAA,SAAO0B,GAAMiE,kBACpC/C,KAAC6C,GAAA,CAAKiG,KAAK,YAAY1L,SAAA,CAAA,YAAU0B,GAAMwa,oBAI3C,OACElZ,EAAAA,IAAC,MAAA,CAAI3C,IAAKkZ,EACRvZ,gBAAC6D,EAAA,CACC7D,SAAA,CAAAgD,EAAAA,IAAC+H,GAAA,CAAMpC,MAAO,EAAI3I,SAAA+b,IACjBE,IAEDjZ,IAACI,EAAA,CAAI0H,QAAQ,MAAME,MAAO,CAAEC,OAAQ,UAClCjL,SAAAgD,EAAAA,IAACQ,EAAA,CACCxD,SAAAgD,EAAAA,IAACkI,GAAA,CACC1B,YAAY,8BACZpF,MAAOrD,EACPsF,SAAW8E,GAAM/D,EAAU+D,EAAEC,OAAOhH,OACpC4G,MAAO,CAAEK,MAAO,KAChB5B,YAAU,EACV0S,aAAW,QAKjBnZ,EAAAA,IAACyP,EAAA,CACCxE,UACAyE,WAAYhR,GAAM+Z,UAAY,GAC9B7I,OAAO,aACP5O,QAASrC,EACT0E,SAtHmByM,IACzB1R,EAAQ0R,EAAW1M,SACnB7E,EAASuR,EAAW3M,WAqHd2M,WAAY,CACV1M,QAASjF,EACTgF,SAAU7E,EACV2E,MAAOvE,GAAMwE,WAAa,EAC1BM,iBAAiB,EACjB4V,gBAAiB,CAAC,KAAM,KAAM,KAAM,OACpC3V,UAAW,CAACR,EAAOS,IACjB,GAAGA,EAAM,MAAMA,EAAM,WAAWT,UAEpC8M,OAAQ,CAAEC,EAAG,uBClKjBqJ,GAAS,EAAGnc,OAAM4W,SAAQC,YAC9B,MAAMzD,EAAWC,KAEV+F,EAASgD,GAAcjb,EAAAA,SAAS,KAChCkb,EAAWC,GAAgBnb,EAAAA,SAAS,KAErCob,EAAeC,EAAAA,OAAO,MACtBC,EAAmBD,EAAAA,OAAO,MAC1BE,EAAgBF,EAAAA,OAAO,OAEvBhb,KAAEA,GAASmb,EAAkB,CAAEpH,KAAMqB,GAAU,CAAEgG,MAAOhG,IAExDX,EAAYzU,GAAM4B,IAAKC,IAAA,CAAYa,MAAOb,EAAKkB,GAAIyD,MAAO3E,EAAKrD,QAU/D6c,EAAyB,CAAC1c,EAAK2c,KACnC,IAAK3c,EAAI+F,QAEP,YADA9D,EAAQJ,MAAM,sDAIhB,MAAM+a,EAAQ5c,EAAI+F,QAAQ8W,cAAc,SACxC,IAAKD,EAEH,YADA3a,EAAQJ,MAAM,sCAIhB,MAAM8M,EAAWO,GAAW4N,WACtB/N,EAAYG,GAAW6N,eAAeH,GAC5C1N,GAAW8N,kBAAkBrO,EAAUI,EAAW,QAClDkO,GAAetO,EAAU,GAAGgO,WA8BxBzC,EAAQ,CACZ,CACErS,MAAO,QACPmJ,IAAK,IACLrR,WACEgD,IAACqW,GAAA,CAAKvC,SAAgBwC,UAAkBC,SAAUkD,KAGtD,CACEvU,MAAO,WACPmJ,IAAK,IACLrR,SACEgD,EAAAA,IAAC6X,GAAA,CACC/D,SACAwC,UACAC,SAAUoD,KAIhB,CACEzU,MAAO,QACPmJ,IAAK,IACLrR,WACEgD,IAAC0Y,GAAA,CAAO5E,SAAgBwC,UAAkBC,SAAUqD,MAI1D,OACEha,EAAAA,KAACC,EAAA,CAAKC,UAAQ,EAACC,IAAK,QAClB/C,SAAA,CAAA4C,EAAAA,KAACC,EAAA,CAAKmD,MAAM,SAAS8E,QAAQ,gBAC3B9K,SAAA,CAAA4C,OAAC0C,EAAA,CACCtF,SAAA,CAAAgD,EAAAA,IAACkP,EAAA,CACC+B,MAAM,SACNtU,WAAOuU,EAAA,IACP/P,QAvFS,KACjBmP,EAAS,kCAwFF,MAAA,CACCtT,SAAA,GAAAgD,IAACwC,EAAWuF,MAAX,CAAiBC,MAAO,CAAEC,OAAQ,GAAKtC,MAAO,EAC5C3I,SAAAE,GAAMqE,QAAQ,KAAM,OAGvBvB,MAACwC,EAAWC,KAAX,CAAgB+S,UAAQ,EAAChG,QAAM,EAC7BxS,SAAA+W,iBAKNzR,EAAA,CACCtF,SAAA,CAAAgD,EAAAA,IAACuG,EAAA,CACCyB,MAAO,CAAEK,MAAO,KAChB7B,YAAY,cACZG,QAASwM,EACT9P,SArGYjC,IACpBkY,EAAWlY,IAqGHqF,YAAU,IAGZzG,EAAAA,IAACkP,GAAOvS,KAAMqD,MAACua,OAAqBpZ,QAnFrB,KACrB,OAAQoY,GACN,IAAK,IACHQ,EACEN,EACA,WAAWvc,EAAKqE,QAAQ,KAAM,QAEhC,MACF,IAAK,IACHwY,EACEJ,EACA,YAAYzc,EAAKqE,QAAQ,KAAM,QAGjC,MACF,IAAK,IACHwY,EACEH,EACA,SAAS1c,EAAKqE,QAAQ,KAAM,UAiEiCvE,SAAA,qBAMjEgD,EAAAA,IAACwa,EAAA,CAAKC,UAAQ,EAAClD,QAAclU,SAAWgL,GAAQmL,EAAanL,SCnI7DqM,GAAa,KACjB,MAAO1c,GAAgBE,IACjBmD,EAAUrD,EAAa2c,IAAI,YAAYpZ,QAAQ,KAAM,KACrDC,EAASxD,EAAa2c,IAAI,UAC1Bzd,EAAOc,EAAa2c,IAAI,SAASpZ,QAAQ,KAAM,KAC/CqZ,EAAS5c,EAAa2c,IAAI,UAC1B7G,EAAS9V,EAAa2c,IAAI,UAC1B5G,EAAQ/V,EAAa2c,IAAI,SAEzBpD,EAAQ,CACZ,CAAErS,MAAO,YAAamJ,IAAK,IAAKrR,SAAUgD,EAAAA,IAACwH,QAC3C,CAAEtC,MAAO,eAAgBmJ,IAAK,IAAKrR,SAAUgD,EAAAA,IAAC2U,SAGhD,OAAInT,EAEAxB,EAAAA,IAAC6a,EAAA,CACC/Z,MAAO,gCACPga,OAAQ,CAAC,QAAS,WAElB9d,WAAAgD,IAACqQ,GAAA,CAAUhP,UAAkBG,SAAgBtE,WAK/C0d,EAEA5a,EAAAA,IAAC6a,EAAA,CACC/Z,MACE5D,EAAOA,GAAMqE,QAAQ,KAAM,KAAO,gCAEpCuZ,OAAQ,CAAC,QAAS,WAElB9d,WAAAgD,IAACqZ,GAAA,CAAOnc,OAAY4W,SAAgBC,YAMxC/T,EAAAA,IAAC6a,EAAA,CACC/Z,MAAO,gCACPga,OAAQ,CAAC,QAAS,WAElB9d,WAAAgD,IAACwa,EAAA,CAAKC,UAAQ,EAAClD","x_google_ignoreList":[0,1]}