{"version":3,"file":"News-DN3YXB8V.js","sources":["../../src/home/news/News.jsx"],"sourcesContent":["import React, { Fragment, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport { useGetNewsQuery } from \"../../controller/api/cms/ApiNews\";\r\n\r\nconst News = () => {\r\n  const navigate = useNavigate();\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const { data, isLoading, isError } = useGetNewsQuery({ page, limit, search });\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString(\"id-ID\", {\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const handleReadMore = (id) => {\r\n    navigate(`/berita/${id}`);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Fragment>\r\n        <Header />\r\n        <main className=\"container py-5\">\r\n          <div className=\"text-center\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"visually-hidden\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </main>\r\n        <Footer />\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  if (isError) {\r\n    return (\r\n      <Fragment>\r\n        <Header />\r\n        <main className=\"container py-5\">\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            Error loading news. Please try again later.\r\n          </div>\r\n        </main>\r\n        <Footer />\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header />\r\n      <main style={{ marginTop: 40 }} className=\"container py-5\">\r\n        <h1 className=\"mb-4\">Berita Terbaru</h1>\r\n\r\n        <div className=\"row  g-4\">\r\n          {data?.result?.map((news) => (\r\n            <div key={news.id} className=\"col-md-3 col-12\">\r\n              <div className=\"card h-100\">\r\n                <img\r\n                  src={news.image}\r\n                  className=\"card-img-top\"\r\n                  alt={news.title}\r\n                  style={{ height: \"200px\", objectFit: \"cover\" }}\r\n                />\r\n                <div className=\"card-body\">\r\n                  <span className=\"badge bg-primary mb-2\">\r\n                    {news.category_name}\r\n                  </span>\r\n                  <h5 className=\"card-title\">{news.title}</h5>\r\n                  <p className=\"card-text text-muted\">\r\n                    {formatDate(news.createdat)}\r\n                  </p>\r\n                  <button\r\n                    className=\"btn btn-outline-primary\"\r\n                    onClick={() => handleReadMore(news.id)}\r\n                  >\r\n                    Baca Selengkapnya\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Pagination */}\r\n        <nav className=\"mt-5\">\r\n          <ul className=\"pagination pagination-sm justify-content-center\">\r\n            <li className={`page-item ${page === 1 ? \"disabled\" : \"\"}`}>\r\n              <button\r\n                className=\"page-link\"\r\n                onClick={() => setPage(page - 1)}\r\n                disabled={page === 1}\r\n              >\r\n                <i className=\"bi bi-chevron-double-left\"></i>\r\n              </button>\r\n            </li>\r\n            {[...Array(data?.totalPage)].map((_, index) => (\r\n              <li\r\n                key={index + 1}\r\n                className={`page-item ${page === index + 1 ? \"active\" : \"\"}`}\r\n              >\r\n                <button\r\n                  className=\"page-link\"\r\n                  onClick={() => setPage(index + 1)}\r\n                >\r\n                  {index + 1}\r\n                </button>\r\n              </li>\r\n            ))}\r\n            <li\r\n              className={`page-item ${\r\n                page === data?.totalPage ? \"disabled\" : \"\"\r\n              }`}\r\n            >\r\n              <button\r\n                className=\" page-link\"\r\n                onClick={() => setPage(page + 1)}\r\n                disabled={page === data?.totalPage}\r\n              >\r\n                <i className=\"bi bi-chevron-double-right\"></i>\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </main>\r\n      <Footer />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default News;\r\n"],"names":["News","navigate","useNavigate","page","setPage","useState","limit","setLimit","search","setSearch","data","isLoading","isError","useGetNewsQuery","Fragment","children","jsxRuntimeExports","jsx","Header","className","role","Footer","jsxs","style","marginTop","_a","result","map","news","src","image","alt","title","height","objectFit","category_name","dateString","createdat","Date","toLocaleDateString","year","month","day","onClick","handleReadMore","id","disabled","Array","totalPage","_","index"],"mappings":"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"}