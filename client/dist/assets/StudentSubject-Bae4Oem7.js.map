{"version":3,"file":"StudentSubject-Bae4Oem7.js","sources":["../../src/page/lms/list/ListSubjects.jsx","../../src/page/student/subjects/StudentSubject.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useGetSubjectsOnClassQuery } from \"../../../controller/api/lms/ApiLms\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst ListSubjects = () => {\r\n  const navigate = useNavigate();\r\n  const { user } = useSelector((state) => state.auth);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState(\"\");\r\n\r\n  // Use debounced search term for API calls\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedSearchTerm(searchTerm);\r\n    }, 500); // 500ms delay\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [searchTerm]);\r\n\r\n  const { data, isLoading, isError, error } = useGetSubjectsOnClassQuery(\r\n    { classid: user?.class_id, search: debouncedSearchTerm },\r\n    { skip: !user?.class_id }\r\n  );\r\n\r\n  const goToLink = (name, id) => {\r\n    const formattedName = name.replace(/\\s+/g, \"-\");\r\n    navigate(`/pelajaran/${formattedName}/${id}`);\r\n  };\r\n\r\n  const container = {\r\n    hidden: { opacity: 0 },\r\n    show: {\r\n      opacity: 1,\r\n      transition: {\r\n        staggerChildren: 0.1,\r\n      },\r\n    },\r\n  };\r\n\r\n  const item = {\r\n    hidden: { y: 20, opacity: 0 },\r\n    show: { y: 0, opacity: 1 },\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid py-4\">\r\n      <div className=\"row justify-content-between align-items-center mb-4\">\r\n        <div className=\"col-lg-6\">\r\n          <h4 className=\"mb-3 text-primary fw-bold\">Daftar Mata Pelajaran</h4>\r\n          <div className=\"input-group input-group-lg shadow-sm\">\r\n            <span className=\"input-group-text bg-white border-end-0\">\r\n              <i className=\"bi bi-search text-primary\"></i>\r\n            </span>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control border-start-0 ps-0\"\r\n              placeholder=\"Cari mata pelajaran...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {isLoading ? (\r\n        <div className=\"text-center py-5\">\r\n          <div className=\"spinner-border text-primary\" role=\"status\">\r\n            <span className=\"visually-hidden\">Loading...</span>\r\n          </div>\r\n          <p className=\"mt-3 text-muted\">Memuat data mata pelajaran...</p>\r\n        </div>\r\n      ) : data?.length > 0 ? (\r\n        <motion.div\r\n          className=\"row g-4\"\r\n          variants={container}\r\n          initial=\"hidden\"\r\n          animate=\"show\"\r\n        >\r\n          {data.map((item) => (\r\n            <motion.div\r\n              key={item.id}\r\n              className=\"col-xl-3 col-lg-4 col-md-6\"\r\n              variants={item}\r\n            >\r\n              <div\r\n                className=\"card h-100 shadow-sm border-0 hover-card rounded-3 overflow-hidden\"\r\n                onClick={() => goToLink(item.name, item.id)}\r\n                style={{ cursor: \"pointer\", transition: \"all 0.3s ease\" }}\r\n              >\r\n                <div className=\"position-relative\">\r\n                  <img\r\n                    src={\r\n                      item.cover\r\n                        ? `${window.location.origin}${item.cover}`\r\n                        : `/logo.png`\r\n                    }\r\n                    alt={item.name}\r\n                    className=\"card-img-top\"\r\n                    style={{\r\n                      height: \"250px\",\r\n                      objectFit: \"cover\",\r\n                    }}\r\n                  />\r\n                  <div className=\"position-absolute top-0 end-0 p-3\">\r\n                    <span className=\"badge bg-primary rounded-pill\">\r\n                      <i className=\"bi bi-book-fill me-1\"></i>\r\n                      Mata Pelajaran\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"card-body p-4\">\r\n                  <h5 className=\"card-title mb-3 fw-bold text-primary\">\r\n                    {item.name}\r\n                  </h5>\r\n                  <div className=\"d-flex align-items-center text-muted mb-3\">\r\n                    <i className=\"bi bi-mortarboard-fill me-2\"></i>\r\n                    <span className=\"small\">\r\n                      Mata Pelajaran Kelas {user?.class_id}\r\n                    </span>\r\n                  </div>\r\n                  <button\r\n                    className=\"btn btn-primary w-100 rounded-pill py-2\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      goToLink(item.name, item.id);\r\n                    }}\r\n                  >\r\n                    <i className=\"bi bi-arrow-right-circle-fill me-2\"></i>\r\n                    Masuk Pelajaran\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </motion.div>\r\n      ) : (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"row justify-content-center\"\r\n        >\r\n          <div className=\"col-md-6 text-center\">\r\n            <div className=\"py-5\">\r\n              <div\r\n                className=\"bg-light rounded-circle mx-auto mb-4 d-flex align-items-center justify-content-center\"\r\n                style={{ width: \"100px\", height: \"100px\" }}\r\n              >\r\n                <i className=\"bi bi-journal-x display-4 text-primary\"></i>\r\n              </div>\r\n              <h4 className=\"fw-bold mb-3\">\r\n                {searchTerm\r\n                  ? \"Mata Pelajaran Tidak Ditemukan\"\r\n                  : \"Data Belum Tersedia\"}\r\n              </h4>\r\n              <p className=\"text-muted mb-4\">\r\n                {searchTerm\r\n                  ? \"Maaf, tidak ada mata pelajaran yang sesuai dengan pencarian Anda\"\r\n                  : \"Belum ada mata pelajaran yang tersedia saat ini\"}\r\n              </p>\r\n              {isError && (\r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                  <i className=\"bi bi-exclamation-triangle-fill me-2\"></i>\r\n                  <small>{error?.message}</small>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListSubjects;\r\n","import React from \"react\";\r\nimport Layout from \"../../../components/layout/Layout\";\r\nimport ListSubjects from \"../../lms/list/ListSubjects\";\r\n\r\nconst StudentSubject = () => {\r\n  return (\r\n    <Layout title={\"Daftar Pelajaran\"} levels={[\"student\"]}>\r\n      <ListSubjects />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default StudentSubject;\r\n"],"names":["ListSubjects","navigate","useNavigate","user","useSelector","state","auth","searchTerm","setSearchTerm","useState","debouncedSearchTerm","setDebouncedSearchTerm","useEffect","timer","setTimeout","clearTimeout","data","isLoading","isError","error","useGetSubjectsOnClassQuery","classid","class_id","search","skip","goToLink","name","id","formattedName","replace","jsxs","className","children","jsx","jsxRuntimeExports","type","placeholder","value","onChange","e","target","role","length","motion","div","variants","hidden","opacity","show","transition","staggerChildren","initial","animate","map","item","onClick","style","cursor","src","cover","window","location","origin","alt","height","objectFit","stopPropagation","y","width","message","StudentSubject","Layout","title","levels"],"mappings":"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"}