{"version":3,"file":"DbList-Qwia8an5.js","sources":["../../src/page/Database/DbList.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Layout from \"../../components/layout/Layout\";\r\nimport { useGetDatabaseQuery } from \"../../controller/api/database/ApiDatabase\";\r\nimport Table from \"../../components/table/Table\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst DbList = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const { data, isLoading } = useGetDatabaseQuery({ page, limit, search });\r\n  const { students = [], totalPages, totalData } = data || {};\r\n\r\n  const gotoDatabase = (userid, name) => {\r\n    const formattedName = name.replace(/\\s+/g, \"-\");\r\n    navigate(`/database/${userid}/${formattedName}`);\r\n  };\r\n\r\n  return (\r\n    <Layout title=\"Database\" levels={[\"admin\"]}>\r\n      <Table\r\n        isLoading={isLoading}\r\n        page={page}\r\n        setPage={setPage}\r\n        limit={limit}\r\n        setLimit={setLimit}\r\n        setSearch={setSearch}\r\n        totalData={totalData}\r\n        totalPages={totalPages}\r\n      >\r\n        <table className=\"mb-0 table table-striped table-hover table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"text-center\">No</th>\r\n              <th className=\"text-center\">NIS</th>\r\n              <th className=\"text-center\">Nama</th>\r\n              <th className=\"text-center\">P/L</th>\r\n              <th className=\"text-center\">Tahun Masuk</th>\r\n              <th className=\"text-center\">Tingkat</th>\r\n              <th className=\"text-center\">Kelas</th>\r\n              <th className=\"text-center\">Kelengkapan Data</th>\r\n              <th className=\"text-center\">Aksi</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {students.map((student, index) => (\r\n              <tr key={student.student_id}>\r\n                <td className=\"text-center align-middle\">\r\n                  {index + 1 + (page - 1) * limit}\r\n                </td>\r\n                <td className=\"text-center align-middle\">\r\n                  {student.student_nis}\r\n                </td>\r\n                <td className=\"align-middle\">{student.student_name}</td>\r\n                <td className=\"text-center align-middle\">\r\n                  {student.student_gender || \"-\"}\r\n                </td>\r\n                <td className=\"text-center align-middle\">\r\n                  {student.student_entry || \"-\"}\r\n                </td>\r\n                <td className=\"text-center align-middle\">\r\n                  {student.student_grade || \"-\"}\r\n                </td>\r\n                <td className=\"text-center align-middle\">\r\n                  {student.student_class || \"-\"}\r\n                </td>\r\n                <td className=\"text-center align-middle \">\r\n                  <div className=\"progress\" style={{ height: \"20px\" }}>\r\n                    <div\r\n                      className={`progress-bar ${\r\n                        parseInt(student.completeness) === 100\r\n                          ? \"bg-success\"\r\n                          : parseInt(student.completeness) >= 50\r\n                          ? \"bg-warning\"\r\n                          : \"bg-danger\"\r\n                      }`}\r\n                      role=\"progressbar\"\r\n                      style={{ width: `${student.completeness}%` }}\r\n                      aria-valuenow={student.completeness}\r\n                      aria-valuemin=\"0\"\r\n                      aria-valuemax=\"100\"\r\n                    >\r\n                      {student.completeness}%\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td className=\"text-center align-middle\">\r\n                  <button\r\n                    className=\"btn btn-sm btn-info\"\r\n                    onClick={() =>\r\n                      gotoDatabase(student.student_id, student.student_name)\r\n                    }\r\n                  >\r\n                    <i className=\"bi bi-database\"></i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </Table>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default DbList;\r\n"],"names":["DbList","navigate","useNavigate","page","setPage","useState","limit","setLimit","search","setSearch","data","isLoading","useGetDatabaseQuery","students","totalPages","totalData","Layout","title","levels","children","jsxRuntimeExports","jsx","Table","jsxs","className","map","student","index","student_nis","student_name","student_gender","student_entry","student_grade","student_class","style","height","parseInt","completeness","role","width","onClick","userid","name","formattedName","replace","gotoDatabase","student_id"],"mappings":"yOAMA,MAAMA,EAAS,KACb,MAAMC,EAAWC,KAEVC,EAAMC,GAAWC,EAAAA,SAAS,IAC1BC,EAAOC,GAAYF,EAAAA,SAAS,KAC5BG,EAAQC,GAAaJ,EAAAA,SAAS,KAE/BK,KAAEA,YAAMC,GAAcC,EAAoB,CAAET,OAAMG,QAAOE,YACzDK,SAAEA,EAAW,GAACC,WAAGA,YAAYC,GAAcL,GAAQ,CAAC,eAQvDM,EAAO,CAAAC,MAAM,WAAWC,OAAQ,CAAC,SAChCC,SAAAC,EAAAC,IAACC,EAAA,CACCX,YACAR,OACAC,UACAE,QACAC,WACAE,YACAM,YACAD,aAEAK,SAAAC,EAAAG,KAAC,QAAM,CAAAC,UAAU,sDACfL,SAAA,CAACE,EAAAA,IAAA,QAAA,CACCF,gBAAC,KACC,CAAAA,SAAA,CAACE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAE,OAC7BE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAG,QAC9BE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAI,SAC/BE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAG,QAC9BE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAW,gBACtCE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAO,YAClCE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAK,UAChCE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAgB,qBAC3CE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAI,cAGpCE,EAAAA,IAAC,SACEF,SAASN,EAAAY,KAAI,CAACC,EAASC,WACrB,KACC,CAAAR,SAAA,CAAAE,EAAAA,IAAC,MAAGG,UAAU,2BACXL,WAAQ,GAAKhB,EAAO,GAAKG,IAE3Be,EAAAA,IAAA,KAAA,CAAGG,UAAU,2BACXL,WAAQS,cAEVP,EAAAA,IAAA,KAAA,CAAGG,UAAU,eAAgBL,WAAQU,qBACrC,KAAG,CAAAL,UAAU,2BACXL,SAAAO,EAAQI,gBAAkB,YAE5B,KAAG,CAAAN,UAAU,2BACXL,SAAAO,EAAQK,eAAiB,YAE3B,KAAG,CAAAP,UAAU,2BACXL,SAAAO,EAAQM,eAAiB,YAE3B,KAAG,CAAAR,UAAU,2BACXL,SAAAO,EAAQO,eAAiB,QAE3BZ,IAAA,KAAA,CAAGG,UAAU,4BACZL,SAACE,EAAAA,IAAA,MAAA,CAAIG,UAAU,WAAWU,MAAO,CAAEC,OAAQ,QACzChB,SAAAC,EAAAG,KAAC,MAAA,CACCC,UAAW,iBAC0B,MAAnCY,SAASV,EAAQW,cACb,aACAD,SAASV,EAAQW,eAAiB,GAClC,aACA,aAENC,KAAK,cACLJ,MAAO,CAAEK,MAAO,GAAGb,EAAQW,iBAC3B,gBAAeX,EAAQW,aACvB,gBAAc,IACd,gBAAc,MAEblB,SAAA,CAAQO,EAAAW,aAAa,aAI5BhB,IAAC,KAAG,CAAAG,UAAU,2BACZL,SAAAC,EAAAC,IAAC,SAAA,CACCG,UAAU,sBACVgB,QAAS,IA5EN,EAACC,EAAQC,KAC5B,MAAMC,EAAgBD,EAAKE,QAAQ,OAAQ,KAC3C3C,EAAS,aAAawC,KAAUE,IAAe,EA2E7BE,CAAanB,EAAQoB,WAAYpB,EAAQG,cAG3CV,SAAAE,EAAAA,IAAC,IAAE,CAAAG,UAAU,yBA/CVE,EAAQoB,sBAuD3B"}