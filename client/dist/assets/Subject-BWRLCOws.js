import{e as g,c as p,aH as u,j as e}from"./index-Bk0R0AbM.js";import{L as v}from"./Layout-DtCUdCMC.js";const j=t=>({__html:t}),k=()=>{var m,o;const{id:t,name:h}=g(),{user:l}=p(a=>a.auth),b=h.replace(/\s+/g,"-"),{data:s,isLoading:N,error:n}=u({subjectid:t,classid:(l==null?void 0:l.level)==="student"?l==null?void 0:l.class_id:void 0},{skip:!t});return e.jsx(v,{title:b,levels:["student","admin"],children:e.jsx("div",{className:"container py-4",children:N?e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("p",{className:"mt-2",children:"Memuat data mata pelajaran..."})]}):n?e.jsxs("div",{className:"alert alert-danger",children:["Terjadi kesalahan saat memuat data: ",n.message]}):s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"card mb-4 shadow",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex align-items-center",children:[s.cover?e.jsx("img",{src:`${window.location.origin}${s.cover}`,alt:s.name,className:"me-3 rounded",style:{width:"120px",height:"150px",objectFit:"cover"}}):e.jsx("div",{className:"me-3 bg-light rounded d-flex align-items-center justify-content-center",style:{width:"80px",height:"80px"},children:e.jsx("i",{className:"bi bi-book text-muted",style:{fontSize:"2rem"}})}),e.jsxs("div",{children:[e.jsx("h5",{className:"card-title mb-1",children:s.name}),e.jsxs("p",{className:"card-subtitle text-muted",children:[((m=s.chapters)==null?void 0:m.length)||0," Bab Pembelajaran"]})]})]})})}),e.jsx("div",{className:"accordion mb-4 shadow",id:"chaptersAccordion",children:(o=s.chapters)==null?void 0:o.map((a,r)=>{var x;return e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",id:`heading${a.id}`,children:e.jsx("button",{className:`accordion-button ${r===0?"":"collapsed"}`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${a.id}`,"aria-expanded":r===0?"true":"false","aria-controls":`collapse${a.id}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"bi bi-folder me-2 text-primary"}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:a.title}),e.jsx("small",{className:"text-muted m-0",dangerouslySetInnerHTML:j(a.target)}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsx("i",{className:"bi bi-person me-2 text-primary"}),e.jsx("small",{className:"text-muted me-2",children:"Pengajar:"}),e.jsx("span",{className:"fw-medium",children:a.teacher_name||"Tidak ada data"})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"bi bi-people me-2 text-primary"}),e.jsx("small",{className:"text-muted me-2",children:"Kelas:"}),e.jsx("div",{className:"d-flex flex-wrap gap-1",children:a.classes&&a.classes.length>0?a.classes.map((i,c)=>e.jsx("span",{className:"badge bg-primary me-1",children:i.name},c)):e.jsx("span",{className:"text-muted",children:"Tidak ada data"})})]})]})]})]})})}),e.jsx("div",{id:`collapse${a.id}`,className:`accordion-collapse collapse ${r===0?"show":""}`,"aria-labelledby":`heading${a.id}`,"data-bs-parent":"#chaptersAccordion",children:e.jsxs("div",{className:"accordion-body",children:[(x=a.contents)==null?void 0:x.map(i=>{var c;return e.jsxs("div",{className:"card mb-3",children:[e.jsx("div",{className:"card-header bg-light",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"bi bi-book me-2 text-primary"}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:i.title}),e.jsx("small",{className:"text-muted m-0",dangerouslySetInnerHTML:j(i.target)})]})]})}),e.jsx("div",{className:"card-body",children:((c=i.files)==null?void 0:c.length)>0?e.jsx("div",{className:"list-group",children:i.files.map(d=>e.jsxs("a",{href:`${window.location.origin}${d.file}`,target:"_blank",rel:"noopener noreferrer",className:"list-group-item list-group-item-action d-flex align-items-center",children:[d.video?e.jsx("i",{className:"bi bi-camera-video me-2 text-danger"}):e.jsx("i",{className:"bi bi-file-earmark-text me-2 text-primary"}),e.jsxs("div",{children:[e.jsx("div",{children:d.title||"File Materi"}),e.jsx("small",{className:"text-muted m-0",children:d.video?"Video Pembelajaran":"Dokumen Materi"})]})]},d.id))}):e.jsx("p",{className:"text-muted mb-0",children:"Tidak ada file materi"})})]},i.id)}),(!a.contents||a.contents.length===0)&&e.jsxs("div",{className:"alert alert-light",children:[e.jsx("i",{className:"bi bi-info-circle me-2"}),"Tidak ada konten pembelajaran"]})]})})]},a.id)})}),(!s.chapters||s.chapters.length===0)&&e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{className:"bi bi-info-circle me-2"}),"Belum ada bab pembelajaran untuk mata pelajaran ini."]})]}):e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Data mata pelajaran tidak ditemukan."]})})})};export{k as default};
