import{b as a,aV as e,j as s,m as i}from"./index-CYLXaHbS.js";import{u as l,b as t}from"./vendor-DfXzdC0j.js";import{L as r}from"./Layout-DLhPtI8r.js";import"./index-CGMX7dKw.js";import"./index-hpZ4eOv6.js";import"./index-DyuEXp_a.js";const n=()=>{const r=l(),{user:n}=a((a=>a.auth)),[d,c]=t.useState(""),[o,m]=t.useState("");t.useEffect((()=>{const a=setTimeout((()=>{m(d)}),500);return()=>clearTimeout(a)}),[d]);const{data:x,isLoading:p,isError:j,error:h}=e({classid:null==n?void 0:n.class_id,search:o},{skip:!(null==n?void 0:n.class_id)}),u=(a,e)=>{const s=a.replace(/\s+/g,"-");r(`/pelajaran/${s}/${e}`)};return s.jsxs("div",{className:"container-fluid py-4",children:[s.jsx("div",{className:"row justify-content-between align-items-center mb-4",children:s.jsxs("div",{className:"col-lg-6",children:[s.jsx("h4",{className:"mb-3 text-primary fw-bold",children:"Daftar Mata Pelajaran"}),s.jsxs("div",{className:"input-group input-group-lg shadow-sm",children:[s.jsx("span",{className:"input-group-text bg-white border-end-0",children:s.jsx("i",{className:"bi bi-search text-primary"})}),s.jsx("input",{type:"text",className:"form-control border-start-0 ps-0",placeholder:"Cari mata pelajaran...",value:d,onChange:a=>c(a.target.value)})]})]})}),p?s.jsxs("div",{className:"text-center py-5",children:[s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("p",{className:"mt-3 text-muted",children:"Memuat data mata pelajaran..."})]}):(null==x?void 0:x.length)>0?s.jsx(i.div,{className:"row g-4",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:x.map((a=>s.jsx(i.div,{className:"col-xl-3 col-lg-4 col-md-6",variants:a,children:s.jsxs("div",{className:"card h-100 shadow-sm border-0 hover-card rounded-3 overflow-hidden",onClick:()=>u(a.name,a.id),style:{cursor:"pointer",transition:"all 0.3s ease"},children:[s.jsxs("div",{className:"position-relative",children:[s.jsx("img",{src:a.cover?`${window.location.origin}${a.cover}`:"/logo.png",alt:a.name,className:"card-img-top",style:{height:"250px",objectFit:"cover"}}),s.jsx("div",{className:"position-absolute top-0 end-0 p-3",children:s.jsxs("span",{className:"badge bg-primary rounded-pill",children:[s.jsx("i",{className:"bi bi-book-fill me-1"}),"Mata Pelajaran"]})})]}),s.jsxs("div",{className:"card-body p-4",children:[s.jsx("h5",{className:"card-title mb-3 fw-bold text-primary",children:a.name}),s.jsxs("div",{className:"d-flex align-items-center text-muted mb-3",children:[s.jsx("i",{className:"bi bi-mortarboard-fill me-2"}),s.jsxs("span",{className:"small",children:["Mata Pelajaran Kelas ",null==n?void 0:n.class_id]})]}),s.jsxs("button",{className:"btn btn-primary w-100 rounded-pill py-2",onClick:e=>{e.stopPropagation(),u(a.name,a.id)},children:[s.jsx("i",{className:"bi bi-arrow-right-circle-fill me-2"}),"Masuk Pelajaran"]})]})]})},a.id)))}):s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"row justify-content-center",children:s.jsx("div",{className:"col-md-6 text-center",children:s.jsxs("div",{className:"py-5",children:[s.jsx("div",{className:"bg-light rounded-circle mx-auto mb-4 d-flex align-items-center justify-content-center",style:{width:"100px",height:"100px"},children:s.jsx("i",{className:"bi bi-journal-x display-4 text-primary"})}),s.jsx("h4",{className:"fw-bold mb-3",children:d?"Mata Pelajaran Tidak Ditemukan":"Data Belum Tersedia"}),s.jsx("p",{className:"text-muted mb-4",children:d?"Maaf, tidak ada mata pelajaran yang sesuai dengan pencarian Anda":"Belum ada mata pelajaran yang tersedia saat ini"}),j&&s.jsxs("div",{className:"alert alert-danger",role:"alert",children:[s.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),s.jsx("small",{children:null==h?void 0:h.message})]})]})})})]})},d=()=>s.jsx(r,{title:"Daftar Pelajaran",levels:["student"],children:s.jsx(n,{})});export{d as default};
//# sourceMappingURL=StudentSubject-CKQ_vXsW.js.map
