{"version":3,"file":"StudentReport-BWzW2DBg.js","sources":["../../src/page/tahfiz/report/StudentReport.jsx"],"sourcesContent":["import React from \"react\";\r\nimport Layout from \"../../../components/layout/Layout\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useGetStudentReportQuery } from \"../../../controller/api/tahfiz/ApiReport\";\r\n\r\nconst StudentReport = () => {\r\n  const { userid, name, grade, classname } = useParams();\r\n\r\n  const { data, isLoading } = useGetStudentReportQuery(userid, {\r\n    skip: !userid,\r\n  });\r\n\r\n  const handlePrint = () => {\r\n    window.print();\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Layout\r\n        title={`Laporan Hafalan ${name.replace(/-/g, \" \")}`}\r\n        levels={[\"tahfiz\", \"student\", \"parent\"]}>\r\n        <div className='d-flex justify-content-center'>\r\n          <div className='spinner-border text-primary' role='status'>\r\n            <span className='visually-hidden'>Loading...</span>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout title={`Laporan Hafalan`} levels={[\"tahfiz\", \"student\", \"parent\"]}>\r\n      {/* <div className='d-print-none container mb-2'>\r\n        <button className='btn btn-primary' onClick={handlePrint}>\r\n          <i className='bi bi-printer me-2'></i>\r\n          Cetak Laporan\r\n        </button>\r\n      </div> */}\r\n\r\n      <div className='print-section container'>\r\n        {/* <div className='text-center mb-4'>\r\n          <h4 className='mb-1'>Laporan Hafalan Al-Qur'an</h4>\r\n          <h5 className='mb-4'>{data?.homebase}</h5>\r\n          <hr className='mb-4' />\r\n        </div> */}\r\n\r\n        <div className='my-4'>\r\n          <h6 className='mb-3'>\r\n            <i className='bi bi-person-circle me-2'></i>\r\n            Informasi Siswa\r\n          </h6>\r\n          <div className='ps-4'>\r\n            <p className='mb-1'>Nama: {data?.student_name}</p>\r\n            <p className='mb-1'>NIS: {data?.student_nis}</p>\r\n            <p className='mb-1'>\r\n              Kelas: {data?.grade} - {data?.class}\r\n            </p>\r\n            <p className='mb-1'>Sekolah: {data?.homebase}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className='row g-4'>\r\n          {data?.memorization.map((juz, index) => (\r\n            <div className='col-6' key={index}>\r\n              <div className='card border-primary h-100'>\r\n                <div className='card-header bg-primary text-white py-2'>\r\n                  <h6 className='mb-0'>{juz.juz}</h6>\r\n                </div>\r\n                <div className='card-body'>\r\n                  <div className='mb-3'>\r\n                    <div className='progress' style={{ height: \"20px\" }}>\r\n                      <div\r\n                        className='progress-bar bg-success'\r\n                        style={{ width: `${juz.progress}%` }}>\r\n                        {juz.progress}%\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='row mb-3'>\r\n                    <div className='col-6'>\r\n                      <div className='d-flex align-items-center'>\r\n                        <i className='bi bi-layout-text-window me-2'></i>\r\n                        <div>\r\n                          <div>Baris</div>\r\n                          <strong>{juz.lines}</strong>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className='col-6'>\r\n                      <div className='d-flex align-items-center'>\r\n                        <i className='bi bi-bookmark me-2'></i>\r\n                        <div>\r\n                          <div>Ayat</div>\r\n                          <strong>{juz.verses}</strong>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <h6 className='mb-2'>Detail Surah:</h6>\r\n                    <div className='d-flex flex-wrap gap-2'>\r\n                      {juz.surah.map((surah, idx) => (\r\n                        <p key={idx} className='m-0'>\r\n                          {surah.surah_name}\r\n                          <span className='badge bg-info ms-2'>\r\n                            {surah.verse} ayat | {surah.line} baris\r\n                          </span>\r\n                        </p>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nconst printStyles = `\r\n  @media print {\r\n    body * {\r\n      visibility: hidden;\r\n    }\r\n    .print-section,\r\n    .print-section * {\r\n      visibility: visible;\r\n    }\r\n    .print-section {\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      width: 100%;\r\n      padding: 20px;\r\n    }\r\n    \r\n    .card {\r\n      border: 1px solid #0d6efd !important;\r\n      break-inside: avoid;\r\n    }\r\n    .progress {\r\n      border: 1px solid #dee2e6;\r\n    }\r\n    .progress-bar {\r\n      print-color-adjust: exact;\r\n      -webkit-print-color-adjust: exact;\r\n    }\r\n    .bg-primary, .bg-info, .bg-success {\r\n      print-color-adjust: exact;\r\n      -webkit-print-color-adjust: exact;\r\n    }\r\n    .badge {\r\n      border: 1px solid #0dcaf0;\r\n    }\r\n    hr {\r\n      border-top: 1px solid #000;\r\n    }\r\n    .row {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n    }\r\n    .col-6 {\r\n      width: 50%;\r\n      padding: 0 15px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst style = document.createElement(\"style\");\r\nstyle.innerHTML = printStyles;\r\ndocument.head.appendChild(style);\r\n\r\nexport default StudentReport;\r\n"],"names":["StudentReport","userid","name","grade","classname","useParams","data","isLoading","useGetStudentReportQuery","skip","jsxRuntimeExports","jsx","Layout","title","replace","levels","children","className","role","jsxs","student_name","student_nis","class","homebase","memorization","map","juz","index","style","height","width","progress","lines","verses","surah","idx","surah_name","verse","line","document","createElement","innerHTML","head","appendChild"],"mappings":"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"}