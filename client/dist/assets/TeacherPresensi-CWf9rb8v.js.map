{"version":3,"file":"TeacherPresensi-CWf9rb8v.js","sources":["../../src/page/teacher/presensi/TableData.jsx","../../src/page/teacher/presensi/AttendanceSummary.jsx","../../src/page/teacher/presensi/AttendanceHistory.jsx","../../src/page/teacher/presensi/TeacherPresensi.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Table from \"../../../components/table/Table\";\r\nimport { useGetStudentsInClassQuery } from \"../../../controller/api/admin/ApiClass\";\r\nimport {\r\n  useGetPresensiQuery,\r\n  useAddPresensiMutation,\r\n  useGetAttendanceDatesQuery,\r\n  useBulkPresensiMutation,\r\n  useDeletePresensiMutation,\r\n  useBulkDeletePresensiMutation,\r\n} from \"../../../controller/api/lms/ApiPresensi\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nconst TableData = ({ classid, subjectid }) => {\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [selectedDate, setSelectedDate] = useState(\r\n    new Date().toISOString().split(\"T\")[0]\r\n  );\r\n  const [selectedStudents, setSelectedStudents] = useState([]);\r\n\r\n  const { data, isLoading } = useGetStudentsInClassQuery(\r\n    {\r\n      page,\r\n      limit,\r\n      search,\r\n      classid,\r\n    },\r\n    { skip: !classid }\r\n  );\r\n\r\n  const { data: presensiData } = useGetPresensiQuery(\r\n    { classid, subjectid, date: selectedDate },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const { data: attendanceDates } = useGetAttendanceDatesQuery(\r\n    { classid, subjectid },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const [addPresensi] = useAddPresensiMutation();\r\n  const [bulkPresensi] = useBulkPresensiMutation();\r\n  const [deletePresensi] = useDeletePresensiMutation();\r\n  const [bulkDeletePresensi] = useBulkDeletePresensiMutation();\r\n\r\n  const { students, totalData, totalPages } = data || {};\r\n\r\n  // Reset selected students when date changes\r\n  useEffect(() => {\r\n    setSelectedStudents([]);\r\n  }, [selectedDate]);\r\n\r\n  const handleCheck = async ({ studentid, note, checked }) => {\r\n    if (!checked) {\r\n      // If unchecking, we don't send the request (attendance remains as is)\r\n      return;\r\n    }\r\n\r\n    const data = { classid, subjectid, studentid, note, date: selectedDate };\r\n\r\n    toast.promise(\r\n      addPresensi(data)\r\n        .unwrap()\r\n        .then((res) => res.message),\r\n      {\r\n        loading: \"Memproses...\",\r\n        success: (message) => message,\r\n        error: (error) => error.data?.message || \"Terjadi kesalahan\",\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleBulkOperation = async (note) => {\r\n    if (selectedStudents.length === 0) {\r\n      toast.error(\"Pilih siswa terlebih dahulu\");\r\n      return;\r\n    }\r\n\r\n    const data = {\r\n      classid,\r\n      subjectid,\r\n      studentids: selectedStudents,\r\n      note,\r\n      date: selectedDate,\r\n    };\r\n\r\n    toast.promise(\r\n      bulkPresensi(data)\r\n        .unwrap()\r\n        .then((res) => {\r\n          setSelectedStudents([]);\r\n          return res.message;\r\n        }),\r\n      {\r\n        loading: \"Memproses bulk operation...\",\r\n        success: (message) => message,\r\n        error: (error) => error.data?.message || \"Terjadi kesalahan\",\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleBulkDelete = async () => {\r\n    if (selectedStudents.length === 0) {\r\n      toast.error(\"Pilih siswa terlebih dahulu\");\r\n      return;\r\n    }\r\n\r\n    // Show confirmation dialog\r\n    if (\r\n      !window.confirm(\r\n        `Apakah Anda yakin ingin menghapus presensi untuk ${selectedStudents.length} siswa yang dipilih?`\r\n      )\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    const data = {\r\n      classid,\r\n      subjectid,\r\n      studentids: selectedStudents,\r\n      date: selectedDate,\r\n    };\r\n\r\n    toast.promise(\r\n      bulkDeletePresensi(data)\r\n        .unwrap()\r\n        .then((res) => {\r\n          setSelectedStudents([]);\r\n          return res.message;\r\n        }),\r\n      {\r\n        loading: \"Menghapus presensi...\",\r\n        success: (message) => message,\r\n        error: (error) => error.data?.message || \"Terjadi kesalahan\",\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleDeleteStudent = async (studentid) => {\r\n    const data = {\r\n      classid,\r\n      subjectid,\r\n      studentid,\r\n      date: selectedDate,\r\n    };\r\n\r\n    toast.promise(\r\n      deletePresensi(data)\r\n        .unwrap()\r\n        .then((res) => res.message),\r\n      {\r\n        loading: \"Menghapus presensi...\",\r\n        success: (message) => message,\r\n        error: (error) => error.data?.message || \"Terjadi kesalahan\",\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleSelectAll = (checked) => {\r\n    if (checked) {\r\n      setSelectedStudents(students.map((student) => student.student));\r\n    } else {\r\n      setSelectedStudents([]);\r\n    }\r\n  };\r\n\r\n  const handleSelectStudent = (studentid, checked) => {\r\n    if (checked) {\r\n      setSelectedStudents([...selectedStudents, studentid]);\r\n    } else {\r\n      setSelectedStudents(selectedStudents.filter((id) => id !== studentid));\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(\"id-ID\", {\r\n      weekday: \"long\",\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid px-0\">\r\n      {!classid || !subjectid ? (\r\n        <div className=\"text-center py-5 empty-state\">\r\n          <div className=\"mb-4\">\r\n            <i className=\"bi bi-clipboard2-check display-1 text-muted opacity-75\"></i>\r\n          </div>\r\n          <h4 className=\"fw-bold text-muted mb-3\">Pilih Data Presensi</h4>\r\n          <p className=\"text-muted mb-0 fs-6\">\r\n            Silakan pilih mata pelajaran dan kelas terlebih dahulu\r\n          </p>\r\n        </div>\r\n      ) : !students ? (\r\n        <div className=\"text-center py-5 empty-state\">\r\n          <div className=\"mb-4\">\r\n            <i className=\"bi bi-people display-1 text-muted opacity-75\"></i>\r\n          </div>\r\n          <h4 className=\"fw-bold text-muted mb-3\">Data Siswa Tidak Tersedia</h4>\r\n          <p className=\"text-muted mb-0 fs-6\">\r\n            Tidak ada data siswa yang ditemukan untuk kelas ini\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Enhanced Date Selection Card */}\r\n          <div className=\"card mb-4\">\r\n            <div className=\"card-body\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-md-6\">\r\n                  <label className=\"form-label fw-bold\">\r\n                    <i className=\"bi bi-calendar-date me-2\"></i>\r\n                    Tanggal Presensi: <span>{formatDate(selectedDate)}</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"form-control\"\r\n                    value={selectedDate}\r\n                    onChange={(e) => setSelectedDate(e.target.value)}\r\n                    max={new Date().toISOString().split(\"T\")[0]}\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"d-flex gap-2 flex-wrap\">\r\n                    <button\r\n                      className=\"btn btn-success btn-sm\"\r\n                      onClick={() => handleBulkOperation(\"Hadir\")}\r\n                      disabled={selectedStudents.length === 0}\r\n                    >\r\n                      <i className=\"bi bi-check-circle me-1\"></i>\r\n                      Hadir ({selectedStudents.length})\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-warning btn-sm\"\r\n                      onClick={() => handleBulkOperation(\"Telat\")}\r\n                      disabled={selectedStudents.length === 0}\r\n                    >\r\n                      <i className=\"bi bi-clock-history me-1\"></i>\r\n                      Telat ({selectedStudents.length})\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-primary btn-sm\"\r\n                      onClick={() => handleBulkOperation(\"Sakit\")}\r\n                      disabled={selectedStudents.length === 0}\r\n                    >\r\n                      <i className=\"bi bi-heart-pulse me-1\"></i>\r\n                      Sakit ({selectedStudents.length})\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-info btn-sm\"\r\n                      onClick={() => handleBulkOperation(\"Izin\")}\r\n                      disabled={selectedStudents.length === 0}\r\n                    >\r\n                      <i className=\"bi bi-envelope-paper me-1\"></i>\r\n                      Izin ({selectedStudents.length})\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-danger btn-sm\"\r\n                      onClick={() => handleBulkOperation(\"Alpa\")}\r\n                      disabled={selectedStudents.length === 0}\r\n                    >\r\n                      <i className=\"bi bi-x-circle me-1\"></i>\r\n                      Alpa ({selectedStudents.length})\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-dark btn-sm\"\r\n                      onClick={handleBulkDelete}\r\n                      disabled={selectedStudents.length === 0}\r\n                    >\r\n                      <i className=\"bi bi-trash me-1\"></i>\r\n                      Hapus ({selectedStudents.length})\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <Table\r\n            isLoading={isLoading}\r\n            page={page}\r\n            setPage={setPage}\r\n            limit={limit}\r\n            setLimit={setLimit}\r\n            setSearch={setSearch}\r\n            totalData={totalData}\r\n            totalPages={totalPages}\r\n          >\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-hover align-middle mb-0\">\r\n                <thead className=\"bg-primary bg-gradient text-white\">\r\n                  <tr>\r\n                    <th\r\n                      className=\"align-middle text-center fw-semibold border-0\"\r\n                      style={{ width: \"5%\" }}\r\n                    >\r\n                      <div className=\"d-flex flex-column align-items-center\">\r\n                        <span>No</span>\r\n                      </div>\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle fw-semibold border-0\"\r\n                      style={{ width: \"20%\" }}\r\n                    >\r\n                      <div className=\"d-flex align-items-center\">\r\n                        <span>Siswa</span>\r\n                      </div>\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center fw-semibold border-0\"\r\n                      style={{ width: \"8%\" }}\r\n                    >\r\n                      <div className=\"d-flex flex-column align-items-center gap-2\">\r\n                        <i className=\"bi bi-check-circle-fill text-success\"></i>\r\n                        <span>Hadir</span>\r\n                      </div>\r\n                    </th>\r\n\r\n                    <th\r\n                      className=\"align-middle text-center fw-semibold border-0\"\r\n                      style={{ width: \"8%\" }}\r\n                    >\r\n                      <div className=\"d-flex flex-column align-items-center gap-2\">\r\n                        <i className=\"bi bi-clock-history text-warning\"></i>\r\n                        <span>Telat</span>\r\n                      </div>\r\n                    </th>\r\n\r\n                    <th\r\n                      className=\"align-middle text-center fw-semibold border-0\"\r\n                      style={{ width: \"8%\" }}\r\n                    >\r\n                      <div className=\"d-flex flex-column align-items-center gap-2\">\r\n                        <i className=\"bi bi-heart-pulse-fill text-primary\"></i>\r\n                        <span>Sakit</span>\r\n                      </div>\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center fw-semibold border-0\"\r\n                      style={{ width: \"8%\" }}\r\n                    >\r\n                      <div className=\"d-flex flex-column align-items-center gap-2\">\r\n                        <i className=\"bi bi-envelope-paper-fill text-info\"></i>\r\n                        <span>Izin</span>\r\n                      </div>\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center fw-semibold border-0\"\r\n                      style={{ width: \"8%\" }}\r\n                    >\r\n                      <div className=\"d-flex flex-column align-items-center gap-2\">\r\n                        <i className=\"bi bi-x-circle-fill text-danger\"></i>\r\n                        <span>Alpa</span>\r\n                      </div>\r\n                    </th>\r\n\r\n                    <th\r\n                      className=\"align-middle text-center fw-semibold border-0\"\r\n                      style={{ width: \"8%\" }}\r\n                    >\r\n                      <div className=\"d-flex flex-column align-items-center gap-2\">\r\n                        <i className=\"bi bi-trash text-danger\"></i>\r\n                        <span>Hapus</span>\r\n                      </div>\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center fw-semibold border-0\"\r\n                      style={{ width: \"7%\" }}\r\n                    >\r\n                      <div className=\"d-flex flex-column align-items-center gap-2\">\r\n                        <span>Pilih</span>\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={\r\n                            selectedStudents.length === students.length &&\r\n                            students.length > 0\r\n                          }\r\n                          onChange={(e) => handleSelectAll(e.target.checked)}\r\n                        />\r\n                      </div>\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"border-top-0\">\r\n                  {students.map((student, index) => {\r\n                    const studentAttendance = presensiData?.find(\r\n                      (item) => item.studentid === student.student\r\n                    );\r\n                    const isSelected = selectedStudents.includes(\r\n                      student.student\r\n                    );\r\n\r\n                    return (\r\n                      <tr\r\n                        key={student.id}\r\n                        className={`attendance-change border-bottom ${\r\n                          isSelected ? \"table-warning\" : \"\"\r\n                        }`}\r\n                      >\r\n                        <td className=\"text-center align-middle\">\r\n                          <span className=\"fw-bold text-primary\">\r\n                            {(page - 1) * limit + index + 1}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"align-middle\">\r\n                          <div className=\"flex-grow-1\">\r\n                            <h6 className=\"mb-1 fw-semibold text-dark\">\r\n                              {student.student_name}\r\n                            </h6>\r\n                            <div className=\"d-flex flex-wrap gap-3 text-muted small\">\r\n                              <span className=\"d-flex align-items-center\">\r\n                                <i className=\"bi bi-card-text me-1\"></i>\r\n                                {student.nis}\r\n                              </span>\r\n                              <span className=\"d-flex align-items-center\">\r\n                                <i className=\"bi bi-mortarboard me-1\"></i>\r\n                                {student.grade_name}\r\n                              </span>\r\n                              <span className=\"d-flex align-items-center\">\r\n                                <i className=\"bi bi-building me-1\"></i>\r\n                                {student.class_name}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"text-center align-middle\">\r\n                          <input\r\n                            className=\"form-check-input border-success shadow-sm\"\r\n                            type=\"radio\"\r\n                            name={`attendance-${student.student}`}\r\n                            style={{ width: \"1.5em\", height: \"1.5em\" }}\r\n                            checked={studentAttendance?.note === \"Hadir\"}\r\n                            onChange={(e) => {\r\n                              handleCheck({\r\n                                studentid: student.student,\r\n                                note: \"Hadir\",\r\n                                checked: e.target.checked,\r\n                              });\r\n                            }}\r\n                          />\r\n                        </td>\r\n\r\n                        <td className=\"text-center align-middle\">\r\n                          <input\r\n                            className=\"form-check-input border-warning shadow-sm\"\r\n                            type=\"radio\"\r\n                            name={`attendance-${student.student}`}\r\n                            style={{ width: \"1.5em\", height: \"1.5em\" }}\r\n                            checked={studentAttendance?.note === \"Telat\"}\r\n                            onChange={(e) => {\r\n                              handleCheck({\r\n                                studentid: student.student,\r\n                                note: \"Telat\",\r\n                                checked: e.target.checked,\r\n                              });\r\n                            }}\r\n                          />\r\n                        </td>\r\n\r\n                        <td className=\"text-center align-middle\">\r\n                          <input\r\n                            className=\"form-check-input border-primary shadow-sm\"\r\n                            type=\"radio\"\r\n                            name={`attendance-${student.student}`}\r\n                            style={{ width: \"1.5em\", height: \"1.5em\" }}\r\n                            checked={studentAttendance?.note === \"Sakit\"}\r\n                            onChange={(e) => {\r\n                              handleCheck({\r\n                                studentid: student.student,\r\n                                note: \"Sakit\",\r\n                                checked: e.target.checked,\r\n                              });\r\n                            }}\r\n                          />\r\n                        </td>\r\n                        <td className=\"text-center align-middle\">\r\n                          <input\r\n                            className=\"form-check-input border-info shadow-sm\"\r\n                            type=\"radio\"\r\n                            name={`attendance-${student.student}`}\r\n                            style={{ width: \"1.5em\", height: \"1.5em\" }}\r\n                            checked={studentAttendance?.note === \"Izin\"}\r\n                            onChange={(e) => {\r\n                              handleCheck({\r\n                                studentid: student.student,\r\n                                note: \"Izin\",\r\n                                checked: e.target.checked,\r\n                              });\r\n                            }}\r\n                          />\r\n                        </td>\r\n\r\n                        <td className=\"text-center align-middle\">\r\n                          <input\r\n                            className=\"form-check-input border-danger shadow-sm\"\r\n                            type=\"radio\"\r\n                            name={`attendance-${student.student}`}\r\n                            style={{ width: \"1.5em\", height: \"1.5em\" }}\r\n                            checked={studentAttendance?.note === \"Alpa\"}\r\n                            onChange={(e) => {\r\n                              handleCheck({\r\n                                studentid: student.student,\r\n                                note: \"Alpa\",\r\n                                checked: e.target.checked,\r\n                              });\r\n                            }}\r\n                          />\r\n                        </td>\r\n\r\n                        <td className=\"text-center align-middle\">\r\n                          <button\r\n                            className=\"btn btn-sm btn-danger\"\r\n                            onClick={() => handleDeleteStudent(student.student)}\r\n                            title=\"Hapus presensi siswa ini\"\r\n                          >\r\n                            <i className=\"bi bi-trash\"></i>\r\n                          </button>\r\n                        </td>\r\n\r\n                        <td className=\"text-center align-middle\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            className=\"form-check-input\"\r\n                            checked={isSelected}\r\n                            onChange={(e) =>\r\n                              handleSelectStudent(\r\n                                student.student,\r\n                                e.target.checked\r\n                              )\r\n                            }\r\n                            style={{ width: \"1.2em\", height: \"1.2em\" }}\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </Table>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableData;\r\n","import React, { useState } from \"react\";\r\nimport { useGetPresensiSummaryQuery } from \"../../../controller/api/lms/ApiPresensi\";\r\nimport LoadingScreen from \"../../../components/loader/LoadingScreen\";\r\n\r\nconst AttendanceSummary = ({ classid, subjectid }) => {\r\n  const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth() + 1);\r\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\r\n\r\n  const { data: summaryData, isLoading } = useGetPresensiSummaryQuery(\r\n    {\r\n      classid,\r\n      subjectid,\r\n      month: selectedMonth,\r\n      year: selectedYear,\r\n    },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const months = [\r\n    \"Januari\",\r\n    \"Februari\",\r\n    \"Maret\",\r\n    \"April\",\r\n    \"Mei\",\r\n    \"Juni\",\r\n    \"Juli\",\r\n    \"Agustus\",\r\n    \"September\",\r\n    \"Oktober\",\r\n    \"November\",\r\n    \"Desember\",\r\n  ];\r\n\r\n  if (!classid || !subjectid) {\r\n    return (\r\n      <div className=\"text-center py-5 empty-state\">\r\n        <div className=\"mb-3\">\r\n          <i className=\"bi bi-calendar-check display-1 text-muted\"></i>\r\n        </div>\r\n        <h5 className=\"fw-bold text-muted mb-2\">Pilih Data Presensi</h5>\r\n        <p className=\"text-muted mb-0\">\r\n          Silakan pilih mata pelajaran dan kelas terlebih dahulu\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isLoading) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header bg-primary text-white\">\r\n        <h5 className=\"card-title mb-0\">\r\n          <i className=\"bi bi-calendar-month me-2\"></i>\r\n          Rangkuman Presensi Bulanan\r\n        </h5>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row mb-3\">\r\n          <div className=\"col-md-6\">\r\n            <label className=\"form-label fw-bold\">Bulan:</label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={selectedMonth}\r\n              onChange={(e) => setSelectedMonth(parseInt(e.target.value))}\r\n            >\r\n              {months.map((month, index) => (\r\n                <option key={index + 1} value={index + 1}>\r\n                  {month}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <label className=\"form-label fw-bold\">Tahun:</label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={selectedYear}\r\n              onChange={(e) => setSelectedYear(parseInt(e.target.value))}\r\n            >\r\n              {Array.from(\r\n                { length: 5 },\r\n                (_, i) => new Date().getFullYear() - 2 + i\r\n              ).map((year) => (\r\n                <option key={year} value={year}>\r\n                  {year}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {summaryData && summaryData.length > 0 ? (\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-hover table-striped\">\r\n              <thead className=\"table-dark\">\r\n                <tr>\r\n                  <th className=\"text-center\" style={{ width: \"4%\" }}>\r\n                    No\r\n                  </th>\r\n                  <th style={{ width: \"8%\" }}>NIS</th>\r\n                  <th style={{ width: \"25%\" }}>Nama Siswa</th>\r\n                  <th className=\"text-center\" style={{ width: \"10%\" }}>\r\n                    <i className=\"bi bi-check-circle text-success me-1\"></i>\r\n                    Hadir\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"10%\" }}>\r\n                    <i className=\"bi bi-clock-history text-warning me-1\"></i>\r\n                    Telat\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"10%\" }}>\r\n                    <i className=\"bi bi-heart-pulse text-primary me-1\"></i>\r\n                    Sakit\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"10%\" }}>\r\n                    <i className=\"bi bi-envelope-paper text-info me-1\"></i>\r\n                    Izin\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"10%\" }}>\r\n                    <i className=\"bi bi-x-circle text-danger me-1\"></i>\r\n                    Alpa\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"13%\" }}>\r\n                    <i className=\"bi bi-percent text-warning me-1\"></i>\r\n                    Kehadiran\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {summaryData.map((student, index) => {\r\n                  const totalDays =\r\n                    student.hadir +\r\n                    student.telat +\r\n                    student.sakit +\r\n                    student.izin +\r\n                    student.alpa;\r\n                  // Calculate attendance rate including late as partial attendance\r\n                  const attendanceRate =\r\n                    totalDays > 0\r\n                      ? (\r\n                          ((student.hadir + student.telat * 0.5) / totalDays) *\r\n                          100\r\n                        ).toFixed(1)\r\n                      : 0;\r\n\r\n                  return (\r\n                    <tr key={student.studentid} className=\"attendance-change\">\r\n                      <td className=\"text-center align-middle\">{index + 1}</td>\r\n                      <td className=\"align-middle\">{student.nis}</td>\r\n                      <td className=\"align-middle fw-bold\">\r\n                        {student.student_name}\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span className=\"badge bg-success fs-6\">\r\n                          {student.hadir}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span className=\"badge bg-warning fs-6\">\r\n                          {student.telat}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span className=\"badge bg-primary fs-6\">\r\n                          {student.sakit}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span className=\"badge bg-info fs-6\">\r\n                          {student.izin}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span className=\"badge bg-danger fs-6\">\r\n                          {student.alpa}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span\r\n                          className={`badge fs-6 ${\r\n                            attendanceRate >= 90\r\n                              ? \"bg-success\"\r\n                              : attendanceRate >= 80\r\n                              ? \"bg-warning\"\r\n                              : \"bg-danger\"\r\n                          }`}\r\n                        >\r\n                          {attendanceRate}%\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-5 empty-state\">\r\n            <div className=\"mb-3\">\r\n              <i className=\"bi bi-calendar-x display-1 text-muted\"></i>\r\n            </div>\r\n            <h5 className=\"fw-bold text-muted mb-2\">Data Tidak Tersedia</h5>\r\n            <p className=\"text-muted mb-0\">\r\n              Tidak ada data presensi untuk periode yang dipilih\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceSummary;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  useGetPresensiQuery,\r\n  useGetAttendanceDatesQuery,\r\n} from \"../../../controller/api/lms/ApiPresensi\";\r\nimport LoadingScreen from \"../../../components/loader/LoadingScreen\";\r\n\r\nconst AttendanceHistory = ({ classid, subjectid }) => {\r\n  const [selectedDate, setSelectedDate] = useState(\"\");\r\n  const [dateRange, setDateRange] = useState(\"all\");\r\n\r\n  const { data: attendanceDates } = useGetAttendanceDatesQuery(\r\n    { classid, subjectid },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const { data: presensiData, isLoading } = useGetPresensiQuery(\r\n    {\r\n      classid,\r\n      subjectid,\r\n      ...(selectedDate && { date: selectedDate }),\r\n    },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(\"id-ID\", {\r\n      weekday: \"long\",\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const getAttendanceIcon = (note) => {\r\n    switch (note) {\r\n      case \"Hadir\":\r\n        return <i className=\"bi bi-check-circle text-success\"></i>;\r\n      case \"Sakit\":\r\n        return <i className=\"bi bi-heart-pulse text-primary\"></i>;\r\n      case \"Izin\":\r\n        return <i className=\"bi bi-envelope-paper text-info\"></i>;\r\n      case \"Alpa\":\r\n        return <i className=\"bi bi-x-circle text-danger\"></i>;\r\n      default:\r\n        return <i className=\"bi bi-question-circle text-muted\"></i>;\r\n    }\r\n  };\r\n\r\n  const getAttendanceBadge = (note) => {\r\n    switch (note) {\r\n      case \"Hadir\":\r\n        return <span className=\"badge bg-success\">{note}</span>;\r\n      case \"Sakit\":\r\n        return <span className=\"badge bg-primary\">{note}</span>;\r\n      case \"Izin\":\r\n        return <span className=\"badge bg-info\">{note}</span>;\r\n      case \"Alpa\":\r\n        return <span className=\"badge bg-danger\">{note}</span>;\r\n      default:\r\n        return (\r\n          <span className=\"badge bg-secondary\">{note || \"Belum Diisi\"}</span>\r\n        );\r\n    }\r\n  };\r\n\r\n  if (!classid || !subjectid) {\r\n    return (\r\n      <div className=\"text-center py-5 empty-state\">\r\n        <div className=\"mb-3\">\r\n          <i className=\"bi bi-clock-history display-1 text-muted\"></i>\r\n        </div>\r\n        <h5 className=\"fw-bold text-muted mb-2\">Pilih Data Presensi</h5>\r\n        <p className=\"text-muted mb-0\">\r\n          Silakan pilih mata pelajaran dan kelas terlebih dahulu\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isLoading) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header bg-info text-white\">\r\n        <h5 className=\"card-title mb-0\">\r\n          <i className=\"bi bi-clock-history me-2\"></i>\r\n          Riwayat Presensi\r\n        </h5>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        {/* Filter Controls */}\r\n        <div className=\"row mb-4\">\r\n          <div className=\"col-md-6\">\r\n            <label className=\"form-label fw-bold\">\r\n              <i className=\"bi bi-calendar-range me-2\"></i>\r\n              Filter Tanggal:\r\n            </label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={dateRange}\r\n              onChange={(e) => {\r\n                setDateRange(e.target.value);\r\n                if (e.target.value === \"all\") {\r\n                  setSelectedDate(\"\");\r\n                } else if (e.target.value === \"today\") {\r\n                  setSelectedDate(new Date().toISOString().split(\"T\")[0]);\r\n                }\r\n              }}\r\n            >\r\n              <option value=\"all\">Semua Tanggal</option>\r\n              <option value=\"today\">Hari Ini</option>\r\n              <option value=\"specific\">Tanggal Tertentu</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <label className=\"form-label fw-bold\">\r\n              <i className=\"bi bi-calendar-date me-2\"></i>\r\n              Pilih Tanggal:\r\n            </label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={selectedDate}\r\n              onChange={(e) => setSelectedDate(e.target.value)}\r\n              disabled={dateRange !== \"specific\"}\r\n            >\r\n              <option value=\"\">Pilih tanggal</option>\r\n              {attendanceDates?.map((dateObj) => (\r\n                <option key={dateObj.date} value={dateObj.date}>\r\n                  {formatDate(dateObj.date)}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Attendance Data */}\r\n        {presensiData && presensiData.length > 0 ? (\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-hover table-striped\">\r\n              <thead className=\"table-dark\">\r\n                <tr>\r\n                  <th className=\"text-center\" style={{ width: \"5%\" }}>\r\n                    No\r\n                  </th>\r\n                  <th style={{ width: \"15%\" }}>Tanggal</th>\r\n                  <th style={{ width: \"10%\" }}>NIS</th>\r\n                  <th style={{ width: \"25%\" }}>Nama Siswa</th>\r\n                  <th className=\"text-center\" style={{ width: \"15%\" }}>\r\n                    Status\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"10%\" }}>\r\n                    Aksi\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {presensiData.map((attendance, index) => (\r\n                  <tr key={attendance.id} className=\"attendance-change\">\r\n                    <td className=\"text-center align-middle\">{index + 1}</td>\r\n                    <td className=\"align-middle\">\r\n                      <div className=\"fw-bold\">\r\n                        {formatDate(attendance.date)}\r\n                      </div>\r\n                      <small className=\"text-muted\">\r\n                        {new Date(attendance.date).toLocaleDateString(\"id-ID\")}\r\n                      </small>\r\n                    </td>\r\n                    <td className=\"align-middle\">{attendance.nis}</td>\r\n                    <td className=\"align-middle fw-bold\">\r\n                      {attendance.student_name}\r\n                    </td>\r\n                    <td className=\"text-center align-middle\">\r\n                      {getAttendanceBadge(attendance.note)}\r\n                    </td>\r\n                    <td className=\"text-center align-middle\">\r\n                      <button\r\n                        className=\"btn btn-sm btn-outline-primary\"\r\n                        title=\"Lihat Detail\"\r\n                        disabled\r\n                      >\r\n                        <i className=\"bi bi-eye\"></i>\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-5 empty-state\">\r\n            <div className=\"mb-3\">\r\n              <i className=\"bi bi-calendar-x display-1 text-muted\"></i>\r\n            </div>\r\n            <h5 className=\"fw-bold text-muted mb-2\">Data Tidak Tersedia</h5>\r\n            <p className=\"text-muted mb-0\">\r\n              {selectedDate\r\n                ? `Tidak ada data presensi untuk tanggal ${formatDate(\r\n                    selectedDate\r\n                  )}`\r\n                : \"Tidak ada data presensi yang tersedia\"}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceHistory;\r\n","import React, { useState } from \"react\";\r\nimport Layout from \"../../../components/layout/Layout\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Select from \"react-select\";\r\nimport { useGetClassQuery } from \"../../../controller/api/admin/ApiClass\";\r\nimport TableData from \"./TableData\";\r\nimport AttendanceSummary from \"./AttendanceSummary\";\r\nimport AttendanceHistory from \"./AttendanceHistory\";\r\nimport \"./Presensi.css\";\r\n\r\nconst TeacherPresensi = () => {\r\n  const { user } = useSelector((state) => state.auth);\r\n  const { data: classes } = useGetClassQuery({\r\n    page: \"\",\r\n    limit: \"\",\r\n    search: \"\",\r\n  });\r\n\r\n  const [classid, setClassid] = useState(\"\");\r\n  const [subjectid, setSubjectid] = useState(\"\");\r\n  const [activeTab, setActiveTab] = useState(\"daily\");\r\n\r\n  const options = user?.subjects?.map((subject) => ({\r\n    value: subject.id,\r\n    label: subject.name,\r\n  }));\r\n\r\n  const optionsClass = classes?.map((kelas) => ({\r\n    value: kelas.id,\r\n    label: kelas.name,\r\n  }));\r\n\r\n  return (\r\n    <Layout title={\"Presensi Siswa\"} levels={[\"teacher\"]}>\r\n      {/* Filter Section */}\r\n      <div className=\"card mb-4\">\r\n        <div className=\"card-header bg-primary text-white\">\r\n          <h5 className=\"card-title mb-0\">\r\n            <i className=\"bi bi-funnel me-2\"></i>\r\n            Filter Data Presensi\r\n          </h5>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"row g-3\">\r\n            <div className=\"col-12 col-lg-6\">\r\n              <label className=\"form-label fw-bold\">\r\n                <i className=\"bi bi-book me-2\"></i>\r\n                Mata Pelajaran:\r\n              </label>\r\n              <Select\r\n                options={options}\r\n                isSearchable={true}\r\n                placeholder=\"Pilih Mata Pelajaran\"\r\n                onChange={(e) => setSubjectid(e.value)}\r\n                className=\"react-select-container\"\r\n                classNamePrefix=\"react-select\"\r\n                menuPortalTarget={document.body}\r\n                menuPosition=\"fixed\"\r\n                styles={{\r\n                  menuPortal: (base) => ({ ...base, zIndex: 1 }),\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-lg-6\">\r\n              <label className=\"form-label fw-bold\">\r\n                <i className=\"bi bi-people me-2\"></i>\r\n                Kelas:\r\n              </label>\r\n              <Select\r\n                options={optionsClass}\r\n                isSearchable={true}\r\n                placeholder=\"Pilih Kelas\"\r\n                onChange={(e) => setClassid(e.value)}\r\n                className=\"react-select-container\"\r\n                classNamePrefix=\"react-select\"\r\n                menuPortalTarget={document.body}\r\n                menuPosition=\"fixed\"\r\n                styles={{\r\n                  menuPortal: (base) => ({ ...base, zIndex: 1 }),\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      {classid && subjectid && (\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header\">\r\n            <ul className=\"nav nav-tabs card-header-tabs\" role=\"tablist\">\r\n              <li className=\"nav-item\" role=\"presentation\">\r\n                <button\r\n                  className={`nav-link ${\r\n                    activeTab === \"daily\" ? \"active\" : \"\"\r\n                  }`}\r\n                  type=\"button\"\r\n                  role=\"tab\"\r\n                  onClick={() => setActiveTab(\"daily\")}\r\n                >\r\n                  <i className=\"bi bi-calendar-day me-2\"></i>\r\n                  Presensi Harian\r\n                </button>\r\n              </li>\r\n              <li className=\"nav-item\" role=\"presentation\">\r\n                <button\r\n                  className={`nav-link ${\r\n                    activeTab === \"history\" ? \"active\" : \"\"\r\n                  }`}\r\n                  type=\"button\"\r\n                  role=\"tab\"\r\n                  onClick={() => setActiveTab(\"history\")}\r\n                >\r\n                  <i className=\"bi bi-clock-history me-2\"></i>\r\n                  Riwayat Presensi\r\n                </button>\r\n              </li>\r\n              <li className=\"nav-item\" role=\"presentation\">\r\n                <button\r\n                  className={`nav-link ${\r\n                    activeTab === \"summary\" ? \"active\" : \"\"\r\n                  }`}\r\n                  type=\"button\"\r\n                  role=\"tab\"\r\n                  onClick={() => setActiveTab(\"summary\")}\r\n                >\r\n                  <i className=\"bi bi-calendar-month me-2\"></i>\r\n                  Rangkuman Bulanan\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <div className=\"tab-content\">\r\n              <div\r\n                className={`tab-pane fade ${\r\n                  activeTab === \"daily\" ? \"show active\" : \"\"\r\n                }`}\r\n              >\r\n                <TableData classid={classid} subjectid={subjectid} />\r\n              </div>\r\n              <div\r\n                className={`tab-pane fade ${\r\n                  activeTab === \"history\" ? \"show active\" : \"\"\r\n                }`}\r\n              >\r\n                <AttendanceHistory classid={classid} subjectid={subjectid} />\r\n              </div>\r\n              <div\r\n                className={`tab-pane fade ${\r\n                  activeTab === \"summary\" ? \"show active\" : \"\"\r\n                }`}\r\n              >\r\n                <AttendanceSummary classid={classid} subjectid={subjectid} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Empty State */}\r\n      {(!classid || !subjectid) && (\r\n        <div className=\"text-center py-5\">\r\n          <div className=\"mb-3\">\r\n            <i className=\"bi bi-clipboard2-check display-1 text-muted\"></i>\r\n          </div>\r\n          <h5 className=\"fw-bold text-muted mb-2\">Pilih Data Presensi</h5>\r\n          <p className=\"text-muted mb-0\">\r\n            Silakan pilih mata pelajaran dan kelas terlebih dahulu untuk melihat\r\n            data presensi\r\n          </p>\r\n        </div>\r\n      )}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default TeacherPresensi;\r\n"],"names":["TableData","classid","subjectid","page","setPage","useState","limit","setLimit","search","setSearch","selectedDate","setSelectedDate","Date","toISOString","split","selectedStudents","setSelectedStudents","data","isLoading","useGetStudentsInClassQuery","skip","presensiData","useGetPresensiQuery","date","useGetAttendanceDatesQuery","addPresensi","useAddPresensiMutation","bulkPresensi","useBulkPresensiMutation","deletePresensi","useDeletePresensiMutation","bulkDeletePresensi","useBulkDeletePresensiMutation","students","totalData","totalPages","useEffect","handleCheck","async","studentid","note","checked","c","promise","unwrap","then","res","message","loading","success","error","_a","handleBulkOperation","length","toast","studentids","jsx","className","children","jsxs","Fragment","dateString","toLocaleDateString","weekday","year","month","day","jsxRuntimeExports","type","value","onChange","e","target","max","onClick","disabled","window","confirm","Table","style","width","handleSelectAll","map","student","index","studentAttendance","find","item","isSelected","includes","student_name","nis","grade_name","class_name","name","height","handleDeleteStudent","title","handleSelectStudent","filter","id","AttendanceSummary","selectedMonth","setSelectedMonth","getMonth","selectedYear","setSelectedYear","getFullYear","summaryData","useGetPresensiSummaryQuery","LoadingScreen","parseInt","Array","from","_","i","totalDays","hadir","telat","sakit","izin","alpa","attendanceRate","toFixed","AttendanceHistory","dateRange","setDateRange","attendanceDates","formatDate","getAttendanceBadge","dateObj","attendance","TeacherPresensi","user","useSelector","state","auth","classes","useGetClassQuery","setClassid","setSubjectid","activeTab","setActiveTab","options","subjects","subject","label","optionsClass","kelas","Layout","levels","Select","isSearchable","placeholder","classNamePrefix","menuPortalTarget","document","body","menuPosition","styles","menuPortal","base","zIndex","role"],"mappings":"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"}