import{b as a,aP as e,j as s,m as i}from"./index-DFhdulld.js";import{u as t,b as l}from"./vendor-CnnDPxwB.js";import{L as r}from"./Layout-GZnRoUIy.js";import"./index-B8CuzAwO.js";import"./index-g0LoU_Ie.js";const n=()=>{const r=t(),{user:n}=a((a=>a.auth)),[d,c]=l.useState(""),[o,m]=l.useState("");l.useEffect((()=>{const a=setTimeout((()=>{m(d)}),500);return()=>clearTimeout(a)}),[d]);const{data:x,isLoading:j,isError:p,error:h}=e({classid:null==n?void 0:n.class_id,search:o},{skip:!(null==n?void 0:n.class_id)}),u=(a,e)=>{const s=a.replace(/\s+/g,"-");r(`/pelajaran/${s}/${e}`)};return s.jsxs("div",{className:"container-fluid",children:[s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-lg-4 col-md-6",children:s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text bg-white border-end-0",children:s.jsx("i",{className:"bi bi-search text-primary"})}),s.jsx("input",{type:"text",className:"form-control border-start-0 ps-0",placeholder:"Cari mata pelajaran...",value:d,onChange:a=>c(a.target.value)})]})})}),j?s.jsxs("div",{className:"text-center py-5",children:[s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("p",{className:"mt-3 text-muted",children:"Memuat data mata pelajaran..."})]}):(null==x?void 0:x.length)>0?s.jsx(i.div,{className:"row g-4",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:x.map((a=>s.jsx(i.div,{className:"col-xl-3 col-lg-4 col-md-6",variants:a,children:s.jsxs("div",{className:"card h-100 shadow-sm border-0 hover-card",onClick:()=>u(a.name,a.id),children:[s.jsx("div",{className:"position-relative",children:s.jsx("img",{src:a.cover?`${window.location.origin}${a.cover}`:"/logo.png",alt:a.name,className:"card-img-top",style:{height:"400px",objectFit:"cover"}})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"d-flex align-items-center text-muted mb-2",children:[s.jsx("i",{className:"bi bi-book me-2"}),s.jsxs("span",{children:["Mata Pelajaran ",a.name]})]}),s.jsxs("button",{className:"btn btn-outline-primary btn-sm rounded-pill w-100",onClick:e=>{e.stopPropagation(),u(a.name,a.id)},children:[s.jsx("i",{className:"bi bi-arrow-right-circle me-2"}),"Masuk Pelajaran"]})]})]})},a.id)))}):s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"row justify-content-center",children:s.jsx("div",{className:"col-md-6 text-center",children:s.jsxs("div",{className:"py-5",children:[s.jsx("i",{className:"bi bi-journal-x display-1 text-muted mb-4"}),s.jsx("h4",{className:"text-muted mb-3",children:d?"Mata Pelajaran Tidak Ditemukan":"Data Belum Tersedia"}),s.jsx("p",{className:"text-muted mb-0",children:d?"Maaf, tidak ada mata pelajaran yang sesuai dengan pencarian Anda":"Belum ada mata pelajaran yang tersedia saat ini"}),p&&s.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:s.jsx("small",{children:null==h?void 0:h.message})})]})})})]})},d=()=>s.jsx(r,{title:"Daftar Pelajaran",levels:["student"],children:s.jsx(n,{})});export{d as default};
//# sourceMappingURL=StudentSubject-BuqHwV92.js.map
