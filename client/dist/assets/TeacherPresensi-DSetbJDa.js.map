{"version":3,"file":"TeacherPresensi-DSetbJDa.js","sources":["../../src/page/teacher/presensi/TableData.jsx","../../src/page/teacher/presensi/AttendanceSummary.jsx","../../src/page/teacher/presensi/AttendanceHistory.jsx","../../src/page/teacher/presensi/TeacherPresensi.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Table from \"../../../components/table/Table\";\r\nimport { useGetStudentsInClassQuery } from \"../../../controller/api/admin/ApiClass\";\r\nimport {\r\n  useGetPresensiQuery,\r\n  useAddPresensiMutation,\r\n  useGetAttendanceDatesQuery,\r\n} from \"../../../controller/api/lms/ApiPresensi\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nconst TableData = ({ classid, subjectid }) => {\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [selectedDate, setSelectedDate] = useState(\r\n    new Date().toISOString().split(\"T\")[0]\r\n  );\r\n\r\n  const { data, isLoading } = useGetStudentsInClassQuery(\r\n    {\r\n      page,\r\n      limit,\r\n      search,\r\n      classid,\r\n    },\r\n    { skip: !classid }\r\n  );\r\n\r\n  const { data: presensiData } = useGetPresensiQuery(\r\n    { classid, subjectid, date: selectedDate },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const { data: attendanceDates } = useGetAttendanceDatesQuery(\r\n    { classid, subjectid },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const [addPresensi] = useAddPresensiMutation();\r\n\r\n  const { students, totalData, totalPages } = data || {};\r\n\r\n  const handleCheck = async ({ studentid, note, checked }) => {\r\n    if (!checked) {\r\n      // If unchecking, we don't send the request (attendance remains as is)\r\n      return;\r\n    }\r\n\r\n    const data = { classid, subjectid, studentid, note, date: selectedDate };\r\n\r\n    toast.promise(\r\n      addPresensi(data)\r\n        .unwrap()\r\n        .then((res) => res.message),\r\n      {\r\n        loading: \"Memproses...\",\r\n        success: (message) => message,\r\n        error: (error) => error.data?.message || \"Terjadi kesalahan\",\r\n      }\r\n    );\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(\"id-ID\", {\r\n      weekday: \"long\",\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!classid || !subjectid ? (\r\n        <div className=\"text-center py-5 empty-state\">\r\n          <div className=\"mb-3\">\r\n            <i className=\"bi bi-clipboard2-check display-1 text-muted\"></i>\r\n          </div>\r\n          <h5 className=\"fw-bold text-muted mb-2\">Pilih Data Presensi</h5>\r\n          <p className=\"text-muted mb-0\">\r\n            Silakan pilih mata pelajaran dan kelas terlebih dahulu\r\n          </p>\r\n        </div>\r\n      ) : !students ? (\r\n        <div className=\"text-center py-5 empty-state\">\r\n          <div className=\"mb-3\">\r\n            <i className=\"bi bi-people display-1 text-muted\"></i>\r\n          </div>\r\n          <h5 className=\"fw-bold text-muted mb-2\">Data Siswa Tidak Tersedia</h5>\r\n          <p className=\"text-muted mb-0\">\r\n            Tidak ada data siswa yang ditemukan untuk kelas ini\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Date Selection */}\r\n          <div className=\"card mb-4\">\r\n            <div className=\"card-body\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-md-6\">\r\n                  <label className=\"form-label fw-bold\">\r\n                    <i className=\"bi bi-calendar-date me-2\"></i>\r\n                    Tanggal Presensi: <span>{formatDate(selectedDate)}</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"form-control\"\r\n                    value={selectedDate}\r\n                    onChange={(e) => setSelectedDate(e.target.value)}\r\n                    max={new Date().toISOString().split(\"T\")[0]}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <Table\r\n            isLoading={isLoading}\r\n            page={page}\r\n            setPage={setPage}\r\n            limit={limit}\r\n            setLimit={setLimit}\r\n            setSearch={setSearch}\r\n            totalData={totalData}\r\n            totalPages={totalPages}\r\n          >\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-hover align-middle\">\r\n                <thead className=\"bg-primary text-white\">\r\n                  <tr>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"5%\" }}\r\n                    >\r\n                      No\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"10%\" }}\r\n                    >\r\n                      NIS\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"25%\" }}\r\n                    >\r\n                      Nama\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"10%\" }}\r\n                    >\r\n                      Tingkat\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"15%\" }}\r\n                    >\r\n                      Kelas\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"10%\" }}\r\n                    >\r\n                      <i className=\"bi bi-check-circle\"></i>\r\n                      <div className=\"small\">Hadir</div>\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"10%\" }}\r\n                    >\r\n                      <i className=\"bi bi-heart-pulse\"></i>\r\n                      <div className=\"small\">Sakit</div>\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"10%\" }}\r\n                    >\r\n                      <i className=\"bi bi-envelope-paper\"></i>\r\n                      <div className=\"small\">Izin</div>\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"10%\" }}\r\n                    >\r\n                      <i className=\"bi bi-x-circle\"></i>\r\n                      <div className=\"small\">Alpa</div>\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {students.map((student, index) => {\r\n                    const studentAttendance = presensiData?.find(\r\n                      (item) => item.studentid === student.student\r\n                    );\r\n\r\n                    return (\r\n                      <tr key={student.id} className=\"attendance-change\">\r\n                        <td className=\"text-center align-middle\">\r\n                          {(page - 1) * limit + index + 1}\r\n                        </td>\r\n                        <td className=\"text-center align-middle\">\r\n                          {student.nis}\r\n                        </td>\r\n                        <td className=\"align-middle\">{student.student_name}</td>\r\n                        <td className=\"text-center align-middle\">\r\n                          {student.grade_name}\r\n                        </td>\r\n                        <td className=\"text-center align-middle\">\r\n                          {student.class_name}\r\n                        </td>\r\n                        <td className=\"text-center align-middle\">\r\n                          <div className=\"form-check d-flex justify-content-center\">\r\n                            <input\r\n                              className=\"form-check-input border-success\"\r\n                              type=\"radio\"\r\n                              name={`attendance-${student.student}`}\r\n                              style={{ width: \"1.5em\", height: \"1.5em\" }}\r\n                              checked={studentAttendance?.note === \"Hadir\"}\r\n                              onChange={(e) => {\r\n                                handleCheck({\r\n                                  studentid: student.student,\r\n                                  note: \"Hadir\",\r\n                                  checked: e.target.checked,\r\n                                });\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </td>\r\n\r\n                        <td className=\"text-center align-middle\">\r\n                          <div className=\"form-check d-flex justify-content-center\">\r\n                            <input\r\n                              className=\"form-check-input border-primary\"\r\n                              type=\"radio\"\r\n                              name={`attendance-${student.student}`}\r\n                              style={{ width: \"1.5em\", height: \"1.5em\" }}\r\n                              checked={studentAttendance?.note === \"Sakit\"}\r\n                              onChange={(e) => {\r\n                                handleCheck({\r\n                                  studentid: student.student,\r\n                                  note: \"Sakit\",\r\n                                  checked: e.target.checked,\r\n                                });\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </td>\r\n\r\n                        <td className=\"text-center align-middle\">\r\n                          <div className=\"form-check d-flex justify-content-center\">\r\n                            <input\r\n                              className=\"form-check-input border-info\"\r\n                              type=\"radio\"\r\n                              name={`attendance-${student.student}`}\r\n                              style={{ width: \"1.5em\", height: \"1.5em\" }}\r\n                              checked={studentAttendance?.note === \"Izin\"}\r\n                              onChange={(e) => {\r\n                                handleCheck({\r\n                                  studentid: student.student,\r\n                                  note: \"Izin\",\r\n                                  checked: e.target.checked,\r\n                                });\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"text-center align-middle\">\r\n                          <div className=\"form-check d-flex justify-content-center\">\r\n                            <input\r\n                              className=\"form-check-input border-danger\"\r\n                              type=\"radio\"\r\n                              name={`attendance-${student.student}`}\r\n                              style={{ width: \"1.5em\", height: \"1.5em\" }}\r\n                              checked={studentAttendance?.note === \"Alpa\"}\r\n                              onChange={(e) => {\r\n                                handleCheck({\r\n                                  studentid: student.student,\r\n                                  note: \"Alpa\",\r\n                                  checked: e.target.checked,\r\n                                });\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </Table>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TableData;\r\n","import React, { useState } from \"react\";\r\nimport { useGetPresensiSummaryQuery } from \"../../../controller/api/lms/ApiPresensi\";\r\nimport LoadingScreen from \"../../../components/loader/LoadingScreen\";\r\n\r\nconst AttendanceSummary = ({ classid, subjectid }) => {\r\n  const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth() + 1);\r\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\r\n\r\n  const { data: summaryData, isLoading } = useGetPresensiSummaryQuery(\r\n    {\r\n      classid,\r\n      subjectid,\r\n      month: selectedMonth,\r\n      year: selectedYear,\r\n    },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const months = [\r\n    \"Januari\",\r\n    \"Februari\",\r\n    \"Maret\",\r\n    \"April\",\r\n    \"Mei\",\r\n    \"Juni\",\r\n    \"Juli\",\r\n    \"Agustus\",\r\n    \"September\",\r\n    \"Oktober\",\r\n    \"November\",\r\n    \"Desember\",\r\n  ];\r\n\r\n  if (!classid || !subjectid) {\r\n    return (\r\n      <div className=\"text-center py-5 empty-state\">\r\n        <div className=\"mb-3\">\r\n          <i className=\"bi bi-calendar-check display-1 text-muted\"></i>\r\n        </div>\r\n        <h5 className=\"fw-bold text-muted mb-2\">Pilih Data Presensi</h5>\r\n        <p className=\"text-muted mb-0\">\r\n          Silakan pilih mata pelajaran dan kelas terlebih dahulu\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isLoading) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header bg-primary text-white\">\r\n        <h5 className=\"card-title mb-0\">\r\n          <i className=\"bi bi-calendar-month me-2\"></i>\r\n          Rangkuman Presensi Bulanan\r\n        </h5>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row mb-3\">\r\n          <div className=\"col-md-6\">\r\n            <label className=\"form-label fw-bold\">Bulan:</label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={selectedMonth}\r\n              onChange={(e) => setSelectedMonth(parseInt(e.target.value))}\r\n            >\r\n              {months.map((month, index) => (\r\n                <option key={index + 1} value={index + 1}>\r\n                  {month}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {summaryData && summaryData.length > 0 ? (\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-hover table-striped\">\r\n              <thead className=\"table-dark\">\r\n                <tr>\r\n                  <th className=\"text-center\" style={{ width: \"5%\" }}>\r\n                    No\r\n                  </th>\r\n                  <th style={{ width: \"10%\" }}>NIS</th>\r\n                  <th style={{ width: \"35%\" }}>Nama Siswa</th>\r\n                  <th className=\"text-center\" style={{ width: \"12%\" }}>\r\n                    <i className=\"bi bi-check-circle text-success me-1\"></i>\r\n                    Hadir\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"12%\" }}>\r\n                    <i className=\"bi bi-heart-pulse text-primary me-1\"></i>\r\n                    Sakit\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"12%\" }}>\r\n                    <i className=\"bi bi-envelope-paper text-info me-1\"></i>\r\n                    Izin\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"12%\" }}>\r\n                    <i className=\"bi bi-x-circle text-danger me-1\"></i>\r\n                    Alpa\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"12%\" }}>\r\n                    <i className=\"bi bi-percent text-warning me-1\"></i>\r\n                    Kehadiran\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {summaryData.map((student, index) => {\r\n                  const totalDays =\r\n                    student.hadir + student.sakit + student.izin + student.alpa;\r\n                  const attendanceRate =\r\n                    totalDays > 0\r\n                      ? ((student.hadir / totalDays) * 100).toFixed(1)\r\n                      : 0;\r\n\r\n                  return (\r\n                    <tr key={student.studentid} className=\"attendance-change\">\r\n                      <td className=\"text-center align-middle\">{index + 1}</td>\r\n                      <td className=\"align-middle\">{student.nis}</td>\r\n                      <td className=\"align-middle fw-bold\">\r\n                        {student.student_name}\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span className=\"badge bg-success fs-6\">\r\n                          {student.hadir}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span className=\"badge bg-primary fs-6\">\r\n                          {student.sakit}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span className=\"badge bg-info fs-6\">\r\n                          {student.izin}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span className=\"badge bg-danger fs-6\">\r\n                          {student.alpa}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span\r\n                          className={`badge fs-6 ${\r\n                            attendanceRate >= 90\r\n                              ? \"bg-success\"\r\n                              : attendanceRate >= 80\r\n                              ? \"bg-warning\"\r\n                              : \"bg-danger\"\r\n                          }`}\r\n                        >\r\n                          {attendanceRate}%\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-5 empty-state\">\r\n            <div className=\"mb-3\">\r\n              <i className=\"bi bi-calendar-x display-1 text-muted\"></i>\r\n            </div>\r\n            <h5 className=\"fw-bold text-muted mb-2\">Data Tidak Tersedia</h5>\r\n            <p className=\"text-muted mb-0\">\r\n              Tidak ada data presensi untuk periode yang dipilih\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceSummary;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  useGetPresensiQuery,\r\n  useGetAttendanceDatesQuery,\r\n} from \"../../../controller/api/lms/ApiPresensi\";\r\nimport LoadingScreen from \"../../../components/loader/LoadingScreen\";\r\n\r\nconst AttendanceHistory = ({ classid, subjectid }) => {\r\n  const [selectedDate, setSelectedDate] = useState(\"\");\r\n  const [dateRange, setDateRange] = useState(\"all\");\r\n\r\n  const { data: attendanceDates } = useGetAttendanceDatesQuery(\r\n    { classid, subjectid },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const { data: presensiData, isLoading } = useGetPresensiQuery(\r\n    {\r\n      classid,\r\n      subjectid,\r\n      ...(selectedDate && { date: selectedDate }),\r\n    },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(\"id-ID\", {\r\n      weekday: \"long\",\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const getAttendanceIcon = (note) => {\r\n    switch (note) {\r\n      case \"Hadir\":\r\n        return <i className=\"bi bi-check-circle text-success\"></i>;\r\n      case \"Sakit\":\r\n        return <i className=\"bi bi-heart-pulse text-primary\"></i>;\r\n      case \"Izin\":\r\n        return <i className=\"bi bi-envelope-paper text-info\"></i>;\r\n      case \"Alpa\":\r\n        return <i className=\"bi bi-x-circle text-danger\"></i>;\r\n      default:\r\n        return <i className=\"bi bi-question-circle text-muted\"></i>;\r\n    }\r\n  };\r\n\r\n  const getAttendanceBadge = (note) => {\r\n    switch (note) {\r\n      case \"Hadir\":\r\n        return <span className=\"badge bg-success\">{note}</span>;\r\n      case \"Sakit\":\r\n        return <span className=\"badge bg-primary\">{note}</span>;\r\n      case \"Izin\":\r\n        return <span className=\"badge bg-info\">{note}</span>;\r\n      case \"Alpa\":\r\n        return <span className=\"badge bg-danger\">{note}</span>;\r\n      default:\r\n        return (\r\n          <span className=\"badge bg-secondary\">{note || \"Belum Diisi\"}</span>\r\n        );\r\n    }\r\n  };\r\n\r\n  if (!classid || !subjectid) {\r\n    return (\r\n      <div className=\"text-center py-5 empty-state\">\r\n        <div className=\"mb-3\">\r\n          <i className=\"bi bi-clock-history display-1 text-muted\"></i>\r\n        </div>\r\n        <h5 className=\"fw-bold text-muted mb-2\">Pilih Data Presensi</h5>\r\n        <p className=\"text-muted mb-0\">\r\n          Silakan pilih mata pelajaran dan kelas terlebih dahulu\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isLoading) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header bg-info text-white\">\r\n        <h5 className=\"card-title mb-0\">\r\n          <i className=\"bi bi-clock-history me-2\"></i>\r\n          Riwayat Presensi\r\n        </h5>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        {/* Filter Controls */}\r\n        <div className=\"row mb-4\">\r\n          <div className=\"col-md-6\">\r\n            <label className=\"form-label fw-bold\">\r\n              <i className=\"bi bi-calendar-range me-2\"></i>\r\n              Filter Tanggal:\r\n            </label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={dateRange}\r\n              onChange={(e) => {\r\n                setDateRange(e.target.value);\r\n                if (e.target.value === \"all\") {\r\n                  setSelectedDate(\"\");\r\n                } else if (e.target.value === \"today\") {\r\n                  setSelectedDate(new Date().toISOString().split(\"T\")[0]);\r\n                }\r\n              }}\r\n            >\r\n              <option value=\"all\">Semua Tanggal</option>\r\n              <option value=\"today\">Hari Ini</option>\r\n              <option value=\"specific\">Tanggal Tertentu</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <label className=\"form-label fw-bold\">\r\n              <i className=\"bi bi-calendar-date me-2\"></i>\r\n              Pilih Tanggal:\r\n            </label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={selectedDate}\r\n              onChange={(e) => setSelectedDate(e.target.value)}\r\n              disabled={dateRange !== \"specific\"}\r\n            >\r\n              <option value=\"\">Pilih tanggal</option>\r\n              {attendanceDates?.map((dateObj) => (\r\n                <option key={dateObj.date} value={dateObj.date}>\r\n                  {formatDate(dateObj.date)}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Attendance Data */}\r\n        {presensiData && presensiData.length > 0 ? (\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-hover table-striped\">\r\n              <thead className=\"table-dark\">\r\n                <tr>\r\n                  <th className=\"text-center\" style={{ width: \"5%\" }}>\r\n                    No\r\n                  </th>\r\n                  <th style={{ width: \"15%\" }}>Tanggal</th>\r\n                  <th style={{ width: \"10%\" }}>NIS</th>\r\n                  <th style={{ width: \"25%\" }}>Nama Siswa</th>\r\n                  <th className=\"text-center\" style={{ width: \"15%\" }}>\r\n                    Status\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"10%\" }}>\r\n                    Aksi\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {presensiData.map((attendance, index) => (\r\n                  <tr key={attendance.id} className=\"attendance-change\">\r\n                    <td className=\"text-center align-middle\">{index + 1}</td>\r\n                    <td className=\"align-middle\">\r\n                      <div className=\"fw-bold\">\r\n                        {formatDate(attendance.date)}\r\n                      </div>\r\n                      <small className=\"text-muted\">\r\n                        {new Date(attendance.date).toLocaleDateString(\"id-ID\")}\r\n                      </small>\r\n                    </td>\r\n                    <td className=\"align-middle\">{attendance.nis}</td>\r\n                    <td className=\"align-middle fw-bold\">\r\n                      {attendance.student_name}\r\n                    </td>\r\n                    <td className=\"text-center align-middle\">\r\n                      {getAttendanceBadge(attendance.note)}\r\n                    </td>\r\n                    <td className=\"text-center align-middle\">\r\n                      <button\r\n                        className=\"btn btn-sm btn-outline-primary\"\r\n                        title=\"Lihat Detail\"\r\n                        disabled\r\n                      >\r\n                        <i className=\"bi bi-eye\"></i>\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-5 empty-state\">\r\n            <div className=\"mb-3\">\r\n              <i className=\"bi bi-calendar-x display-1 text-muted\"></i>\r\n            </div>\r\n            <h5 className=\"fw-bold text-muted mb-2\">Data Tidak Tersedia</h5>\r\n            <p className=\"text-muted mb-0\">\r\n              {selectedDate\r\n                ? `Tidak ada data presensi untuk tanggal ${formatDate(\r\n                    selectedDate\r\n                  )}`\r\n                : \"Tidak ada data presensi yang tersedia\"}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceHistory;\r\n","import React, { useState } from \"react\";\r\nimport Layout from \"../../../components/layout/Layout\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Select from \"react-select\";\r\nimport { useGetClassQuery } from \"../../../controller/api/admin/ApiClass\";\r\nimport TableData from \"./TableData\";\r\nimport AttendanceSummary from \"./AttendanceSummary\";\r\nimport AttendanceHistory from \"./AttendanceHistory\";\r\nimport \"./Presensi.css\";\r\n\r\nconst TeacherPresensi = () => {\r\n  const { user } = useSelector((state) => state.auth);\r\n  const { data: classes } = useGetClassQuery({\r\n    page: \"\",\r\n    limit: \"\",\r\n    search: \"\",\r\n  });\r\n\r\n  const [classid, setClassid] = useState(\"\");\r\n  const [subjectid, setSubjectid] = useState(\"\");\r\n  const [activeTab, setActiveTab] = useState(\"daily\");\r\n\r\n  const options = user?.subjects?.map((subject) => ({\r\n    value: subject.id,\r\n    label: subject.name,\r\n  }));\r\n\r\n  const optionsClass = classes?.map((kelas) => ({\r\n    value: kelas.id,\r\n    label: kelas.name,\r\n  }));\r\n\r\n  return (\r\n    <Layout title={\"Presensi Siswa\"} levels={[\"teacher\"]}>\r\n      {/* Filter Section */}\r\n      <div className=\"card mb-4\">\r\n        <div className=\"card-header bg-primary text-white\">\r\n          <h5 className=\"card-title mb-0\">\r\n            <i className=\"bi bi-funnel me-2\"></i>\r\n            Filter Data Presensi\r\n          </h5>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"row g-3\">\r\n            <div className=\"col-12 col-lg-6\">\r\n              <label className=\"form-label fw-bold\">\r\n                <i className=\"bi bi-book me-2\"></i>\r\n                Mata Pelajaran:\r\n              </label>\r\n              <Select\r\n                options={options}\r\n                isSearchable={true}\r\n                placeholder=\"Pilih Mata Pelajaran\"\r\n                onChange={(e) => setSubjectid(e.value)}\r\n                className=\"react-select-container\"\r\n                classNamePrefix=\"react-select\"\r\n                menuPortalTarget={document.body}\r\n                menuPosition=\"fixed\"\r\n                styles={{\r\n                  menuPortal: (base) => ({ ...base, zIndex: 1 }),\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-lg-6\">\r\n              <label className=\"form-label fw-bold\">\r\n                <i className=\"bi bi-people me-2\"></i>\r\n                Kelas:\r\n              </label>\r\n              <Select\r\n                options={optionsClass}\r\n                isSearchable={true}\r\n                placeholder=\"Pilih Kelas\"\r\n                onChange={(e) => setClassid(e.value)}\r\n                className=\"react-select-container\"\r\n                classNamePrefix=\"react-select\"\r\n                menuPortalTarget={document.body}\r\n                menuPosition=\"fixed\"\r\n                styles={{\r\n                  menuPortal: (base) => ({ ...base, zIndex: 1 }),\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      {classid && subjectid && (\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header\">\r\n            <ul className=\"nav nav-tabs card-header-tabs\" role=\"tablist\">\r\n              <li className=\"nav-item\" role=\"presentation\">\r\n                <button\r\n                  className={`nav-link ${\r\n                    activeTab === \"daily\" ? \"active\" : \"\"\r\n                  }`}\r\n                  type=\"button\"\r\n                  role=\"tab\"\r\n                  onClick={() => setActiveTab(\"daily\")}\r\n                >\r\n                  <i className=\"bi bi-calendar-day me-2\"></i>\r\n                  Presensi Harian\r\n                </button>\r\n              </li>\r\n              <li className=\"nav-item\" role=\"presentation\">\r\n                <button\r\n                  className={`nav-link ${\r\n                    activeTab === \"history\" ? \"active\" : \"\"\r\n                  }`}\r\n                  type=\"button\"\r\n                  role=\"tab\"\r\n                  onClick={() => setActiveTab(\"history\")}\r\n                >\r\n                  <i className=\"bi bi-clock-history me-2\"></i>\r\n                  Riwayat Presensi\r\n                </button>\r\n              </li>\r\n              <li className=\"nav-item\" role=\"presentation\">\r\n                <button\r\n                  className={`nav-link ${\r\n                    activeTab === \"summary\" ? \"active\" : \"\"\r\n                  }`}\r\n                  type=\"button\"\r\n                  role=\"tab\"\r\n                  onClick={() => setActiveTab(\"summary\")}\r\n                >\r\n                  <i className=\"bi bi-calendar-month me-2\"></i>\r\n                  Rangkuman Bulanan\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <div className=\"tab-content\">\r\n              <div\r\n                className={`tab-pane fade ${\r\n                  activeTab === \"daily\" ? \"show active\" : \"\"\r\n                }`}\r\n              >\r\n                <TableData classid={classid} subjectid={subjectid} />\r\n              </div>\r\n              <div\r\n                className={`tab-pane fade ${\r\n                  activeTab === \"history\" ? \"show active\" : \"\"\r\n                }`}\r\n              >\r\n                <AttendanceHistory classid={classid} subjectid={subjectid} />\r\n              </div>\r\n              <div\r\n                className={`tab-pane fade ${\r\n                  activeTab === \"summary\" ? \"show active\" : \"\"\r\n                }`}\r\n              >\r\n                <AttendanceSummary classid={classid} subjectid={subjectid} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Empty State */}\r\n      {(!classid || !subjectid) && (\r\n        <div className=\"text-center py-5\">\r\n          <div className=\"mb-3\">\r\n            <i className=\"bi bi-clipboard2-check display-1 text-muted\"></i>\r\n          </div>\r\n          <h5 className=\"fw-bold text-muted mb-2\">Pilih Data Presensi</h5>\r\n          <p className=\"text-muted mb-0\">\r\n            Silakan pilih mata pelajaran dan kelas terlebih dahulu untuk melihat\r\n            data presensi\r\n          </p>\r\n        </div>\r\n      )}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default TeacherPresensi;\r\n"],"names":["TableData","classid","subjectid","page","setPage","useState","limit","setLimit","search","setSearch","selectedDate","setSelectedDate","Date","toISOString","split","data","isLoading","useGetStudentsInClassQuery","skip","presensiData","useGetPresensiQuery","date","useGetAttendanceDatesQuery","addPresensi","useAddPresensiMutation","students","totalData","totalPages","handleCheck","async","studentid","note","checked","c","promise","unwrap","then","res","message","loading","success","error","_a","jsx","Fragment","children","jsxs","className","dateString","toLocaleDateString","weekday","year","month","day","jsxRuntimeExports","type","value","onChange","e","target","max","Table","style","width","map","student","index","studentAttendance","find","item","nis","student_name","grade_name","class_name","name","height","id","AttendanceSummary","selectedMonth","setSelectedMonth","getMonth","selectedYear","setSelectedYear","getFullYear","summaryData","useGetPresensiSummaryQuery","LoadingScreen","parseInt","length","totalDays","hadir","sakit","izin","alpa","attendanceRate","toFixed","AttendanceHistory","dateRange","setDateRange","attendanceDates","formatDate","getAttendanceBadge","disabled","dateObj","attendance","title","TeacherPresensi","user","useSelector","state","auth","classes","useGetClassQuery","setClassid","setSubjectid","activeTab","setActiveTab","options","subjects","subject","label","optionsClass","kelas","Layout","levels","Select","isSearchable","placeholder","classNamePrefix","menuPortalTarget","document","body","menuPosition","styles","menuPortal","base","zIndex","role","onClick"],"mappings":"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"}