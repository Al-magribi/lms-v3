import{Y as e,j as s}from"./index-DFhdulld.js";import{b as a}from"./vendor-CnnDPxwB.js";import{L as t}from"./Layout-GZnRoUIy.js";import{T as l}from"./Table-CpyGbvYh.js";import"./index-B8CuzAwO.js";import"./index-g0LoU_Ie.js";const n=()=>{const[n,i]=a.useState(1),[r,c]=a.useState(10),[d,m]=a.useState(""),[o,h]=a.useState(""),[x,j]=a.useState(""),{data:u,isLoading:p}=e({page:n,limit:r,search:d,family_age:o||void 0,family_gender:x||void 0}),{results:b=[],totalData:N,totalPages:g}=u||{},v=a.useMemo((()=>{const e=b.map((e=>e.family_age));return[...new Set(e)].sort(((e,s)=>e-s))}),[b]);return s.jsxs(t,{title:"Potensial Calon Siswa",levels:["center"],children:[s.jsx("div",{className:"mb-3",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-3",children:s.jsxs("select",{className:"form-select",id:"ageFilter",value:o,onChange:e=>{h(e.target.value),i(1)},children:[s.jsx("option",{value:"",children:"Semua Umur"}),v.map((e=>s.jsxs("option",{value:e,children:[e," tahun"]},e)))]})}),s.jsx("div",{className:"col-md-3",children:s.jsxs("select",{className:"form-select",id:"genderFilter",value:x,onChange:e=>{j(e.target.value),i(1)},children:[s.jsx("option",{value:"",children:"Semua Gender"}),s.jsx("option",{value:"L",children:"Laki-laki"}),s.jsx("option",{value:"P",children:"Perempuan"})]})})]})}),s.jsx(l,{isLoading:p,page:n,setPage:i,limit:r,setLimit:c,search:d,setSearch:m,totalData:N,totalPages:g,children:s.jsxs("table",{className:"mb-0 table table-hover table-bordered table-striped",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-center",children:"No"}),s.jsx("th",{className:"text-center",children:"Nama Siswa"}),s.jsx("th",{className:"text-center",children:"Nama Keluarga"}),s.jsx("th",{className:"text-center",children:"L/P"}),s.jsx("th",{className:"text-center",children:"Umur"}),s.jsx("th",{className:"text-center",children:"Kontak"})]})}),s.jsx("tbody",{children:b.map(((e,a)=>s.jsxs("tr",{children:[s.jsx("td",{className:"text-center",children:(n-1)*r+a+1}),s.jsx("td",{className:"align-middle",children:e.student_name}),s.jsx("td",{className:"align-middle",children:e.family_name}),s.jsx("td",{className:"text-center align-middle",children:e.family_gender}),s.jsxs("td",{className:"text-center align-middle",children:[e.family_age," tahun"]}),s.jsx("td",{className:"text-center align-middle",children:s.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[s.jsxs("button",{className:"btn btn-sm btn-success",title:e.father_name,onClick:()=>{window.open(`https://wa.me/${e.father_phone}`,"_blank")},disabled:!e.father_phone,children:[s.jsx("i",{className:"bi bi-whatsapp"})," ",s.jsx("span",{className:"ms-2",children:"Ayah"})]}),s.jsxs("button",{className:"btn btn-sm btn-success",title:e.mother_name,onClick:()=>{window.open(`https://wa.me/${e.mother_phone}`,"_blank")},disabled:!e.mother_phone,children:[s.jsx("i",{className:"bi bi-whatsapp"}),s.jsx("span",{className:"ms-2",children:"Ibu"})]})]})})]},a)))})]})})]})};export{n as default};
//# sourceMappingURL=CenterMarket-DAIB6h8M.js.map
