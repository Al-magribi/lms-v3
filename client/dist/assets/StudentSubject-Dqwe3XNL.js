import{a as e,ay as a,j as s}from"./index-CNbAajcm.js";import{u as r,b as l}from"./vendor-BYWiIb5-.js";import{L as i}from"./Layout-_SAc74nU.js";import"./index-C-OX0RB-.js";import"./index-DLmIb9aI.js";const t=()=>{const i=r(),{user:t}=e((e=>e.auth)),[c,d]=l.useState(""),[n,o]=l.useState("");l.useEffect((()=>{const e=setTimeout((()=>{o(c)}),500);return()=>clearTimeout(e)}),[c]);const{data:m,isLoading:h,isError:x,error:j}=a({classid:null==t?void 0:t.class_id,search:n},{skip:!(null==t?void 0:t.class_id)});return s.jsxs("div",{className:"d-flex flex-column gap-2",children:[s.jsxs("div",{className:"input-group w-25",children:[s.jsx("span",{className:"input-group-text bg-secondary text-white",children:s.jsx("i",{className:"bi bi-search"})}),s.jsx("input",{type:"text",className:"form-control",placeholder:"Cari mata pelajaran...",value:c,onChange:e=>d(e.target.value)})]}),s.jsx("div",{className:"row g-2",children:h?s.jsx("div",{className:"col-12",children:s.jsx("p",{className:"m-0 h5 text-muted",children:"Memuat data..."})}):(null==m?void 0:m.length)>0?m.map((e=>s.jsx("div",{className:"col-lg-2 col-md-4 col-6",children:s.jsxs("div",{className:"card shadow pointer",onClick:()=>((e,a)=>{const s=e.replace(/\s+/g,"-");i(`/pelajaran/${s}/${a}`)})(e.name,e.id),children:[s.jsx("div",{className:"card-header text-center bg-primary text-white",children:e.name}),s.jsx("div",{className:"card-body",children:s.jsx("img",{src:e.cover?`${window.location.origin}${e.cover}`:"/logo.png",alt:e.name,className:"w-100 object-fit-contain overflow-hidden",style:{height:220}})})]})},e.id))):s.jsx("div",{className:"col-12",children:s.jsx("p",{className:"m-0 h5 text-muted",children:c?s.jsxs("div",{className:"alert alert-danger",role:"alert",children:[s.jsx("h4",{className:"alert-heading",children:"Error!"}),s.jsx("p",{children:"Mata pelajaran tidak ditemukan"}),s.jsx("hr",{}),x&&s.jsxs("p",{className:"mb-0",children:["Error details: ",null==j?void 0:j.message]})]}):s.jsxs("div",{className:"alert alert-danger",role:"alert",children:[s.jsx("h4",{className:"alert-heading",children:"Error!"}),s.jsx("p",{children:"Data belum tersedia"}),s.jsx("hr",{}),x&&s.jsxs("p",{className:"mb-0",children:["Error details: ",null==j?void 0:j.message]})]})})})})]})},c=()=>s.jsx(i,{title:"Daftar Pelajaran",levels:["student"],children:s.jsx(t,{})});export{c as default};
//# sourceMappingURL=StudentSubject-Dqwe3XNL.js.map
