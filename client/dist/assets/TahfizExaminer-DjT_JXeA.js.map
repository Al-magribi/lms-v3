{"version":3,"file":"TahfizExaminer-DjT_JXeA.js","sources":["../../src/page/tahfiz/examnier/Form.jsx","../../src/page/tahfiz/examnier/TableData.jsx","../../src/page/tahfiz/examnier/TahfizExaminer.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useAddExaminerMutation } from \"../../../controller/api/tahfiz/ApiExaminer\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nconst Form = ({ detail, setDetail }) => {\r\n  const [formData, setFormData] = useState({\r\n    id: detail ? detail.id : \"\",\r\n    name: \"\",\r\n  });\r\n\r\n  const [addExaminer, { isLoading, isSuccess, isError, reset }] =\r\n    useAddExaminerMutation();\r\n\r\n  const addHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    toast.promise(\r\n      addExaminer(formData)\r\n        .unwrap()\r\n        .then((res) => res.message),\r\n      {\r\n        loading: \"Memuat...\",\r\n        success: (message) => message,\r\n        error: (error) => error.data?.message,\r\n      }\r\n    );\r\n  };\r\n\r\n  const cancel = () => {\r\n    setDetail({});\r\n    setFormData({\r\n      id: \"\",\r\n      name: \"\",\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isSuccess || isError) {\r\n      cancel();\r\n      reset();\r\n    }\r\n  }, [isSuccess, isError]);\r\n\r\n  useEffect(() => {\r\n    if (detail) {\r\n      setFormData({\r\n        id: detail.id,\r\n        name: detail.name,\r\n      });\r\n    }\r\n  }, [detail]);\r\n\r\n  return (\r\n    <form\r\n      onSubmit={addHandler}\r\n      className='rounded border bg-white p-2 d-flex flex-column gap-2'>\r\n      <p className='m-0 h6'>Penguji</p>\r\n\r\n      <input\r\n        type='text'\r\n        name='name'\r\n        id='name'\r\n        required\r\n        className='form-control'\r\n        placeholder='Nama Penguji'\r\n        value={formData.name || \"\"}\r\n        onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n      />\r\n\r\n      <div className='d-flex justify-content-end gap-2'>\r\n        <button\r\n          type='button'\r\n          className='btn btn-sm btn-warning'\r\n          onClick={cancel}>\r\n          Batal\r\n        </button>\r\n        <button\r\n          type='submit'\r\n          className='btn btn-sm btn-success'\r\n          disabled={isLoading}>\r\n          Simpan\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  useGetExaminersQuery,\r\n  useDeleteExaminerMutation,\r\n} from \"../../../controller/api/tahfiz/ApiExaminer\";\r\nimport Table from \"../../../components/table/Table\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nconst TableData = ({ setDetail }) => {\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const { data: rawData = {}, isLoading } = useGetExaminersQuery({\r\n    page,\r\n    limit,\r\n    search,\r\n  });\r\n  const { examiners = [], totalData, totalPages } = rawData;\r\n  const [deleteExaminer, { isLoading: isDeleting }] =\r\n    useDeleteExaminerMutation();\r\n\r\n  const deleteHandler = (id) => {\r\n    toast.promise(\r\n      deleteExaminer(id)\r\n        .unwrap()\r\n        .then((res) => res.message),\r\n      {\r\n        loading: \"Memuat...\",\r\n        success: (message) => message,\r\n        error: (error) => error.data?.message,\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Table\r\n      isLoading={isLoading}\r\n      page={page}\r\n      setPage={setPage}\r\n      setLimit={setLimit}\r\n      setSearch={setSearch}\r\n      totalData={totalData}\r\n      totalPages={totalPages}\r\n    >\r\n      <table className='mb-0 table table-bordered table-striped table-hover'>\r\n        <thead>\r\n          <tr>\r\n            <td className='text-center align-middle'>No</td>\r\n            <td className='text-center align-middle'>Nama Penguji</td>\r\n            <td className='text-center align-middle'>Aksi</td>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {examiners?.map((item, i) => (\r\n            <tr key={i}>\r\n              <td className='text-center align-middle'>\r\n                {(page - 1) * limit + i + 1}\r\n              </td>\r\n              <td className='align-middle'>{item.name}</td>\r\n              <td className='text-center align-middle'>\r\n                <div className='d-flex justify-content-center gap-2'>\r\n                  <button\r\n                    className='btn btn-sm btn-warning'\r\n                    onClick={() => setDetail(item)}\r\n                  >\r\n                    <i className='bi bi-pencil-square'></i>\r\n                  </button>\r\n                  <button\r\n                    className='btn btn-sm btn-danger'\r\n                    disabled={isDeleting}\r\n                    onClick={() => deleteHandler(item.id)}\r\n                  >\r\n                    <i className='bi bi-trash'></i>\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </Table>\r\n  );\r\n};\r\n\r\nexport default TableData;\r\n","import React, { useState } from \"react\";\r\nimport Layout from \"../../../components/layout/Layout\";\r\nimport Form from \"./Form\";\r\nimport TableData from \"./TableData\";\r\nconst TahfizExaminer = () => {\r\n  const [detail, setDetail] = useState({});\r\n\r\n  return (\r\n    <Layout title={\"Penguji\"} levels={[\"tahfiz\"]}>\r\n      <div className='row g-2'>\r\n        <div className='col-lg-3 col-12'>\r\n          <Form detail={detail} setDetail={setDetail} />\r\n        </div>\r\n        <div className='col-lg-9 col-12'>\r\n          <TableData setDetail={setDetail} />\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default TahfizExaminer;\r\n"],"names":["Form","detail","setDetail","formData","setFormData","useState","id","name","addExaminer","isLoading","isSuccess","isError","reset","useAddExaminerMutation","cancel","useEffect","jsxRuntimeExports","jsxs","onSubmit","e","preventDefault","c","promise","unwrap","then","res","message","loading","success","error","_a","data","className","children","jsx","type","required","placeholder","value","onChange","target","onClick","disabled","TableData","page","setPage","limit","setLimit","search","setSearch","rawData","useGetExaminersQuery","examiners","totalData","totalPages","deleteExaminer","isDeleting","useDeleteExaminerMutation","Table","map","item","i","deleteHandler","TahfizExaminer","Layout","title","levels"],"mappings":"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"}