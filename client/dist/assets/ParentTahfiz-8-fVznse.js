import{b as s,c6 as e,j as a,aB as l}from"./index-mQl5svQ-.js";import{L as d}from"./Layout-CMxW7Kh2.js";import{b as r}from"./vendor-DfXzdC0j.js";import{Q as i,R as c,t as m,e as t,N as n,O as x,S as h,T as o,U as j,V as N}from"./index-CGMX7dKw.js";import"./index-hpZ4eOv6.js";import"./index-DyuEXp_a.js";const v=()=>{var v;const{user:b}=s((s=>s.auth)),[u,p]=r.useState(window.innerWidth),[g,f]=r.useState({}),{data:w,isLoading:y}=e(b.student_id,{skip:!b.student_id});r.useEffect((()=>{const s=()=>{p(window.innerWidth)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)}),[]);return y?a.jsx(l,{}):w?a.jsx(d,{title:"Laporan Tahfiz",levels:["parent"],children:a.jsxs("div",{className:"container-fluid parent-tahfiz",children:[a.jsx("div",{className:"row mb-4",children:a.jsx("div",{className:"col-12",children:a.jsx("div",{className:"card border-0 shadow-sm bg-gradient-primary",children:a.jsx("div",{className:"card-body p-4",children:a.jsxs("div",{className:"row align-items-center",children:[a.jsx("div",{className:"col-md-8",children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"bg-white rounded-circle p-3 me-3 shadow-sm",children:a.jsx(c,{className:"text-primary fs-2"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-1 text-white fw-bold",children:"Laporan Tahfiz Al-Qur'an"}),a.jsxs("p",{className:"mb-0 text-white-50",children:[a.jsx(m,{className:"me-2"}),(null==b?void 0:b.student)||"Student Name"]})]})]})}),a.jsx("div",{className:"col-md-4 text-md-end",children:a.jsx("div",{className:"d-flex flex-column gap-2",children:a.jsxs("span",{className:"badge bg-white bg-opacity-25 text-white border-0 px-3 py-2",children:[a.jsx(t,{className:"me-2"}),"Progress Monitoring"]})})})]})})})})}),null==(v=w.targets_by_grade)?void 0:v.map(((s,e)=>a.jsxs("div",{className:"card border-0 shadow-sm mb-4",children:[a.jsx("div",{className:"card-header bg-white border-0 py-3",children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-2 me-3",children:a.jsx(m,{className:"text-primary fs-4"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"mb-1 fw-bold text-dark",children:s.grade_name}),a.jsx("p",{className:"mb-0 text-muted",children:"Target dan Progress Hafalan"})]})]})}),a.jsx("div",{className:"card-body p-4",children:a.jsx("div",{className:"row g-4",children:s.targets.map(((e,l)=>{var d;const r=null==(d=w.memorization)?void 0:d.find((s=>s.juz===e.juz)),i=`${s.grade_name}_${e.juz}`,c=g[i];return a.jsx("div",{className:"col-12 col-sm-6 col-lg-4",children:a.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[a.jsx("div",{className:"card-header bg-primary text-white text-center border-0 py-3",children:a.jsxs("h5",{className:"card-title mb-0 fw-bold",children:[a.jsx(n,{className:"me-2"}),e.juz]})}),a.jsxs("div",{className:"card-body p-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h6",{className:"text-muted mb-3 fw-semibold",children:[a.jsx(x,{className:"me-2 text-success"}),"Target"]}),a.jsxs("div",{className:"row text-center g-3",children:[a.jsx("div",{className:"col-6",children:a.jsxs("div",{className:"bg-light rounded-3 p-3",children:[a.jsx("div",{className:"text-muted small mb-1",children:"Ayat"}),a.jsx("div",{className:"fw-bold fs-5 text-primary",children:e.total_verses})]})}),a.jsx("div",{className:"col-6",children:a.jsxs("div",{className:"bg-light rounded-3 p-3",children:[a.jsx("div",{className:"text-muted small mb-1",children:"Baris"}),a.jsx("div",{className:"fw-bold fs-5 text-primary",children:e.total_lines})]})})]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsx("hr",{className:"my-4"}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h6",{className:"text-primary mb-3 fw-semibold",children:[a.jsx(t,{className:"me-2"}),"Progress"]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[a.jsx("span",{className:"text-muted small fw-medium",children:"Progress"}),a.jsxs("span",{className:"fw-bold fs-6 text-primary",children:[r.progress,"%"]})]}),a.jsx("div",{className:"progress rounded-3",style:{height:"12px"},children:a.jsx("div",{className:"progress-bar bg-gradient-primary",role:"progressbar",style:{width:`${Math.min(r.progress,100)}%`},"aria-valuenow":r.progress,"aria-valuemin":"0","aria-valuemax":"100"})})]}),a.jsxs("div",{className:"row text-center g-3 mb-4",children:[a.jsx("div",{className:"col-4",children:a.jsxs("div",{className:"border-end border-2",children:[a.jsx("div",{className:"text-muted small mb-1",children:"Ayat"}),a.jsxs("div",{className:"fw-bold text-success",children:[r.completed,"/",r.verses]})]})}),a.jsx("div",{className:"col-4",children:a.jsxs("div",{className:"border-end border-2",children:[a.jsx("div",{className:"text-muted small mb-1",children:"Baris"}),a.jsxs("div",{className:"fw-bold text-success",children:[r.completed_lines,"/",r.lines]})]})}),a.jsxs("div",{className:"col-4",children:[a.jsx("div",{className:"text-muted small mb-1",children:"Sisa"}),a.jsxs("div",{className:"fw-bold text-danger",children:[r.uncompleted," ayat"]})]})]}),r.surah&&r.surah.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("button",{className:"btn btn-outline-primary w-100 rounded-3 py-2 fw-medium",onClick:()=>(s=>{f((e=>({...e,[s]:!e[s]})))})(i),children:[c?a.jsx(h,{className:"me-2"}):a.jsx(o,{className:"me-2"}),c?"Sembunyikan":"Lihat"," ","Surah (",r.surah.length,")"]}),c&&a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:"list-group list-group-flush border-0",children:r.surah.map(((s,e)=>a.jsx("div",{className:"list-group-item px-0 py-2 border-0 bg-transparent",children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx(n,{className:"text-primary me-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"fw-medium",children:s.surah_name}),a.jsxs("div",{className:"text-muted small",children:["Ayat ",s.verse,", Baris ",s.line]})]})]})},e)))})})]})]})]})]})]})},l)}))})})]},e))),w.exceed&&w.exceed.length>0&&a.jsxs("div",{className:"card border-0 shadow-sm",children:[a.jsx("div",{className:"card-header bg-white border-0 py-3",children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"bg-success bg-opacity-10 rounded-circle p-2 me-3",children:a.jsx(j,{className:"text-success fs-4"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"mb-1 fw-bold text-success",children:"Hafalan yang melebihi target"}),a.jsx("p",{className:"mb-0 text-muted",children:"Prestasi luar biasa dalam hafalan"})]})]})}),a.jsx("div",{className:"card-body p-4",children:a.jsx("div",{className:"row g-4",children:w.exceed.map(((s,e)=>a.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:a.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[a.jsx("div",{className:"card-header bg-success text-white border-0 py-3",children:a.jsxs("h5",{className:"card-title mb-0 fw-bold",children:[a.jsx(N,{className:"me-2"}),s.juz]})}),a.jsxs("div",{className:"card-body p-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[a.jsx("span",{className:"text-muted small fw-medium",children:"Progress"}),a.jsxs("span",{className:"fw-bold fs-6 text-success",children:[s.progress,"%"]})]}),a.jsx("div",{className:"progress rounded-3",style:{height:"12px"},children:a.jsx("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:`${Math.min(s.progress,100)}%`},"aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})})]}),a.jsxs("div",{className:"row text-center g-3 mb-4",children:[a.jsx("div",{className:"col-4",children:a.jsxs("div",{className:"border-end border-2",children:[a.jsx("div",{className:"text-muted small mb-1",children:"Ayat"}),a.jsxs("div",{className:"fw-bold text-success",children:[s.completed,"/",s.verses]})]})}),a.jsx("div",{className:"col-4",children:a.jsxs("div",{className:"border-end border-2",children:[a.jsx("div",{className:"text-muted small mb-1",children:"Baris"}),a.jsxs("div",{className:"fw-bold text-success",children:[s.completed_lines,"/",s.lines]})]})}),a.jsxs("div",{className:"col-4",children:[a.jsx("div",{className:"text-muted small mb-1",children:"Sisa"}),a.jsxs("div",{className:"fw-bold text-danger",children:[s.uncompleted," ayat"]})]})]}),s.surah&&s.surah.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("h6",{className:"text-muted mb-3 fw-semibold",children:[a.jsx(n,{className:"me-2"}),"Surah yang dipelajari:"]}),a.jsx("div",{className:"list-group list-group-flush border-0",children:s.surah.map(((s,e)=>a.jsx("div",{className:"list-group-item px-0 py-2 border-0 bg-transparent",children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx(n,{className:"text-success me-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"fw-medium",children:s.surah_name}),a.jsxs("div",{className:"text-muted small",children:["Ayat ",s.verse,", Baris ",s.line]})]})]})},e)))})]})]})]})},e)))})})]})]})}):a.jsx(d,{title:"Laporan Tahfiz",levels:["parent"],children:a.jsx("div",{className:"container-fluid",children:a.jsxs("div",{className:"alert alert-danger d-flex align-items-center border-0 shadow-sm",role:"alert",children:[a.jsx(i,{className:"fs-4 me-3 text-danger"}),a.jsxs("div",{children:[a.jsx("h6",{className:"alert-heading mb-1",children:"Tidak ada data laporan tahfiz"}),a.jsx("p",{className:"mb-0 text-muted",children:"Data laporan tahfiz belum tersedia untuk saat ini."})]})]})})})};export{v as default};
//# sourceMappingURL=ParentTahfiz-8-fVznse.js.map
