import{j as e,co as s,cp as a}from"./index-D4suB52Y.js";import{b as l}from"./vendor-DfXzdC0j.js";import{L as i}from"./Layout-BF5xJDXE.js";import"./index-B7S6EUYi.js";import"./index-CfipfJX0.js";import"./index-C_apZLkF.js";const c=({subject:s,getGradeColor:a,getGradeLetter:l})=>{const i=e=>({__html:e}),c=(e,s)=>e&&null!==e[s]&&void 0!==e[s],{subject_name:d,teacher_name:r,attitude:m,formative:t,summative:n,attendance:x,chapter:h}=s;return e.jsxs("div",{className:"card border-secondary shadow-sm",children:[e.jsx("div",{className:"card-header bg-secondary text-white",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsxs("div",{className:"col-md-8",children:[e.jsxs("h5",{className:"mb-1",children:[e.jsx("i",{className:"bi bi-book me-2"}),d]}),e.jsxs("p",{className:"mb-0",children:[e.jsx("i",{className:"bi bi-person me-1"}),"Guru: ",r||"Belum ditentukan"]})]}),e.jsx("div",{className:"col-md-4 text-md-end",children:s.subject_cover&&e.jsx("img",{src:s.subject_cover,alt:d,className:"rounded",style:{width:"60px",height:"60px",objectFit:"cover"}})})]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-4",children:e.jsxs("div",{className:"card border-primary h-100",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"bi bi-heart me-2"}),"Nilai Sikap"]})}),e.jsx("div",{className:"card-body",children:m?e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6 mb-2",children:[e.jsx("small",{className:"text-muted",children:"Kinerja"}),e.jsx("div",{className:`h5 mb-0 ${a(m.kinerja)}`,children:m.kinerja||"-"})]}),e.jsxs("div",{className:"col-6 mb-2",children:[e.jsx("small",{className:"text-muted",children:"Kedisiplinan"}),e.jsx("div",{className:`h5 mb-0 ${a(m.kedisiplinan)}`,children:m.kedisiplinan||"-"})]}),e.jsxs("div",{className:"col-6 mb-2",children:[e.jsx("small",{className:"text-muted",children:"Keaktifan"}),e.jsx("div",{className:`h5 mb-0 ${a(m.keaktifan)}`,children:m.keaktifan||"-"})]}),e.jsxs("div",{className:"col-6 mb-2",children:[e.jsx("small",{className:"text-muted",children:"Percaya Diri"}),e.jsx("div",{className:`h5 mb-0 ${a(m.percaya_diri)}`,children:m.percaya_diri||"-"})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("small",{className:"text-muted",children:"Rata-rata"}),e.jsx("div",{className:`h4 mb-0 ${a(m.rata_rata)}`,children:m.rata_rata?`${m.rata_rata} (${o=m.rata_rata,o?o>=90?"A":o>=80?"B":"C":"-"})`:"-"})]})]}):e.jsxs("div",{className:"text-center text-muted py-3",children:[e.jsx("i",{className:"bi bi-dash-circle display-6"}),e.jsx("p",{className:"mb-0",children:"Data sikap belum tersedia"})]})})]})}),e.jsx("div",{className:"col-md-6 mb-4",children:e.jsxs("div",{className:"card border-info h-100",children:[e.jsx("div",{className:"card-header bg-info text-white",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"bi bi-calendar-check me-2"}),"Kehadiran"]})}),e.jsx("div",{className:"card-body",children:x?e.jsxs("div",{className:"row text-center",children:[e.jsx("div",{className:"col-3 mb-2",children:e.jsxs("div",{className:"border rounded p-2",children:[e.jsx("div",{className:"h5 text-success mb-0",children:x.hadir||0}),e.jsx("small",{className:"text-muted",children:"Hadir"})]})}),e.jsx("div",{className:"col-3 mb-2",children:e.jsxs("div",{className:"border rounded p-2",children:[e.jsx("div",{className:"h5 text-warning mb-0",children:x.sakit||0}),e.jsx("small",{className:"text-muted",children:"Sakit"})]})}),e.jsx("div",{className:"col-3 mb-2",children:e.jsxs("div",{className:"border rounded p-2",children:[e.jsx("div",{className:"h5 text-info mb-0",children:x.ijin||0}),e.jsx("small",{className:"text-muted",children:"Ijin"})]})}),e.jsx("div",{className:"col-3 mb-2",children:e.jsxs("div",{className:"border rounded p-2",children:[e.jsx("div",{className:"h5 text-danger mb-0",children:x.alpa||0}),e.jsx("small",{className:"text-muted",children:"Alpa"})]})}),e.jsxs("div",{className:"col-12",children:[e.jsx("div",{className:"progress mt-2",children:e.jsx("div",{className:"progress-bar bg-success",style:{width:(x.total>0?x.hadir/x.total*100:0)+"%"}})}),e.jsxs("small",{className:"text-muted",children:["Kehadiran:"," ",x.total>0?Math.round(x.hadir/x.total*100):0,"%"]})]})]}):e.jsxs("div",{className:"text-center text-muted py-3",children:[e.jsx("i",{className:"bi bi-dash-circle display-6"}),e.jsx("p",{className:"mb-0",children:"Data kehadiran belum tersedia"})]})})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-4",children:e.jsxs("div",{className:"card border-warning",children:[e.jsx("div",{className:"card-header bg-warning text-dark",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"bi bi-pencil-square me-2"}),"Nilai Formatif"]})}),e.jsx("div",{className:"card-body",children:t?[1,2,3,4,5,6,7,8].some((e=>c(t,`f_${e}`)))?e.jsxs("div",{className:"row",children:[[1,2,3,4,5,6,7,8].map((s=>{const l=`f_${s}`;return c(t,l)?e.jsxs("div",{className:"col-3 mb-2",children:[e.jsxs("small",{className:"text-muted",children:["F_",s]}),e.jsx("div",{className:`h6 mb-0 ${a(t[l])}`,children:t[l]})]},s):null})),e.jsxs("div",{className:"col-12 mt-2",children:[e.jsx("hr",{}),e.jsx("small",{className:"text-muted",children:"Rata-rata"}),e.jsx("div",{className:`h5 mb-0 ${a(t.rata_rata)}`,children:t.rata_rata?t.rata_rata:"-"})]})]}):e.jsxs("div",{className:"text-center text-muted py-3",children:[e.jsx("i",{className:"bi bi-dash-circle display-6"}),e.jsx("p",{className:"mb-0",children:"Belum ada nilai formatif"})]}):e.jsxs("div",{className:"text-center text-muted py-3",children:[e.jsx("i",{className:"bi bi-dash-circle display-6"}),e.jsx("p",{className:"mb-0",children:"Data formatif belum tersedia"})]})})]})}),e.jsx("div",{className:"col-md-6 mb-4",children:e.jsxs("div",{className:"card border-success",children:[e.jsx("div",{className:"card-header bg-success text-white",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"bi bi-star me-2"}),"Nilai Sumatif"]})}),e.jsx("div",{className:"card-body",children:n?e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6 mb-2",children:[e.jsx("small",{className:"text-muted",children:"Tes Lisan"}),e.jsx("div",{className:`h5 mb-0 ${a(n.oral)}`,children:n.oral||"-"})]}),e.jsxs("div",{className:"col-6 mb-2",children:[e.jsx("small",{className:"text-muted",children:"Tes Tulis"}),e.jsx("div",{className:`h5 mb-0 ${a(n.written)}`,children:n.written||"-"})]}),e.jsxs("div",{className:"col-6 mb-2",children:[e.jsx("small",{className:"text-muted",children:"Proyek"}),e.jsx("div",{className:`h5 mb-0 ${a(n.project)}`,children:n.project||"-"})]}),e.jsxs("div",{className:"col-6 mb-2",children:[e.jsx("small",{className:"text-muted",children:"Penampilan"}),e.jsx("div",{className:`h5 mb-0 ${a(n.performace)}`,children:n.performace||"-"})]}),e.jsxs("div",{className:"col-12 mt-2",children:[e.jsx("hr",{}),e.jsx("small",{className:"text-muted",children:"Rata-rata"}),e.jsx("div",{className:`h5 mb-0 ${a(n.rata_rata)}`,children:n.rata_rata?n.rata_rata:"-"})]})]}):e.jsxs("div",{className:"text-center text-muted py-3",children:[e.jsx("i",{className:"bi bi-dash-circle display-6"}),e.jsx("p",{className:"mb-0",children:"Data sumatif belum tersedia"})]})})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"card border-secondary",children:[e.jsx("div",{className:"card-header bg-secondary text-white",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"bi bi-journal-text me-2"}),"Topik Materi"]})}),e.jsx("div",{className:"card-body",children:h&&h.topic?e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 fw-bold",children:h.topic}),h.target_description&&e.jsx("small",{className:"text-muted",dangerouslySetInnerHTML:i(h.target_description)})]}):e.jsx("p",{className:"text-muted mb-0",children:"Topik materi belum ditentukan"})})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"card border-dark",children:[e.jsx("div",{className:"card-header bg-dark text-white",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"bi bi-chat-text me-2"}),"Catatan Guru"]})}),e.jsx("div",{className:"card-body",children:m&&m.catatan_guru?e.jsx("p",{className:"mb-0 fst-italic",dangerouslySetInnerHTML:i(m.catatan_guru)}):e.jsx("p",{className:"text-muted mb-0",children:"Belum ada catatan dari guru"})})]})})]})]})]});var o},d=({report:s,loading:a,error:l,selectedMonth:i,selectedSemester:d})=>{const r=e=>e?e>=90?"text-success":e>=80?"text-primary":"text-danger":"text-muted",m=e=>e?e>=90?"A":e>=80?"B":"C":"-";if(a)return e.jsx("div",{className:"card shadow-sm",children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("p",{className:"mt-3 text-muted",children:"Memuat laporan akademik..."})]})});if(l)return e.jsx("div",{className:"card shadow-sm",children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsx("i",{className:"bi bi-exclamation-triangle display-1 text-danger mb-3"}),e.jsx("h4",{className:"text-danger",children:"Terjadi Kesalahan"}),e.jsx("p",{className:"text-muted",children:"Gagal memuat laporan akademik. Silakan coba lagi."})]})});if(!s)return e.jsx("div",{className:"card shadow-sm",children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsx("i",{className:"bi bi-file-earmark-x display-1 text-muted mb-3"}),e.jsx("h4",{className:"text-muted",children:"Data Tidak Ditemukan"}),e.jsx("p",{className:"text-muted",children:"Tidak ada data laporan untuk periode yang dipilih."})]})});const{report_period:t,subjects:n}=s;return e.jsxs("div",{className:"card shadow-sm",children:[e.jsx("div",{className:"card-header bg-success text-white",children:e.jsx("div",{className:"row align-items-center",children:e.jsxs("div",{className:"col-md-8",children:[e.jsxs("h4",{className:"mb-1",children:[e.jsx("i",{className:"bi bi-file-earmark-text me-2"}),"LAPORAN BULANAN"]}),e.jsxs("p",{className:"mb-0",children:[i," - Semester ",d," | Tahun Ajaran"," ",t.academic_year]})]})})}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("h5",{className:"mb-3",children:[e.jsx("i",{className:"bi bi-book me-2"}),"Laporan Mata Pelajaran"]})})}),n&&n.length>0?e.jsx("div",{className:"row",children:n.map(((s,a)=>e.jsx("div",{className:"col-12 mb-4",children:e.jsx(c,{subject:s,getGradeColor:r,getGradeLetter:m})},a)))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"bi bi-book display-1 text-muted mb-3"}),e.jsx("h5",{className:"text-muted",children:"Belum Ada Data Mata Pelajaran"}),e.jsx("p",{className:"text-muted",children:"Data penilaian mata pelajaran belum tersedia untuk periode ini."})]}),e.jsx("div",{className:"row mt-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-info",children:[e.jsx("div",{className:"card-header bg-info text-white",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"bi bi-info-circle me-2"}),"Skala Penilaian"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row text-center",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("h4",{className:"text-success mb-1",children:"A"}),e.jsx("p",{className:"mb-0",children:"90 - 99"}),e.jsx("small",{className:"text-muted",children:"Sangat Baik"})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("h4",{className:"text-primary mb-1",children:"B"}),e.jsx("p",{className:"mb-0",children:"80 - 89"}),e.jsx("small",{className:"text-muted",children:"Baik"})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("h4",{className:"text-danger mb-1",children:"C"}),e.jsx("p",{className:"mb-0",children:"< 80"}),e.jsx("small",{className:"text-muted",children:"Cukup"})]})})]})})]})})})]})]})},r=({availableMonths:s,loading:a,onMonthSelect:i,selectedMonth:c,selectedSemester:d})=>{const[r,m]=l.useState(c),[t,n]=l.useState(d);l.useEffect((()=>{m(c)}),[c]),l.useEffect((()=>{n(d)}),[d]);if(a)return e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("p",{className:"mt-2 text-muted",children:"Memuat data periode..."})]});const x=s||[],h=x.length>0;return e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsxs("label",{htmlFor:"monthSelect",className:"form-label fw-bold",children:[e.jsx("i",{className:"bi bi-calendar-month me-2"}),"Bulan"]}),e.jsxs("select",{id:"monthSelect",className:"form-select",value:r,onChange:e=>{const s=e.target.value;m(s),s&&t&&i(s,t)},children:[e.jsx("option",{value:"",children:"Pilih Bulan"}),[{name:"Januari",value:"Januari"},{name:"Februari",value:"Februari"},{name:"Maret",value:"Maret"},{name:"April",value:"April"},{name:"Mei",value:"Mei"},{name:"Juni",value:"Juni"},{name:"Juli",value:"Juli"},{name:"Agustus",value:"Agustus"},{name:"September",value:"September"},{name:"Oktober",value:"Oktober"},{name:"November",value:"November"},{name:"Desember",value:"Desember"}].map((s=>e.jsx("option",{value:s.value,children:s.name},s.value)))]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsxs("label",{htmlFor:"semesterSelect",className:"form-label fw-bold",children:[e.jsx("i",{className:"bi bi-calendar-range me-2"}),"Semester"]}),e.jsxs("select",{id:"semesterSelect",className:"form-select",value:t,onChange:e=>{const s=e.target.value?parseInt(e.target.value):"";n(s),s&&r&&i(r,s)},children:[e.jsx("option",{value:"",children:"Pilih Semester"}),[{name:"Semester 1",value:1},{name:"Semester 2",value:2}].map((s=>e.jsx("option",{value:s.value,children:s.name},s.value)))]})]}),h&&e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"alert alert-info",children:[e.jsxs("h6",{className:"alert-heading",children:[e.jsx("i",{className:"bi bi-info-circle me-2"}),"Periode Tersedia:"]}),e.jsx("div",{className:"row",children:x.map(((s,a)=>e.jsx("div",{className:"col-md-3 col-sm-6 mb-2",children:e.jsxs("button",{className:"btn btn-sm "+(r===s.month&&t===parseInt(s.semester)?"btn-primary":"btn-outline-primary"),onClick:()=>{const e=parseInt(s.semester);m(s.month),n(e),i(s.month,e)},children:[s.month," - Semester ",s.semester]})},a)))})]})}),!h&&e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Belum ada data laporan tersedia. Silakan hubungi guru untuk informasi lebih lanjut."]})})]})},m=()=>{const[c,m]=l.useState(""),[t,n]=l.useState(""),{data:x,isLoading:h}=s(),{data:o,isLoading:j,error:N}=a({month:c,semester:t},{skip:!c||!t});return e.jsx(i,{levels:["parent"],title:"Laporan Akademik",children:e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"alert alert-primary d-flex align-items-center mb-4",children:[e.jsx("i",{className:"bi bi-info-circle fs-5 me-2"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Informasi Laporan:"}),e.jsx("br",{}),e.jsx("small",{children:"Pembaruan laporan dapat dilihat tanggal 10 disetiap bulan"})]})]}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card shadow-sm",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"bi bi-calendar-event me-2"}),"Pilih Periode Laporan"]})}),e.jsx("div",{className:"card-body",children:e.jsx(r,{availableMonths:x,loading:h,onMonthSelect:(e,s)=>{m(e),n(s)},selectedMonth:c,selectedSemester:t})})]})})}),c&&t&&e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(d,{report:o,loading:j,error:N,selectedMonth:c,selectedSemester:t})})}),(!c||!t)&&e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card shadow-sm",children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsx("i",{className:"bi bi-file-earmark-text display-1 text-muted mb-3"}),e.jsx("h4",{className:"text-muted",children:"Pilih Periode Laporan"}),e.jsx("p",{className:"text-muted",children:"Silakan pilih bulan dan semester untuk melihat laporan akademik anak Anda"})]})})})})]})})};export{m as default};
//# sourceMappingURL=ParentAcademinc-QCmvjpHd.js.map
