{"version":3,"file":"TeacherPresensi-CsvJvvyk.js","sources":["../../src/page/teacher/presensi/TableData.jsx","../../src/page/teacher/presensi/AttendanceSummary.jsx","../../src/page/teacher/presensi/AttendanceHistory.jsx","../../src/page/teacher/presensi/TeacherPresensi.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Table from \"../../../components/table/Table\";\r\nimport { useGetStudentsInClassQuery } from \"../../../controller/api/admin/ApiClass\";\r\nimport {\r\n  useGetPresensiQuery,\r\n  useAddPresensiMutation,\r\n  useGetAttendanceDatesQuery,\r\n} from \"../../../controller/api/lms/ApiPresensi\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nconst TableData = ({ classid, subjectid }) => {\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [selectedDate, setSelectedDate] = useState(\r\n    new Date().toISOString().split(\"T\")[0]\r\n  );\r\n\r\n  const { data, isLoading } = useGetStudentsInClassQuery(\r\n    {\r\n      page,\r\n      limit,\r\n      search,\r\n      classid,\r\n    },\r\n    { skip: !classid }\r\n  );\r\n\r\n  const { data: presensiData } = useGetPresensiQuery(\r\n    { classid, subjectid, date: selectedDate },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const { data: attendanceDates } = useGetAttendanceDatesQuery(\r\n    { classid, subjectid },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const [addPresensi] = useAddPresensiMutation();\r\n\r\n  const { students, totalData, totalPages } = data || {};\r\n\r\n  const handleCheck = async ({ studentid, note, checked }) => {\r\n    if (!checked) {\r\n      // If unchecking, we don't send the request (attendance remains as is)\r\n      return;\r\n    }\r\n\r\n    const data = { classid, subjectid, studentid, note, date: selectedDate };\r\n\r\n    toast.promise(\r\n      addPresensi(data)\r\n        .unwrap()\r\n        .then((res) => res.message),\r\n      {\r\n        loading: \"Memproses...\",\r\n        success: (message) => message,\r\n        error: (error) => error.data?.message || \"Terjadi kesalahan\",\r\n      }\r\n    );\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(\"id-ID\", {\r\n      weekday: \"long\",\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!classid || !subjectid ? (\r\n        <div className=\"text-center py-5 empty-state\">\r\n          <div className=\"mb-3\">\r\n            <i className=\"bi bi-clipboard2-check display-1 text-muted\"></i>\r\n          </div>\r\n          <h5 className=\"fw-bold text-muted mb-2\">Pilih Data Presensi</h5>\r\n          <p className=\"text-muted mb-0\">\r\n            Silakan pilih mata pelajaran dan kelas terlebih dahulu\r\n          </p>\r\n        </div>\r\n      ) : !students ? (\r\n        <div className=\"text-center py-5 empty-state\">\r\n          <div className=\"mb-3\">\r\n            <i className=\"bi bi-people display-1 text-muted\"></i>\r\n          </div>\r\n          <h5 className=\"fw-bold text-muted mb-2\">Data Siswa Tidak Tersedia</h5>\r\n          <p className=\"text-muted mb-0\">\r\n            Tidak ada data siswa yang ditemukan untuk kelas ini\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Date Selection */}\r\n          <div className=\"card mb-4\">\r\n            <div className=\"card-body\">\r\n              <div className=\"row align-items-center\">\r\n                <div className=\"col-md-6\">\r\n                  <label className=\"form-label fw-bold\">\r\n                    <i className=\"bi bi-calendar-date me-2\"></i>\r\n                    Tanggal Presensi:\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"form-control\"\r\n                    value={selectedDate}\r\n                    onChange={(e) => setSelectedDate(e.target.value)}\r\n                    max={new Date().toISOString().split(\"T\")[0]}\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <label className=\"form-label fw-bold\">\r\n                    <i className=\"bi bi-calendar-check me-2\"></i>\r\n                    Riwayat Tanggal:\r\n                  </label>\r\n                  <select\r\n                    className=\"form-select\"\r\n                    onChange={(e) =>\r\n                      e.target.value && setSelectedDate(e.target.value)\r\n                    }\r\n                    value=\"\"\r\n                  >\r\n                    <option value=\"\">Pilih tanggal sebelumnya</option>\r\n                    {attendanceDates?.map((dateObj) => (\r\n                      <option key={dateObj.date} value={dateObj.date}>\r\n                        {formatDate(dateObj.date)}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-2\">\r\n                <small className=\"text-muted\">\r\n                  <i className=\"bi bi-info-circle me-1\"></i>\r\n                  Menampilkan presensi untuk:{\" \"}\r\n                  <strong>{formatDate(selectedDate)}</strong>\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <Table\r\n            isLoading={isLoading}\r\n            page={page}\r\n            setPage={setPage}\r\n            limit={limit}\r\n            setLimit={setLimit}\r\n            setSearch={setSearch}\r\n            totalData={totalData}\r\n            totalPages={totalPages}\r\n          >\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-hover align-middle\">\r\n                <thead className=\"bg-primary text-white\">\r\n                  <tr>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"5%\" }}\r\n                    >\r\n                      No\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"10%\" }}\r\n                    >\r\n                      NIS\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"25%\" }}\r\n                    >\r\n                      Nama\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"10%\" }}\r\n                    >\r\n                      Tingkat\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"15%\" }}\r\n                    >\r\n                      Kelas\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"10%\" }}\r\n                    >\r\n                      <i className=\"bi bi-check-circle\"></i>\r\n                      <div className=\"small\">Hadir</div>\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"10%\" }}\r\n                    >\r\n                      <i className=\"bi bi-heart-pulse\"></i>\r\n                      <div className=\"small\">Sakit</div>\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"10%\" }}\r\n                    >\r\n                      <i className=\"bi bi-envelope-paper\"></i>\r\n                      <div className=\"small\">Izin</div>\r\n                    </th>\r\n                    <th\r\n                      className=\"align-middle text-center\"\r\n                      style={{ width: \"10%\" }}\r\n                    >\r\n                      <i className=\"bi bi-x-circle\"></i>\r\n                      <div className=\"small\">Alpa</div>\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {students.map((student, index) => {\r\n                    const studentAttendance = presensiData?.find(\r\n                      (item) => item.studentid === student.student\r\n                    );\r\n\r\n                    return (\r\n                      <tr key={student.id} className=\"attendance-change\">\r\n                        <td className=\"text-center align-middle\">\r\n                          {(page - 1) * limit + index + 1}\r\n                        </td>\r\n                        <td className=\"text-center align-middle\">\r\n                          {student.nis}\r\n                        </td>\r\n                        <td className=\"align-middle fw-bold\">\r\n                          {student.student_name}\r\n                        </td>\r\n                        <td className=\"text-center align-middle\">\r\n                          {student.grade_name}\r\n                        </td>\r\n                        <td className=\"text-center align-middle\">\r\n                          {student.class_name}\r\n                        </td>\r\n                        <td className=\"text-center align-middle\">\r\n                          <div className=\"form-check d-flex justify-content-center\">\r\n                            <input\r\n                              className=\"form-check-input border-success\"\r\n                              type=\"radio\"\r\n                              name={`attendance-${student.student}`}\r\n                              style={{ width: \"1.5em\", height: \"1.5em\" }}\r\n                              checked={studentAttendance?.note === \"Hadir\"}\r\n                              onChange={(e) => {\r\n                                handleCheck({\r\n                                  studentid: student.student,\r\n                                  note: \"Hadir\",\r\n                                  checked: e.target.checked,\r\n                                });\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </td>\r\n\r\n                        <td className=\"text-center align-middle\">\r\n                          <div className=\"form-check d-flex justify-content-center\">\r\n                            <input\r\n                              className=\"form-check-input border-primary\"\r\n                              type=\"radio\"\r\n                              name={`attendance-${student.student}`}\r\n                              style={{ width: \"1.5em\", height: \"1.5em\" }}\r\n                              checked={studentAttendance?.note === \"Sakit\"}\r\n                              onChange={(e) => {\r\n                                handleCheck({\r\n                                  studentid: student.student,\r\n                                  note: \"Sakit\",\r\n                                  checked: e.target.checked,\r\n                                });\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </td>\r\n\r\n                        <td className=\"text-center align-middle\">\r\n                          <div className=\"form-check d-flex justify-content-center\">\r\n                            <input\r\n                              className=\"form-check-input border-info\"\r\n                              type=\"radio\"\r\n                              name={`attendance-${student.student}`}\r\n                              style={{ width: \"1.5em\", height: \"1.5em\" }}\r\n                              checked={studentAttendance?.note === \"Izin\"}\r\n                              onChange={(e) => {\r\n                                handleCheck({\r\n                                  studentid: student.student,\r\n                                  note: \"Izin\",\r\n                                  checked: e.target.checked,\r\n                                });\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"text-center align-middle\">\r\n                          <div className=\"form-check d-flex justify-content-center\">\r\n                            <input\r\n                              className=\"form-check-input border-danger\"\r\n                              type=\"radio\"\r\n                              name={`attendance-${student.student}`}\r\n                              style={{ width: \"1.5em\", height: \"1.5em\" }}\r\n                              checked={studentAttendance?.note === \"Alpa\"}\r\n                              onChange={(e) => {\r\n                                handleCheck({\r\n                                  studentid: student.student,\r\n                                  note: \"Alpa\",\r\n                                  checked: e.target.checked,\r\n                                });\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </Table>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TableData;\r\n","import React, { useState } from \"react\";\r\nimport { useGetPresensiSummaryQuery } from \"../../../controller/api/lms/ApiPresensi\";\r\nimport LoadingScreen from \"../../../components/loader/LoadingScreen\";\r\n\r\nconst AttendanceSummary = ({ classid, subjectid }) => {\r\n  const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth() + 1);\r\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\r\n\r\n  const { data: summaryData, isLoading } = useGetPresensiSummaryQuery(\r\n    {\r\n      classid,\r\n      subjectid,\r\n      month: selectedMonth,\r\n      year: selectedYear,\r\n    },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const months = [\r\n    \"Januari\",\r\n    \"Februari\",\r\n    \"Maret\",\r\n    \"April\",\r\n    \"Mei\",\r\n    \"Juni\",\r\n    \"Juli\",\r\n    \"Agustus\",\r\n    \"September\",\r\n    \"Oktober\",\r\n    \"November\",\r\n    \"Desember\",\r\n  ];\r\n\r\n  const years = Array.from(\r\n    { length: 5 },\r\n    (_, i) => new Date().getFullYear() - 2 + i\r\n  );\r\n\r\n  if (!classid || !subjectid) {\r\n    return (\r\n      <div className=\"text-center py-5 empty-state\">\r\n        <div className=\"mb-3\">\r\n          <i className=\"bi bi-calendar-check display-1 text-muted\"></i>\r\n        </div>\r\n        <h5 className=\"fw-bold text-muted mb-2\">Pilih Data Presensi</h5>\r\n        <p className=\"text-muted mb-0\">\r\n          Silakan pilih mata pelajaran dan kelas terlebih dahulu\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isLoading) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header bg-primary text-white\">\r\n        <h5 className=\"card-title mb-0\">\r\n          <i className=\"bi bi-calendar-month me-2\"></i>\r\n          Rangkuman Presensi Bulanan\r\n        </h5>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row mb-3\">\r\n          <div className=\"col-md-6\">\r\n            <label className=\"form-label fw-bold\">Bulan:</label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={selectedMonth}\r\n              onChange={(e) => setSelectedMonth(parseInt(e.target.value))}\r\n            >\r\n              {months.map((month, index) => (\r\n                <option key={index + 1} value={index + 1}>\r\n                  {month}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <label className=\"form-label fw-bold\">Tahun:</label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={selectedYear}\r\n              onChange={(e) => setSelectedYear(parseInt(e.target.value))}\r\n            >\r\n              {years.map((year) => (\r\n                <option key={year} value={year}>\r\n                  {year}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {summaryData && summaryData.length > 0 ? (\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-hover table-striped\">\r\n              <thead className=\"table-dark\">\r\n                <tr>\r\n                  <th className=\"text-center\" style={{ width: \"5%\" }}>\r\n                    No\r\n                  </th>\r\n                  <th style={{ width: \"10%\" }}>NIS</th>\r\n                  <th style={{ width: \"35%\" }}>Nama Siswa</th>\r\n                  <th className=\"text-center\" style={{ width: \"12%\" }}>\r\n                    <i className=\"bi bi-check-circle text-success me-1\"></i>\r\n                    Hadir\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"12%\" }}>\r\n                    <i className=\"bi bi-heart-pulse text-primary me-1\"></i>\r\n                    Sakit\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"12%\" }}>\r\n                    <i className=\"bi bi-envelope-paper text-info me-1\"></i>\r\n                    Izin\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"12%\" }}>\r\n                    <i className=\"bi bi-x-circle text-danger me-1\"></i>\r\n                    Alpa\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"12%\" }}>\r\n                    <i className=\"bi bi-percent text-warning me-1\"></i>\r\n                    Kehadiran\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {summaryData.map((student, index) => {\r\n                  const totalDays =\r\n                    student.hadir + student.sakit + student.izin + student.alpa;\r\n                  const attendanceRate =\r\n                    totalDays > 0\r\n                      ? ((student.hadir / totalDays) * 100).toFixed(1)\r\n                      : 0;\r\n\r\n                  return (\r\n                    <tr key={student.studentid} className=\"attendance-change\">\r\n                      <td className=\"text-center align-middle\">{index + 1}</td>\r\n                      <td className=\"align-middle\">{student.nis}</td>\r\n                      <td className=\"align-middle fw-bold\">\r\n                        {student.student_name}\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span className=\"badge bg-success fs-6\">\r\n                          {student.hadir}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span className=\"badge bg-primary fs-6\">\r\n                          {student.sakit}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span className=\"badge bg-info fs-6\">\r\n                          {student.izin}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span className=\"badge bg-danger fs-6\">\r\n                          {student.alpa}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-center align-middle\">\r\n                        <span\r\n                          className={`badge fs-6 ${\r\n                            attendanceRate >= 90\r\n                              ? \"bg-success\"\r\n                              : attendanceRate >= 80\r\n                              ? \"bg-warning\"\r\n                              : \"bg-danger\"\r\n                          }`}\r\n                        >\r\n                          {attendanceRate}%\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-5 empty-state\">\r\n            <div className=\"mb-3\">\r\n              <i className=\"bi bi-calendar-x display-1 text-muted\"></i>\r\n            </div>\r\n            <h5 className=\"fw-bold text-muted mb-2\">Data Tidak Tersedia</h5>\r\n            <p className=\"text-muted mb-0\">\r\n              Tidak ada data presensi untuk periode yang dipilih\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceSummary;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  useGetPresensiQuery,\r\n  useGetAttendanceDatesQuery,\r\n} from \"../../../controller/api/lms/ApiPresensi\";\r\nimport LoadingScreen from \"../../../components/loader/LoadingScreen\";\r\n\r\nconst AttendanceHistory = ({ classid, subjectid }) => {\r\n  const [selectedDate, setSelectedDate] = useState(\"\");\r\n  const [dateRange, setDateRange] = useState(\"all\");\r\n\r\n  const { data: attendanceDates } = useGetAttendanceDatesQuery(\r\n    { classid, subjectid },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const { data: presensiData, isLoading } = useGetPresensiQuery(\r\n    {\r\n      classid,\r\n      subjectid,\r\n      ...(selectedDate && { date: selectedDate }),\r\n    },\r\n    { skip: !classid || !subjectid }\r\n  );\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(\"id-ID\", {\r\n      weekday: \"long\",\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const getAttendanceIcon = (note) => {\r\n    switch (note) {\r\n      case \"Hadir\":\r\n        return <i className=\"bi bi-check-circle text-success\"></i>;\r\n      case \"Sakit\":\r\n        return <i className=\"bi bi-heart-pulse text-primary\"></i>;\r\n      case \"Izin\":\r\n        return <i className=\"bi bi-envelope-paper text-info\"></i>;\r\n      case \"Alpa\":\r\n        return <i className=\"bi bi-x-circle text-danger\"></i>;\r\n      default:\r\n        return <i className=\"bi bi-question-circle text-muted\"></i>;\r\n    }\r\n  };\r\n\r\n  const getAttendanceBadge = (note) => {\r\n    switch (note) {\r\n      case \"Hadir\":\r\n        return <span className=\"badge bg-success\">{note}</span>;\r\n      case \"Sakit\":\r\n        return <span className=\"badge bg-primary\">{note}</span>;\r\n      case \"Izin\":\r\n        return <span className=\"badge bg-info\">{note}</span>;\r\n      case \"Alpa\":\r\n        return <span className=\"badge bg-danger\">{note}</span>;\r\n      default:\r\n        return (\r\n          <span className=\"badge bg-secondary\">{note || \"Belum Diisi\"}</span>\r\n        );\r\n    }\r\n  };\r\n\r\n  if (!classid || !subjectid) {\r\n    return (\r\n      <div className=\"text-center py-5 empty-state\">\r\n        <div className=\"mb-3\">\r\n          <i className=\"bi bi-clock-history display-1 text-muted\"></i>\r\n        </div>\r\n        <h5 className=\"fw-bold text-muted mb-2\">Pilih Data Presensi</h5>\r\n        <p className=\"text-muted mb-0\">\r\n          Silakan pilih mata pelajaran dan kelas terlebih dahulu\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isLoading) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header bg-info text-white\">\r\n        <h5 className=\"card-title mb-0\">\r\n          <i className=\"bi bi-clock-history me-2\"></i>\r\n          Riwayat Presensi\r\n        </h5>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        {/* Filter Controls */}\r\n        <div className=\"row mb-4\">\r\n          <div className=\"col-md-6\">\r\n            <label className=\"form-label fw-bold\">\r\n              <i className=\"bi bi-calendar-range me-2\"></i>\r\n              Filter Tanggal:\r\n            </label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={dateRange}\r\n              onChange={(e) => {\r\n                setDateRange(e.target.value);\r\n                if (e.target.value === \"all\") {\r\n                  setSelectedDate(\"\");\r\n                } else if (e.target.value === \"today\") {\r\n                  setSelectedDate(new Date().toISOString().split(\"T\")[0]);\r\n                }\r\n              }}\r\n            >\r\n              <option value=\"all\">Semua Tanggal</option>\r\n              <option value=\"today\">Hari Ini</option>\r\n              <option value=\"specific\">Tanggal Tertentu</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <label className=\"form-label fw-bold\">\r\n              <i className=\"bi bi-calendar-date me-2\"></i>\r\n              Pilih Tanggal:\r\n            </label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={selectedDate}\r\n              onChange={(e) => setSelectedDate(e.target.value)}\r\n              disabled={dateRange !== \"specific\"}\r\n            >\r\n              <option value=\"\">Pilih tanggal</option>\r\n              {attendanceDates?.map((dateObj) => (\r\n                <option key={dateObj.date} value={dateObj.date}>\r\n                  {formatDate(dateObj.date)}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Attendance Data */}\r\n        {presensiData && presensiData.length > 0 ? (\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-hover table-striped\">\r\n              <thead className=\"table-dark\">\r\n                <tr>\r\n                  <th className=\"text-center\" style={{ width: \"5%\" }}>\r\n                    No\r\n                  </th>\r\n                  <th style={{ width: \"15%\" }}>Tanggal</th>\r\n                  <th style={{ width: \"10%\" }}>NIS</th>\r\n                  <th style={{ width: \"25%\" }}>Nama Siswa</th>\r\n                  <th className=\"text-center\" style={{ width: \"15%\" }}>\r\n                    Status\r\n                  </th>\r\n                  <th className=\"text-center\" style={{ width: \"10%\" }}>\r\n                    Aksi\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {presensiData.map((attendance, index) => (\r\n                  <tr key={attendance.id} className=\"attendance-change\">\r\n                    <td className=\"text-center align-middle\">{index + 1}</td>\r\n                    <td className=\"align-middle\">\r\n                      <div className=\"fw-bold\">\r\n                        {formatDate(attendance.date)}\r\n                      </div>\r\n                      <small className=\"text-muted\">\r\n                        {new Date(attendance.date).toLocaleDateString(\"id-ID\")}\r\n                      </small>\r\n                    </td>\r\n                    <td className=\"align-middle\">{attendance.nis}</td>\r\n                    <td className=\"align-middle fw-bold\">\r\n                      {attendance.student_name}\r\n                    </td>\r\n                    <td className=\"text-center align-middle\">\r\n                      {getAttendanceBadge(attendance.note)}\r\n                    </td>\r\n                    <td className=\"text-center align-middle\">\r\n                      <button\r\n                        className=\"btn btn-sm btn-outline-primary\"\r\n                        title=\"Lihat Detail\"\r\n                        disabled\r\n                      >\r\n                        <i className=\"bi bi-eye\"></i>\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-5 empty-state\">\r\n            <div className=\"mb-3\">\r\n              <i className=\"bi bi-calendar-x display-1 text-muted\"></i>\r\n            </div>\r\n            <h5 className=\"fw-bold text-muted mb-2\">Data Tidak Tersedia</h5>\r\n            <p className=\"text-muted mb-0\">\r\n              {selectedDate\r\n                ? `Tidak ada data presensi untuk tanggal ${formatDate(\r\n                    selectedDate\r\n                  )}`\r\n                : \"Tidak ada data presensi yang tersedia\"}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceHistory;\r\n","import React, { useState } from \"react\";\r\nimport Layout from \"../../../components/layout/Layout\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Select from \"react-select\";\r\nimport { useGetClassQuery } from \"../../../controller/api/admin/ApiClass\";\r\nimport TableData from \"./TableData\";\r\nimport AttendanceSummary from \"./AttendanceSummary\";\r\nimport AttendanceHistory from \"./AttendanceHistory\";\r\nimport \"./Presensi.css\";\r\n\r\nconst TeacherPresensi = () => {\r\n  const { user } = useSelector((state) => state.auth);\r\n  const { data: classes } = useGetClassQuery({\r\n    page: \"\",\r\n    limit: \"\",\r\n    search: \"\",\r\n  });\r\n\r\n  const [classid, setClassid] = useState(\"\");\r\n  const [subjectid, setSubjectid] = useState(\"\");\r\n  const [activeTab, setActiveTab] = useState(\"daily\");\r\n\r\n  const options = user?.subjects?.map((subject) => ({\r\n    value: subject.id,\r\n    label: subject.name,\r\n  }));\r\n\r\n  const optionsClass = classes?.map((kelas) => ({\r\n    value: kelas.id,\r\n    label: kelas.name,\r\n  }));\r\n\r\n  return (\r\n    <Layout title={\"Presensi Siswa\"} levels={[\"teacher\"]}>\r\n      {/* Filter Section */}\r\n      <div className=\"card mb-4\">\r\n        <div className=\"card-header bg-primary text-white\">\r\n          <h5 className=\"card-title mb-0\">\r\n            <i className=\"bi bi-funnel me-2\"></i>\r\n            Filter Data Presensi\r\n          </h5>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"row g-3\">\r\n            <div className=\"col-12 col-lg-6\">\r\n              <label className=\"form-label fw-bold\">\r\n                <i className=\"bi bi-book me-2\"></i>\r\n                Mata Pelajaran:\r\n              </label>\r\n              <Select\r\n                options={options}\r\n                isSearchable={true}\r\n                placeholder=\"Pilih Mata Pelajaran\"\r\n                onChange={(e) => setSubjectid(e.value)}\r\n                className=\"react-select-container\"\r\n                classNamePrefix=\"react-select\"\r\n                menuPortalTarget={document.body}\r\n                menuPosition=\"fixed\"\r\n                styles={{\r\n                  menuPortal: (base) => ({ ...base, zIndex: 1 }),\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-lg-6\">\r\n              <label className=\"form-label fw-bold\">\r\n                <i className=\"bi bi-people me-2\"></i>\r\n                Kelas:\r\n              </label>\r\n              <Select\r\n                options={optionsClass}\r\n                isSearchable={true}\r\n                placeholder=\"Pilih Kelas\"\r\n                onChange={(e) => setClassid(e.value)}\r\n                className=\"react-select-container\"\r\n                classNamePrefix=\"react-select\"\r\n                menuPortalTarget={document.body}\r\n                menuPosition=\"fixed\"\r\n                styles={{\r\n                  menuPortal: (base) => ({ ...base, zIndex: 1 }),\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      {classid && subjectid && (\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header\">\r\n            <ul className=\"nav nav-tabs card-header-tabs\" role=\"tablist\">\r\n              <li className=\"nav-item\" role=\"presentation\">\r\n                <button\r\n                  className={`nav-link ${\r\n                    activeTab === \"daily\" ? \"active\" : \"\"\r\n                  }`}\r\n                  type=\"button\"\r\n                  role=\"tab\"\r\n                  onClick={() => setActiveTab(\"daily\")}\r\n                >\r\n                  <i className=\"bi bi-calendar-day me-2\"></i>\r\n                  Presensi Harian\r\n                </button>\r\n              </li>\r\n              <li className=\"nav-item\" role=\"presentation\">\r\n                <button\r\n                  className={`nav-link ${\r\n                    activeTab === \"history\" ? \"active\" : \"\"\r\n                  }`}\r\n                  type=\"button\"\r\n                  role=\"tab\"\r\n                  onClick={() => setActiveTab(\"history\")}\r\n                >\r\n                  <i className=\"bi bi-clock-history me-2\"></i>\r\n                  Riwayat Presensi\r\n                </button>\r\n              </li>\r\n              <li className=\"nav-item\" role=\"presentation\">\r\n                <button\r\n                  className={`nav-link ${\r\n                    activeTab === \"summary\" ? \"active\" : \"\"\r\n                  }`}\r\n                  type=\"button\"\r\n                  role=\"tab\"\r\n                  onClick={() => setActiveTab(\"summary\")}\r\n                >\r\n                  <i className=\"bi bi-calendar-month me-2\"></i>\r\n                  Rangkuman Bulanan\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <div className=\"tab-content\">\r\n              <div\r\n                className={`tab-pane fade ${\r\n                  activeTab === \"daily\" ? \"show active\" : \"\"\r\n                }`}\r\n              >\r\n                <TableData classid={classid} subjectid={subjectid} />\r\n              </div>\r\n              <div\r\n                className={`tab-pane fade ${\r\n                  activeTab === \"history\" ? \"show active\" : \"\"\r\n                }`}\r\n              >\r\n                <AttendanceHistory classid={classid} subjectid={subjectid} />\r\n              </div>\r\n              <div\r\n                className={`tab-pane fade ${\r\n                  activeTab === \"summary\" ? \"show active\" : \"\"\r\n                }`}\r\n              >\r\n                <AttendanceSummary classid={classid} subjectid={subjectid} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Empty State */}\r\n      {(!classid || !subjectid) && (\r\n        <div className=\"text-center py-5\">\r\n          <div className=\"mb-3\">\r\n            <i className=\"bi bi-clipboard2-check display-1 text-muted\"></i>\r\n          </div>\r\n          <h5 className=\"fw-bold text-muted mb-2\">Pilih Data Presensi</h5>\r\n          <p className=\"text-muted mb-0\">\r\n            Silakan pilih mata pelajaran dan kelas terlebih dahulu untuk melihat\r\n            data presensi\r\n          </p>\r\n        </div>\r\n      )}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default TeacherPresensi;\r\n"],"names":["TableData","classid","subjectid","page","setPage","useState","limit","setLimit","search","setSearch","selectedDate","setSelectedDate","Date","toISOString","split","data","isLoading","useGetStudentsInClassQuery","skip","presensiData","useGetPresensiQuery","date","attendanceDates","useGetAttendanceDatesQuery","addPresensi","useAddPresensiMutation","students","totalData","totalPages","handleCheck","async","studentid","note","checked","c","promise","unwrap","then","res","message","loading","success","error","_a","formatDate","dateString","toLocaleDateString","weekday","year","month","day","jsx","Fragment","children","jsxs","className","jsxRuntimeExports","type","value","onChange","e","target","max","map","dateObj","Table","style","width","student","index","studentAttendance","find","item","nis","student_name","grade_name","class_name","name","height","id","AttendanceSummary","selectedMonth","setSelectedMonth","getMonth","selectedYear","setSelectedYear","getFullYear","summaryData","useGetPresensiSummaryQuery","years","Array","from","length","_","i","LoadingScreen","parseInt","totalDays","hadir","sakit","izin","alpa","attendanceRate","toFixed","AttendanceHistory","dateRange","setDateRange","getAttendanceBadge","disabled","attendance","title","TeacherPresensi","user","useSelector","state","auth","classes","useGetClassQuery","setClassid","setSubjectid","activeTab","setActiveTab","options","subjects","subject","label","optionsClass","kelas","Layout","levels","Select","isSearchable","placeholder","classNamePrefix","menuPortalTarget","document","body","menuPosition","styles","menuPortal","base","zIndex","role","onClick"],"mappings":"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"}