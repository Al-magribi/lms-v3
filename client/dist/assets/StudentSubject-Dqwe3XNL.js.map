{"version":3,"file":"StudentSubject-Dqwe3XNL.js","sources":["../../src/page/lms/list/ListSubjects.jsx","../../src/page/student/subjects/StudentSubject.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useGetSubjectsOnClassQuery } from \"../../../controller/api/lms/ApiLms\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst ListSubjects = () => {\r\n  const navigate = useNavigate();\r\n  const { user } = useSelector((state) => state.auth);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState(\"\");\r\n\r\n  // Use debounced search term for API calls\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedSearchTerm(searchTerm);\r\n    }, 500); // 500ms delay\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [searchTerm]);\r\n\r\n  const { data, isLoading, isError, error } = useGetSubjectsOnClassQuery(\r\n    { classid: user?.class_id, search: debouncedSearchTerm },\r\n    { skip: !user?.class_id }\r\n  );\r\n\r\n  const goToLink = (name, id) => {\r\n    const formattedName = name.replace(/\\s+/g, \"-\");\r\n    navigate(`/pelajaran/${formattedName}/${id}`);\r\n  };\r\n\r\n  return (\r\n    <div className='d-flex flex-column gap-2'>\r\n      <div className='input-group w-25'>\r\n        <span className='input-group-text bg-secondary text-white'>\r\n          <i className='bi bi-search'></i>\r\n        </span>\r\n        <input\r\n          type='text'\r\n          className='form-control'\r\n          placeholder='Cari mata pelajaran...'\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      <div className='row g-2'>\r\n        {isLoading ? (\r\n          <div className='col-12'>\r\n            <p className='m-0 h5 text-muted'>Memuat data...</p>\r\n          </div>\r\n        ) : data?.length > 0 ? (\r\n          data.map((item) => (\r\n            <div key={item.id} className='col-lg-2 col-md-4 col-6'>\r\n              <div\r\n                className='card shadow pointer'\r\n                onClick={() => goToLink(item.name, item.id)}>\r\n                <div className='card-header text-center bg-primary text-white'>\r\n                  {item.name}\r\n                </div>\r\n                <div className='card-body'>\r\n                  <img\r\n                    src={\r\n                      item.cover\r\n                        ? `${window.location.origin}${item.cover}`\r\n                        : `/logo.png`\r\n                    }\r\n                    alt={item.name}\r\n                    className='w-100 object-fit-contain overflow-hidden'\r\n                    style={{ height: 220 }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className='col-12'>\r\n            <p className='m-0 h5 text-muted'>\r\n              {searchTerm ? (\r\n                <div className='alert alert-danger' role='alert'>\r\n                  <h4 className='alert-heading'>Error!</h4>\r\n                  <p>Mata pelajaran tidak ditemukan</p>\r\n                  <hr />\r\n                  {isError && (\r\n                    <p className='mb-0'>Error details: {error?.message}</p>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div className='alert alert-danger' role='alert'>\r\n                  <h4 className='alert-heading'>Error!</h4>\r\n                  <p>Data belum tersedia</p>\r\n                  <hr />\r\n                  {isError && (\r\n                    <p className='mb-0'>Error details: {error?.message}</p>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListSubjects;\r\n","import React from \"react\";\r\nimport Layout from \"../../../components/layout/Layout\";\r\nimport ListSubjects from \"../../lms/list/ListSubjects\";\r\n\r\nconst StudentSubject = () => {\r\n  return (\r\n    <Layout title={\"Daftar Pelajaran\"} levels={[\"student\"]}>\r\n      <ListSubjects />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default StudentSubject;\r\n"],"names":["ListSubjects","navigate","useNavigate","user","useSelector","state","auth","searchTerm","setSearchTerm","useState","debouncedSearchTerm","setDebouncedSearchTerm","useEffect","timer","setTimeout","clearTimeout","data","isLoading","isError","error","useGetSubjectsOnClassQuery","classid","class_id","search","skip","jsxs","className","children","jsx","jsxRuntimeExports","type","placeholder","value","onChange","e","target","length","map","item","onClick","name","id","formattedName","replace","goToLink","src","cover","window","location","origin","alt","style","height","role","message","StudentSubject","Layout","title","levels"],"mappings":"wMAKA,MAAMA,EAAe,KACnB,MAAMC,EAAWC,KACXC,KAAEA,GAASC,GAAaC,GAAUA,EAAMC,QACvCC,EAAYC,GAAiBC,EAAAA,SAAS,KACtCC,EAAqBC,GAA0BF,EAAAA,SAAS,IAG/DG,EAAAA,WAAU,KACF,MAAAC,EAAQC,YAAW,KACvBH,EAAuBJ,EAAU,GAChC,KAEI,MAAA,IAAMQ,aAAaF,EAAK,GAC9B,CAACN,IAEJ,MAAMS,KAAEA,EAAAC,UAAMA,EAAWC,QAAAA,EAAAC,MAASA,GAAUC,EAC1C,CAAEC,QAAe,MAANlB,OAAM,EAAAA,EAAAmB,SAAUC,OAAQb,GACnC,CAAEc,OAAO,MAAArB,OAAA,EAAAA,EAAMmB,YASf,SAAAG,KAAC,MAAI,CAAAC,UAAU,2BACbC,SAAA,GAACF,KAAA,MAAA,CAAIC,UAAU,mBACbC,SAAA,CAAAC,EAAAA,IAAC,QAAKF,UAAU,2CACdC,eAAC,IAAE,CAAAD,UAAU,mBAEfG,EAAAD,IAAC,QAAA,CACCE,KAAK,OACLJ,UAAU,eACVK,YAAY,yBACZC,MAAOzB,EACP0B,SAAWC,GAAM1B,EAAc0B,EAAEC,OAAOH,cAI5CJ,IAAC,MAAI,CAAAF,UAAU,UACZC,SAAAV,EACEW,EAAAA,IAAA,MAAA,CAAIF,UAAU,SACbC,SAACC,EAAAA,IAAA,IAAA,CAAEF,UAAU,oBAAoBC,+BAEjC,MAAAX,OAAA,EAAAA,EAAMoB,QAAS,EACjBpB,EAAKqB,KAAKC,KACRV,IAAC,MAAkB,CAAAF,UAAU,0BAC3BC,SAAAE,EAAAJ,KAAC,MAAA,CACCC,UAAU,sBACVa,QAAS,IA9BN,EAACC,EAAMC,KACtB,MAAMC,EAAgBF,EAAKG,QAAQ,OAAQ,KAC3C1C,EAAS,cAAcyC,KAAiBD,IAAI,EA4BjBG,CAASN,EAAKE,KAAMF,EAAKG,IACxCd,SAAA,CAAAC,EAAAA,IAAC,MAAI,CAAAF,UAAU,gDACZC,SAAAW,EAAKE,SAERZ,IAAC,MAAI,CAAAF,UAAU,YACbC,SAAAE,EAAAD,IAAC,MAAA,CACCiB,IACEP,EAAKQ,MACD,GAAGC,OAAOC,SAASC,SAASX,EAAKQ,QACjC,YAENI,IAAKZ,EAAKE,KACVd,UAAU,2CACVyB,MAAO,CAAEC,OAAQ,aAhBfd,EAAKG,MAuBjBZ,EAAAD,IAAC,OAAIF,UAAU,SACbC,eAAC,IAAE,CAAAD,UAAU,oBACVC,SACCpB,EAAAkB,OAAC,OAAIC,UAAU,qBAAqB2B,KAAK,QACvC1B,SAAA,CAACC,EAAAA,IAAA,KAAA,CAAGF,UAAU,gBAAgBC,SAAM,aACpCC,IAAC,KAAED,SAA8B,yCAChC,KAAG,IACHT,GACCW,EAAAJ,KAAC,IAAE,CAAAC,UAAU,OAAOC,SAAA,CAAA,kBAAuB,MAAPR,OAAO,EAAAA,EAAAmC,cAI9CzB,EAAAJ,KAAA,MAAA,CAAIC,UAAU,qBAAqB2B,KAAK,QACvC1B,SAAA,CAACC,EAAAA,IAAA,KAAA,CAAGF,UAAU,gBAAgBC,SAAM,aACpCC,IAAC,KAAED,SAAmB,8BACrB,KAAG,IACHT,GACCW,EAAAJ,KAAC,IAAE,CAAAC,UAAU,OAAOC,SAAA,CAAA,kBAAuB,MAAPR,OAAO,EAAAA,EAAAmC,sBAQ3D,EChGEC,EAAiB,MAEnB3B,IAAC4B,EAAO,CAAAC,MAAO,mBAAoBC,OAAQ,CAAC,WAC1C/B,SAACC,EAAAA,IAAA5B,EAAA,CAAA"}