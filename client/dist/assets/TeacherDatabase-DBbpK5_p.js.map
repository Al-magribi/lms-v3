{"version":3,"file":"TeacherDatabase-DBbpK5_p.js","sources":["../../src/page/teacher/database/TeacherDatabase.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Layout from \"../../../components/layout/Layout\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useGetDatabaseByClassQuery } from \"../../../controller/api/database/ApiDatabase\";\r\nimport Table from \"../../../components/table/Table\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst TeacherDatabase = () => {\r\n  const navigate = useNavigate();\r\n  const { classname, classid } = useParams();\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const { data, isLoading, isError } = useGetDatabaseByClassQuery({\r\n    page,\r\n    limit,\r\n    search,\r\n    classid,\r\n  });\r\n  const { students = [], totalData, totalPages } = data || {};\r\n\r\n  const gotoDatabase = (userid, name) => {\r\n    const formattedName = name.replace(/\\s+/g, \"-\");\r\n    navigate(`/database/${userid}/${formattedName}`);\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title={`Database Kelas ${classname.replace(/-/g, \" \")}`}\r\n      levels={[\"teacher\"]}\r\n    >\r\n      <Table\r\n        isLoading={isLoading}\r\n        page={page}\r\n        setPage={setPage}\r\n        limit={limit}\r\n        setLimit={setLimit}\r\n        setSearch={setSearch}\r\n        totalData={totalData}\r\n        totalPages={totalPages}\r\n      >\r\n        <table className=\"mb-0 table table-striped table-hover table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"text-center\">No</th>\r\n              <th className=\"text-center\">Homebase</th>\r\n              <th className=\"text-center\">Periode</th>\r\n              <th className=\"text-center\">Nama</th>\r\n              <th className=\"text-center\">Kelas</th>\r\n              <th className=\"text-center\">Status</th>\r\n              <th className=\"text-center\">Aksi</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {students.map((student, index) => (\r\n              <tr key={student.id}>\r\n                <td className=\"text-center align-middle\">\r\n                  {(page - 1) * limit + index + 1}\r\n                </td>\r\n                <td className=\"text-center align-middle\">\r\n                  {student.homebase_name}\r\n                </td>\r\n                <td className=\"text-center align-middle\">\r\n                  {student.periode_name}\r\n                </td>\r\n                <td className=\"align-middle\">{student.student_name}</td>\r\n                <td className=\"text-center align-middle\">\r\n                  {student.class_name}\r\n                </td>\r\n                <td className=\"text-center align-middle\">\r\n                  <div className=\"progress\" style={{ height: \"20px\" }}>\r\n                    <div\r\n                      className={`progress-bar ${\r\n                        parseInt(student.completeness) === 100\r\n                          ? \"bg-success\"\r\n                          : parseInt(student.completeness) >= 50\r\n                          ? \"bg-warning\"\r\n                          : \"bg-danger\"\r\n                      }`}\r\n                      role=\"progressbar\"\r\n                      style={{ width: `${student.completeness}%` }}\r\n                      aria-valuenow={student.completeness}\r\n                      aria-valuemin=\"0\"\r\n                      aria-valuemax=\"100\"\r\n                    >\r\n                      {student.completeness}%\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td className=\"text-center align-middle\">\r\n                  <button\r\n                    className=\"btn btn-sm btn-primary\"\r\n                    onClick={() =>\r\n                      gotoDatabase(student.student, student.student_name)\r\n                    }\r\n                  >\r\n                    <i className=\"bi bi-database\"></i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </Table>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default TeacherDatabase;\r\n"],"names":["TeacherDatabase","navigate","useNavigate","classname","classid","useParams","page","setPage","useState","limit","setLimit","search","setSearch","data","isLoading","isError","useGetDatabaseByClassQuery","students","totalData","totalPages","jsxRuntimeExports","jsx","Layout","title","replace","levels","children","Table","jsxs","className","map","student","index","homebase_name","periode_name","student_name","class_name","style","height","parseInt","completeness","role","width","onClick","userid","name","formattedName","gotoDatabase","id"],"mappings":"wLAOA,MAAMA,EAAkB,KACtB,MAAMC,EAAWC,KACXC,UAAEA,EAAAC,QAAWA,GAAYC,KACxBC,EAAMC,GAAWC,EAAAA,SAAS,IAC1BC,EAAOC,GAAYF,EAAAA,SAAS,KAC5BG,EAAQC,GAAaJ,EAAAA,SAAS,KAE/BK,KAAEA,EAAAC,UAAMA,EAAWC,QAAAA,GAAYC,EAA2B,CAC9DV,OACAG,QACAE,SACAP,aAEIa,SAAEA,EAAW,GAACC,UAAGA,aAAWC,GAAeN,GAAQ,CAAC,EAQxD,OAAAO,EAAAC,IAACC,EAAA,CACCC,MAAO,kBAAkBpB,EAAUqB,QAAQ,KAAM,OACjDC,OAAQ,CAAC,WAETC,SAAAN,EAAAC,IAACM,EAAA,CACCb,YACAR,OACAC,UACAE,QACAC,WACAE,YACAM,YACAC,aAEAO,SAAAN,EAAAQ,KAAC,QAAM,CAAAC,UAAU,sDACfH,SAAA,CAACL,EAAAA,IAAA,QAAA,CACCK,gBAAC,KACC,CAAAA,SAAA,CAACL,EAAAA,IAAA,KAAA,CAAGQ,UAAU,cAAcH,SAAE,OAC7BL,EAAAA,IAAA,KAAA,CAAGQ,UAAU,cAAcH,SAAQ,aACnCL,EAAAA,IAAA,KAAA,CAAGQ,UAAU,cAAcH,SAAO,YAClCL,EAAAA,IAAA,KAAA,CAAGQ,UAAU,cAAcH,SAAI,SAC/BL,EAAAA,IAAA,KAAA,CAAGQ,UAAU,cAAcH,SAAK,UAChCL,EAAAA,IAAA,KAAA,CAAGQ,UAAU,cAAcH,SAAM,WACjCL,EAAAA,IAAA,KAAA,CAAGQ,UAAU,cAAcH,SAAI,cAGpCL,EAAAA,IAAC,SACEK,SAAST,EAAAa,KAAI,CAACC,EAASC,WACrB,KACC,CAAAN,SAAA,CAAAL,EAAAA,IAAC,MAAGQ,UAAU,2BACVH,YAAO,GAAKjB,EAAQuB,EAAQ,IAE/BX,EAAAA,IAAA,KAAA,CAAGQ,UAAU,2BACXH,WAAQO,gBAEVZ,EAAAA,IAAA,KAAA,CAAGQ,UAAU,2BACXH,WAAQQ,eAEVb,EAAAA,IAAA,KAAA,CAAGQ,UAAU,eAAgBH,WAAQS,eACrCd,EAAAA,IAAA,KAAA,CAAGQ,UAAU,2BACXH,WAAQU,eAEVf,IAAA,KAAA,CAAGQ,UAAU,2BACZH,SAACL,EAAAA,IAAA,MAAA,CAAIQ,UAAU,WAAWQ,MAAO,CAAEC,OAAQ,QACzCZ,SAAAN,EAAAQ,KAAC,MAAA,CACCC,UAAW,iBAC0B,MAAnCU,SAASR,EAAQS,cACb,aACAD,SAASR,EAAQS,eAAiB,GAClC,aACA,aAENC,KAAK,cACLJ,MAAO,CAAEK,MAAO,GAAGX,EAAQS,iBAC3B,gBAAeT,EAAQS,aACvB,gBAAc,IACd,gBAAc,MAEbd,SAAA,CAAQK,EAAAS,aAAa,aAI5BnB,IAAC,KAAG,CAAAQ,UAAU,2BACZH,SAAAN,EAAAC,IAAC,SAAA,CACCQ,UAAU,yBACVc,QAAS,IAvEN,EAACC,EAAQC,KAC5B,MAAMC,EAAgBD,EAAKrB,QAAQ,OAAQ,KAC3CvB,EAAS,aAAa2C,KAAUE,IAAe,EAsE7BC,CAAahB,EAAQA,QAASA,EAAQI,cAGxCT,SAAAL,EAAAA,IAAC,IAAE,CAAAQ,UAAU,yBAzCVE,EAAQiB,cAiD3B"}