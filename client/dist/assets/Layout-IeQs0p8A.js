import{u as e,a as s,w as n,x as a,j as i,M as t,d as l}from"./index-CNbAajcm.js";import{u as d,f as o,b as r,L as c}from"./vendor-BYWiIb5-.js";import{z as m,A as h,u as p,y as x,B as j,k as f,e as g,f as u,t as w,d as b}from"./index-C-OX0RB-.js";import{m as v}from"./proxy-B0Xu6tIC.js";const N=({children:N,title:y,desc:k,levels:L})=>{const C=e();d();const S=o(),[E,M]=r.useState(!0),[T,z]=r.useState(window.innerWidth<768),{user:A,isSignin:B}=s((e=>e.auth)),[D,{isSuccess:H,isLoading:P,error:W,reset:F}]=n();r.useEffect((()=>{const e=()=>{const e=window.innerWidth<768;z(e),e&&E&&M(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[E]);r.useEffect((()=>{H&&(F(),C(a()),window.location.href="/"),W&&F()}),[H,W]),r.useEffect((()=>{const e=setTimeout((()=>{A&&B&&L.includes(null==A?void 0:A.level)||(null===A||A&&Object.keys(A).length,window.location.href="/")}),500);return()=>clearTimeout(e)}),[A,B,L]);const I=[{id:"Dashboard",name:"Dashboard",icon:i.jsx(j,{}),path:"/cms-Dashboard"},{id:"reason",name:"Alasan",icon:i.jsx(f,{}),path:"/cms-reason"},{id:"facility",name:"Fasilitas",icon:i.jsx(g,{}),path:"/cms-facility"},{id:"testimoni",name:"Testimoni",icon:i.jsx(u,{}),path:"/cms-testimoni"},{id:"category",name:"Kategori",icon:i.jsx(w,{}),path:"/cms-category"},{id:"news",name:"Berita",icon:i.jsx(b,{}),path:"/cms-news"},{id:"settings",name:"Pengaturan",icon:i.jsx(p,{}),path:"/cms-settings"}],K={open:{marginLeft:T?"0":"250px",transition:{type:"spring",stiffness:300,damping:30}},closed:{marginLeft:"0",transition:{type:"spring",stiffness:300,damping:30}}};return i.jsxs("div",{className:"d-flex",children:[i.jsx(t,{title:y,desc:k}),i.jsxs(v.div,{className:"sidebar bg-dark text-white",initial:E?"open":"closed",animate:E?"open":"closed",variants:{open:{x:0,transition:{type:"spring",stiffness:300,damping:30}},closed:{x:"-100%",transition:{type:"spring",stiffness:300,damping:30}}},style:{position:"fixed",top:0,left:0,height:"100vh",width:"250px",zIndex:1050,overflowY:"auto"},children:[i.jsxs("div",{className:"p-3 d-flex justify-content-between align-items-center border-bottom",children:[i.jsx("h5",{className:"mb-0",children:"CMS Admin"}),i.jsx(v.button,{className:"btn btn-sm btn-outline-light",onClick:()=>M(!1),whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx("i",{className:"bi bi-x-lg"})})]}),i.jsx("div",{className:"p-3",children:i.jsx("ul",{className:"nav flex-column",children:I.map((e=>i.jsx("li",{className:"nav-item mb-2",children:i.jsxs(c,{to:e.path,className:"nav-link d-flex align-items-center "+(S.pathname===e.path?"active bg-primary text-white":"text-white"),onClick:()=>T&&M(!1),children:[i.jsx("span",{className:"me-2",children:e.icon}),e.name]})},e.id)))})})]}),i.jsxs(v.div,{className:"main-content",initial:E?"open":"closed",animate:E?"open":"closed",variants:K,style:{width:"100%",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:[i.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-white shadow-sm",children:i.jsxs("div",{className:"container-fluid d-flex justify-content-between align-items-center px-2",children:[i.jsx(v.button,{className:"btn d-flex align-items-center justify-content-center p-2",onClick:()=>M(!E),whileHover:{scale:1.1},whileTap:{scale:.9},style:{width:"40px",height:"40px"},children:i.jsx(m,{className:"fs-5"})}),i.jsx("div",{className:"d-flex align-items-center",children:i.jsxs("div",{className:"dropdown",children:[i.jsxs("button",{className:"btn btn-sm btn-outline-primary",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false",children:[i.jsx(h,{className:"me-1 fs-5"}),i.jsx("span",{className:"d-none d-lg-inline",children:"Admin"})]}),i.jsxs("ul",{className:"dropdown-menu dropdown-menu-end shadow-sm","aria-labelledby":"dropdownMenuButton",children:[i.jsx("li",{children:i.jsxs("a",{className:"dropdown-item py-2",href:"#",children:[i.jsx(h,{className:"me-2"})," Profile"]})}),i.jsx("li",{children:i.jsxs("a",{className:"dropdown-item py-2",href:"#",children:[i.jsx(p,{className:"me-2"})," Settings"]})}),i.jsx("li",{children:i.jsx("hr",{className:"dropdown-divider"})}),i.jsx("li",{children:i.jsxs("a",{className:"dropdown-item py-2 text-danger",onClick:()=>{l.promise(D().unwrap().then((e=>e.message)),{loading:"Memproses...",success:e=>e,error:e=>e.data.message})},children:[i.jsx(x,{className:"me-2"})," Logout"]})})]})]})})]})}),i.jsx("div",{className:"p-3 p-md-4",children:N})]})]})};export{N as L};
//# sourceMappingURL=Layout-IeQs0p8A.js.map
