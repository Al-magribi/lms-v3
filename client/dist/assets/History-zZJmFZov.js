import{dE as e,j as s,F as a,n as r,B as t,aG as i,t as l,a as n,aw as o,b as d,aq as c,R as j,C as x}from"./index-CFTqxRqE.js";import"./vendor-DnNJsrFE.js";import{A as h}from"./index-B2yUERi5.js";import{S as m}from"./index-D91FXIqm.js";import{L as p}from"./index-D9ecierB.js";import{P as u}from"./progress-CC8Gz0cc.js";import{S as g}from"./index-DCNDXXqy.js";import{C as f}from"./Collapse-BgyQ6ZIi.js";import{R as v}from"./BookOutlined-BcPAYa6D.js";import{E as y}from"./Pagination-C6avRC8Z.js";const{Title:S,Text:b}=l,I=(e,s)=>{const a=parseInt(e.juz.split(" ")[1],10),r=parseInt(s.juz.split(" ")[1],10);return isNaN(a)?1:isNaN(r)?-1:a-r},k=({name:l,userid:b,onBack:k})=>{const{data:z,isLoading:L,error:w}=e(b,{skip:!b});if(L)return s.jsx(a,{justify:"center",align:"center",style:{minHeight:"200px"},children:s.jsx(r,{size:"large"})});if(w)return s.jsx(h,{message:"Gagal Memuat Data",description:"Terjadi kesalahan saat mengambil data laporan siswa. Silakan coba lagi.",type:"error",showIcon:!0});const T=z?.student,B=z?.memorization?[...z.memorization].sort(I):[],$=z?.exceed?[...z.exceed].sort(I):[];return s.jsxs(a,{vertical:!0,gap:"large",children:[s.jsxs(m,{children:[s.jsx(t,{shape:"circle",icon:s.jsx(i,{}),onClick:k}),s.jsx(S,{style:{margin:0},level:4,children:`Laporan Hafalan ${l.replace(/-/g," ")}`})]}),T&&s.jsx(n,{title:s.jsxs(m,{children:[s.jsx(d,{})," Informasi Siswa"]}),hoverable:!0,children:s.jsxs(o,{bordered:!0,column:{xs:1,sm:2},children:[s.jsx(o.Item,{label:"Nama Lengkap",children:T.student_name}),s.jsx(o.Item,{label:"NIS",children:T.student_nis})]})}),s.jsx(S,{level:5,children:"Laporan Hafalan per Juz (Target)"}),B&&B.length>0?B.map(e=>{const r=[{key:"1",label:"Lihat Rincian Surah",children:s.jsx(p,{dataSource:e.surah,renderItem:e=>s.jsx(p.Item,{children:s.jsx(p.Item.Meta,{title:e.surah_name,description:`Ayat dihafal: ${e.verse} | Baris dihafal: ${e.line}`})})})}];return s.jsx(n,{title:s.jsxs(m,{children:[s.jsx(v,{})," ",e.juz]}),hoverable:!0,style:{width:"100%"},children:s.jsxs(a,{vertical:!0,gap:"middle",children:[s.jsx(c,{title:`Progress: ${e.progress}%`,children:s.jsx(u,{percent:e.progress})}),s.jsxs(j,{gutter:[16,16],children:[s.jsx(x,{xs:8,children:s.jsx(g,{title:"Total Ayat",value:e.verses})}),s.jsx(x,{xs:8,children:s.jsx(g,{title:"Selesai",value:e.completed,valueStyle:{color:"#3f8600"}})}),s.jsx(x,{xs:8,children:s.jsx(g,{title:"Sisa",value:e.uncompleted,valueStyle:{color:"#cf1322"}})})]}),s.jsx(f,{ghost:!0,items:r})]})},e.juz)}):s.jsx(n,{children:s.jsx(y,{description:"Belum ada data hafalan (target) yang tercatat untuk siswa ini."})}),s.jsx(S,{level:5,children:"Laporan Hafalan Tambahan (di Luar Target)"}),$&&$.length>0?$.map(e=>{const r=[{key:"1",label:"Lihat Rincian Surah",children:s.jsx(p,{dataSource:e.surah,renderItem:e=>s.jsx(p.Item,{children:s.jsx(p.Item.Meta,{title:e.surah_name,description:`Ayat dihafal: ${e.verse} | Baris dihafal: ${e.line}`})})})}];return s.jsx(n,{title:s.jsxs(m,{children:[s.jsx(v,{})," ",e.juz]}),hoverable:!0,style:{width:"100%"},children:s.jsxs(a,{vertical:!0,gap:"middle",children:[s.jsx(c,{title:`Progress: ${e.progress}%`,children:s.jsx(u,{percent:e.progress})}),s.jsxs(j,{gutter:[16,16],children:[s.jsx(x,{xs:8,children:s.jsx(g,{title:"Total Ayat",value:e.verses})}),s.jsx(x,{xs:8,children:s.jsx(g,{title:"Selesai",value:e.completed,valueStyle:{color:"#3f8600"}})}),s.jsx(x,{xs:8,children:s.jsx(g,{title:"Sisa",value:e.uncompleted,valueStyle:{color:"#cf1322"}})})]}),s.jsx(f,{ghost:!0,items:r})]})},e.juz)}):s.jsx(n,{children:s.jsx(y,{description:"Belum ada data hafalan tambahan yang tercatat."})})]})};export{k as H};
