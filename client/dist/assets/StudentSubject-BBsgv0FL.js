import{a as p,d as g,r as l,a5 as N,j as e}from"./index-B88h2kYZ.js";import{L as v}from"./Layout-BzzV81EK.js";const b=()=>{const i=p(),{user:s}=g(a=>a.auth),[t,d]=l.useState(""),[o,m]=l.useState("");l.useEffect(()=>{const a=setTimeout(()=>{m(t)},500);return()=>clearTimeout(a)},[t]);const{data:c,isLoading:h,isError:n,error:r}=N({classid:s==null?void 0:s.class_id,search:o},{skip:!(s!=null&&s.class_id)}),x=(a,j)=>{const u=a.replace(/\s+/g,"-");i(`/pelajaran/${u}/${j}`)};return e.jsxs("div",{className:"d-flex flex-column gap-2",children:[e.jsxs("div",{className:"input-group w-25",children:[e.jsx("span",{className:"input-group-text bg-secondary text-white",children:e.jsx("i",{className:"bi bi-search"})}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Cari mata pelajaran...",value:t,onChange:a=>d(a.target.value)})]}),e.jsx("div",{className:"row g-2",children:h?e.jsx("div",{className:"col-12",children:e.jsx("p",{className:"m-0 h5 text-muted",children:"Memuat data..."})}):(c==null?void 0:c.length)>0?c.map(a=>e.jsx("div",{className:"col-lg-2 col-md-4 col-6",children:e.jsxs("div",{className:"card shadow pointer",onClick:()=>x(a.name,a.id),children:[e.jsx("div",{className:"card-header text-center bg-primary text-white",children:a.name}),e.jsx("div",{className:"card-body",children:e.jsx("img",{src:a.cover?`${window.location.origin}${a.cover}`:"/logo.png",alt:a.name,className:"w-100 object-fit-contain overflow-hidden",style:{height:220}})})]})},a.id)):e.jsx("div",{className:"col-12",children:e.jsx("p",{className:"m-0 h5 text-muted",children:t?e.jsxs("div",{className:"alert alert-danger",role:"alert",children:[e.jsx("h4",{className:"alert-heading",children:"Error!"}),e.jsx("p",{children:"Mata pelajaran tidak ditemukan"}),e.jsx("hr",{}),n&&e.jsxs("p",{className:"mb-0",children:["Error details: ",r==null?void 0:r.message]})]}):e.jsxs("div",{className:"alert alert-danger",role:"alert",children:[e.jsx("h4",{className:"alert-heading",children:"Error!"}),e.jsx("p",{children:"Data belum tersedia"}),e.jsx("hr",{}),n&&e.jsxs("p",{className:"mb-0",children:["Error details: ",r==null?void 0:r.message]})]})})})})]})},w=()=>e.jsx(v,{title:"Daftar Pelajaran",levels:["student"],children:e.jsx(b,{})});export{w as default};
