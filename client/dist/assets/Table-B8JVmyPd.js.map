{"version":3,"file":"Table-B8JVmyPd.js","sources":["../../src/components/table/Table.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport * as Md from \"react-icons/md\";\r\nimport LoadingScreen from \"../loader/LoadingScreen\";\r\n\r\nconst Table = ({\r\n  children,\r\n  height,\r\n  id,\r\n  totalData,\r\n  page,\r\n  setPage,\r\n  totalPages,\r\n  limit,\r\n  setLimit,\r\n  setSearch,\r\n  isLoading,\r\n  downloadButton,\r\n}) => {\r\n  const [limitValue, setLimitValue] = useState(limit || 10);\r\n  const [searchTimeout, setSearchTimeout] = useState(null);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n  // Update limitValue when limit prop changes\r\n  useEffect(() => {\r\n    setLimitValue(limit || 10);\r\n  }, [limit]);\r\n\r\n  // Clean up timeout on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (searchTimeout) {\r\n        clearTimeout(searchTimeout);\r\n      }\r\n    };\r\n  }, [searchTimeout]);\r\n\r\n  const handleLimit = (e) => {\r\n    const newLimit = parseInt(e.target.value);\r\n    setLimit(newLimit);\r\n    setLimitValue(newLimit);\r\n  };\r\n\r\n  const handlePageChange = (newPage) => {\r\n    if (newPage >= 1 && newPage <= totalPages) {\r\n      setPage(newPage);\r\n    }\r\n  };\r\n\r\n  const handleSearchChange = (e) => {\r\n    const value = e.target.value;\r\n    setSearchValue(value);\r\n\r\n    // Clear previous timeout\r\n    if (searchTimeout) {\r\n      clearTimeout(searchTimeout);\r\n    }\r\n\r\n    // Set new timeout to delay API call\r\n    const timeout = setTimeout(() => {\r\n      setSearch(value);\r\n      setPage(1); // Reset to first page when searching\r\n    }, 500);\r\n\r\n    setSearchTimeout(timeout);\r\n  };\r\n\r\n  const getPageNumbers = () => {\r\n    let pages = [];\r\n    if (totalPages <= 3) {\r\n      pages = [...Array(totalPages).keys()].map((i) => i + 1);\r\n    } else {\r\n      if (page === 1) {\r\n        pages = [1, 2, 3];\r\n      } else if (page === totalPages) {\r\n        pages = [totalPages - 2, totalPages - 1, totalPages];\r\n      } else {\r\n        pages = [page - 1, page, page + 1];\r\n      }\r\n    }\r\n\r\n    return pages;\r\n  };\r\n  return (\r\n    <div className='rounded-lg  no-overflow-x'>\r\n      <div style={{ height: height }} className='d-flex flex-column gap-4'>\r\n        <div className='d-flex flex-wrap align-items-center justify-content-between gap-3'>\r\n          <div className='position-relative'>\r\n            <input\r\n              className='form-control ps-4'\r\n              name='search'\r\n              id='search'\r\n              placeholder='Cari data...'\r\n              style={{ width: 280, borderRadius: \"8px\" }}\r\n              value={searchValue}\r\n              onChange={handleSearchChange}\r\n            />\r\n          </div>\r\n\r\n          <div className='d-flex gap-3'>\r\n            <select\r\n              style={{ width: 120, borderRadius: \"8px\" }}\r\n              name='limit'\r\n              id='limit'\r\n              className='form-select'\r\n              value={limitValue || \"\"}\r\n              onChange={handleLimit}\r\n            >\r\n              <option value='10'>10 per halaman</option>\r\n              <option value='20'>20 per halaman</option>\r\n              <option value='50'>50 per halaman</option>\r\n              <option value='100'>100 per halaman</option>\r\n              <option value='200'>200 per halaman</option>\r\n              <option value='500'>500 per halaman</option>\r\n              <option value='1000'>1000 per halaman</option>\r\n            </select>\r\n\r\n            {downloadButton && (\r\n              <button\r\n                onClick={downloadButton.onClick}\r\n                disabled={downloadButton.isLoading}\r\n                className='btn btn-sm btn-outline-success'\r\n                style={{ borderRadius: \"8px\" }}\r\n              >\r\n                <i className='bi bi-file-earmark-arrow-down-fill me-2'></i>\r\n                {downloadButton.isLoading ? \"Mengunduh...\" : \"Download\"}\r\n              </button>\r\n            )}\r\n\r\n            {id && (\r\n              <button\r\n                data-bs-toggle='modal'\r\n                data-bs-target={`#${id}`}\r\n                className='btn btn-primary d-flex align-items-center gap-2'\r\n                style={{ borderRadius: \"8px\" }}\r\n              >\r\n                <Md.MdAdd size={20} />\r\n                Tambah Data\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Table */}\r\n        <div className='rounded-lg'>\r\n          {isLoading ? <LoadingScreen /> : children}\r\n        </div>\r\n\r\n        {/* Pagination and Info */}\r\n        <div className='d-flex align-items-center justify-content-between flex-wrap gap-3'>\r\n          <div className='d-flex align-items-center gap-2'>\r\n            <span className='text-muted'>Total Data:</span>\r\n            <span className='fw-semibold'>\r\n              {parseFloat(totalData).toLocaleString(\"id-ID\")}\r\n            </span>\r\n          </div>\r\n\r\n          <nav aria-label='Page navigation example' className='m-0'>\r\n            <ul className='pagination pagination-sm mb-0'>\r\n              <li className={`page-item ${page === 1 ? \"disabled\" : \"\"}`}>\r\n                <button\r\n                  className='page-link border-0'\r\n                  aria-label='Previous'\r\n                  onClick={() => handlePageChange(page - 1)}\r\n                  style={{ borderRadius: \"6px\", margin: \"0 2px\" }}\r\n                >\r\n                  <span aria-hidden='true'>&laquo;</span>\r\n                </button>\r\n              </li>\r\n              {getPageNumbers().map((pageNumber) => (\r\n                <li\r\n                  key={pageNumber}\r\n                  className={`page-items ${\r\n                    page === pageNumber ? \"active\" : \"\"\r\n                  }`}\r\n                >\r\n                  <button\r\n                    className='page-link border-0'\r\n                    onClick={() => handlePageChange(pageNumber)}\r\n                    style={{\r\n                      borderRadius: \"6px\",\r\n                      margin: \"0 2px\",\r\n                      backgroundColor:\r\n                        page === pageNumber ? \"#0d6efd\" : \"transparent\",\r\n                      color: page === pageNumber ? \"white\" : \"inherit\",\r\n                    }}\r\n                  >\r\n                    {pageNumber}\r\n                  </button>\r\n                </li>\r\n              ))}\r\n\r\n              <li\r\n                className={`page-item ${page === totalPages ? \"disabled\" : \"\"}`}\r\n              >\r\n                <button\r\n                  className='page-link border-0'\r\n                  aria-label='Next'\r\n                  onClick={() => handlePageChange(page + 1)}\r\n                  style={{ borderRadius: \"6px\", margin: \"0 2px\" }}\r\n                >\r\n                  <span aria-hidden='true'>&raquo;</span>\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n"],"names":["Table","children","height","id","totalData","page","setPage","totalPages","limit","setLimit","setSearch","isLoading","downloadButton","limitValue","setLimitValue","useState","searchTimeout","setSearchTimeout","searchValue","setSearchValue","useEffect","clearTimeout","handlePageChange","newPage","jsx","className","jsxs","style","jsxRuntimeExports","name","placeholder","width","borderRadius","value","onChange","e","target","timeout","setTimeout","newLimit","parseInt","onClick","disabled","Md.MdAdd","size","LoadingScreen","toLocaleString","margin","pages","Array","keys","map","i","getPageNumbers","pageNumber","backgroundColor","color"],"mappings":"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"}