import{aj as e,bT as a,bU as l,bV as i,bW as s,bX as n,bY as t,j as r,V as d,bZ as c,b_ as m,b$ as o,c0 as h,b}from"./index-DFhdulld.js";import{b as u,u as v,e as p}from"./vendor-CnnDPxwB.js";import{L as x}from"./Layout-GZnRoUIy.js";import"./index-B8CuzAwO.js";import"./index-g0LoU_Ie.js";const j=e=>{const a=new Date(e);if(isNaN(a.getTime()))return"";return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`},N=({studentData:c,onRefetch:m,userid:o})=>{var h;const[b,v]=u.useState({userid:o,entryid:(null==c?void 0:c.entryid)||"",entry_name:(null==c?void 0:c.entry_name)||"",homebaseid:(null==c?void 0:c.homebaseid)||"",homebase_name:(null==c?void 0:c.homebase_name)||"",academic_year:(null==c?void 0:c.academic_year)||"",gender:(null==c?void 0:c.gender)||"",name:(null==c?void 0:c.name)||"",nisn:(null==c?void 0:c.nisn)||"",nis:(null==c?void 0:c.nis)||"",birth_place:(null==c?void 0:c.birth_place)||"",birth_date:(null==c?void 0:c.birth_date)?j(c.birth_date):j(new Date),order_number:(null==c?void 0:c.order_number)||"",siblings:(null==c?void 0:c.siblings)||"",height:(null==c?void 0:c.height)||"",weight:(null==c?void 0:c.weight)||"",head:(null==c?void 0:c.head)||"",provinceid:(null==c?void 0:c.provinceid)||"",province_name:(null==c?void 0:c.province_name)||"",cityid:(null==c?void 0:c.cityid)||"",city_name:(null==c?void 0:c.city_name)||"",districtid:(null==c?void 0:c.districtid)||"",district_name:(null==c?void 0:c.district_name)||"",villageid:(null==(h=null==c?void 0:c.villageid)?void 0:h.trim())||"",village_name:(null==c?void 0:c.village_name)||"",postal_code:(null==c?void 0:c.postal_code)||"",address:(null==c?void 0:c.address)||""}),{data:p}=e(),{data:x}=a(),{data:N}=l(),{data:g}=i(b.provinceid,{skip:!b.provinceid}),{data:_}=s(b.cityid,{skip:!b.cityid}),{data:f}=n(b.districtid,{skip:!b.districtid}),[y,{isLoading:k,isSuccess:w,isError:C,reset:F}]=t(),S=e=>{const{name:a,value:l}=e.target;v((e=>{const i={...e};if("birth_date"===a)i[a]=l;else if("entryid"===a){const e=null==p?void 0:p.find((e=>e.id===parseInt(l)));e&&(i.entryid=e.id,i.entry_name=e.name)}else if("homebaseid"===a){const e=null==x?void 0:x.find((e=>e.id==l));e&&(i.homebaseid=e.id,i.homebase_name=e.name)}else if("provinceid"===a){const e=null==N?void 0:N.find((e=>e.id===l));e&&(i.provinceid=e.id,i.province_name=e.name,i.cityid="",i.city_name="",i.districtid="",i.district_name="",i.villageid="",i.village_name="")}else if("cityid"===a){const e=null==g?void 0:g.find((e=>e.id===l));e&&(i.cityid=e.id,i.city_name=e.name,i.districtid="",i.district_name="",i.villageid="",i.village_name="")}else if("districtid"===a){const e=null==_?void 0:_.find((e=>e.id===l));e&&(i.districtid=e.id,i.district_name=e.name,i.villageid="",i.village_name="")}else if("villageid"===a){const e=null==f?void 0:f.find((e=>e.id.trim()===l));e&&(i.villageid=e.id.trim(),i.village_name=e.name)}else i[a]=l;return i}))};return u.useEffect((()=>{w&&(F(),m()),C&&F()}),[w,C,F,m]),r.jsx("div",{className:"container mt-3",children:r.jsxs("form",{onSubmit:e=>{e.preventDefault(),d.promise(y(b).unwrap().then((e=>e.message)),{loading:"Memproses data...",success:e=>e,error:e=>e.data.message})},children:[r.jsxs("div",{className:"row",children:[r.jsxs("div",{className:"col-md-6",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"entryid",className:"form-label",children:"Tahun Pelajaran"}),r.jsxs("select",{id:"entryid",className:"form-select","aria-label":"Pilih Tahun Pelajaran",name:"entryid",value:b.entryid,onChange:S,children:[r.jsx("option",{value:"",hidden:!0,children:"Pilih Tahun Pelajaran"}),null==p?void 0:p.map((e=>r.jsx("option",{value:e.id,children:e.name},e.id)))]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"homebaseid",className:"form-label",children:"Satuan Pendidikan"}),r.jsxs("select",{id:"homebaseid",className:"form-select","aria-label":"Pilih Satuan Pendidikan",name:"homebaseid",value:b.homebaseid,onChange:S,children:[r.jsx("option",{value:"",hidden:!0,children:"Pilih Satuan Pendidikan"}),null==x?void 0:x.map((e=>r.jsx("option",{value:e.id,children:e.name},e.id)))]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"name",className:"form-label",children:"Nama Lengkap"}),r.jsx("input",{id:"name",type:"text",className:"form-control",placeholder:"Nama Lengkap",name:"name",value:b.name,onChange:S})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"nisn",className:"form-label",children:"NISN"}),r.jsx("input",{id:"nisn",type:"text",className:"form-control",placeholder:"NISN",name:"nisn",value:b.nisn,onChange:S})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"nis",className:"form-label",children:"NIS"}),r.jsx("input",{id:"nis",type:"text",className:"form-control",placeholder:"NIS",name:"nis",value:b.nis,onChange:S})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"gender",className:"form-label",children:"Jenis Kelamin"}),r.jsxs("select",{id:"gender",name:"gender",className:"form-select",value:b.gender,onChange:S,children:[r.jsx("option",{value:"",hidden:!0,children:"Pilih Jenis Kelamin"}),r.jsx("option",{value:"L",children:"Laki-laki"}),r.jsx("option",{value:"P",children:"Perempuan"})]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"birth_place",className:"form-label",children:"Tempat Lahir"}),r.jsx("input",{id:"birth_place",type:"text",className:"form-control",placeholder:"Tempat Lahir",name:"birth_place",value:b.birth_place,onChange:S})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"birth_date",className:"form-label",children:"Tanggal Lahir"}),r.jsx("input",{id:"birth_date",type:"date",className:"form-control",name:"birth_date",value:b.birth_date,onChange:S})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"siblings",className:"form-label",children:"Jumlah Keluarga"}),r.jsx("input",{id:"siblings",type:"number",className:"form-control",placeholder:"Jumlah Keluarga",name:"siblings",value:b.siblings,onChange:S,min:"0"})]})]}),r.jsxs("div",{className:"col-md-6",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"order_number",className:"form-label",children:"Urutan Kelahiran"}),r.jsx("input",{id:"order_number",type:"text",className:"form-control",placeholder:"Urutan Kelahiran",name:"order_number",value:b.order_number,onChange:S})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"height",className:"form-label",children:"Tinggi Badan (cm)"}),r.jsx("input",{id:"height",type:"text",className:"form-control",placeholder:"TB",name:"height",value:b.height,onChange:S})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"weight",className:"form-label",children:"Berat Badan (kg)"}),r.jsx("input",{id:"weight",type:"text",className:"form-control",placeholder:"BB",name:"weight",value:b.weight,onChange:S})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"head",className:"form-label",children:"Lingkar Kepala (cm)"}),r.jsx("input",{id:"head",type:"text",className:"form-control",placeholder:"Lingkar Kepala",name:"head",value:b.head,onChange:S})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"provinceid",className:"form-label",children:"Provinsi"}),r.jsxs("select",{id:"provinceid",className:"form-select","aria-label":"Pilih Provinsi",name:"provinceid",value:b.provinceid,onChange:S,children:[r.jsx("option",{value:"",hidden:!0,children:"Pilih Provinsi"}),null==N?void 0:N.map((e=>r.jsx("option",{value:e.id,children:e.name},e.id)))]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"cityid",className:"form-label",children:"Kota/Kabupaten"}),r.jsxs("select",{id:"cityid",className:"form-select","aria-label":"Pilih Kota / Kabupaten",name:"cityid",value:b.cityid,onChange:S,disabled:!b.provinceid,children:[r.jsx("option",{value:"",hidden:!0,children:"Pilih Kota / Kabupaten"}),null==g?void 0:g.map((e=>r.jsx("option",{value:e.id,children:e.name},e.id)))]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"districtid",className:"form-label",children:"Kecamatan"}),r.jsxs("select",{id:"districtid",className:"form-select","aria-label":"Pilih Kecamatan",name:"districtid",value:b.districtid,onChange:S,disabled:!b.cityid,children:[r.jsx("option",{value:"",hidden:!0,children:"Pilih Kecamatan"}),null==_?void 0:_.map((e=>r.jsx("option",{value:e.id,children:e.name},e.id)))]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"villageid",className:"form-label",children:"Desa/Kelurahan"}),r.jsxs("select",{id:"villageid",className:"form-select","aria-label":"Pilih Desa",name:"villageid",value:b.villageid,onChange:S,disabled:!b.districtid,children:[r.jsx("option",{value:"",hidden:!0,children:"Pilih Desa"}),null==f?void 0:f.map((e=>r.jsx("option",{value:e.id.trim(),children:e.name},e.id)))]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"postal_code",className:"form-label",children:"Kode Pos"}),r.jsx("input",{id:"postal_code",type:"text",className:"form-control",placeholder:"Kode Pos",name:"postal_code",value:b.postal_code,onChange:S})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"address",className:"form-label",children:"Alamat Lengkap"}),r.jsx("textarea",{id:"address",className:"form-control",rows:"4",placeholder:"Alamat",name:"address",value:b.address,onChange:S})]})]})]}),r.jsx("div",{className:"row mt-3",children:r.jsx("div",{className:"col-12 text-end",children:r.jsx("button",{type:"submit",className:"btn btn-sm btn-success",children:"Simpan Data"})})})]})})},g=e=>{const a=new Date(e);if(isNaN(a.getTime()))return"";return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`},_=e=>e?e.startsWith("0")?"62"+e.substring(1):e:"",f=({studentData:e,userid:a,onRefetch:l})=>{const[i,s]=u.useState({userid:a,father_nik:(null==e?void 0:e.father_nik)||"",father_name:(null==e?void 0:e.father_name)||"",father_birth_place:(null==e?void 0:e.father_birth_place)||"",father_birth_date:(null==e?void 0:e.father_birth_date)?g(e.father_birth_date):g(new Date),father_job:(null==e?void 0:e.father_job)||"",father_phone:(null==e?void 0:e.father_phone)?_(e.father_phone):"",mother_nik:(null==e?void 0:e.mother_nik)||"",mother_name:(null==e?void 0:e.mother_name)||"",mother_birth_place:(null==e?void 0:e.mother_birth_place)||"",mother_birth_date:(null==e?void 0:e.mother_birth_date)?g(e.mother_birth_date):g(new Date),mother_job:(null==e?void 0:e.mother_job)||"",mother_phone:(null==e?void 0:e.mother_phone)?_(e.mother_phone):""}),[n,{isLoading:t,isSuccess:m,isError:o,reset:h}]=c(),b=e=>{const{name:a,value:l}=e.target;if("father_phone"===a||"mother_phone"===a){const e=l.startsWith("0")?"62"+l.substring(1):l;s((l=>({...l,[a]:e})))}else s((e=>({...e,[a]:l})))};return u.useEffect((()=>{m&&(l(),h()),o&&h()}),[m,o,h,l]),r.jsx("div",{className:"container mt-3",children:r.jsxs("form",{onSubmit:e=>{e.preventDefault(),d.promise(n(i).unwrap().then((e=>e.message)),{loading:"Memproses data...",success:e=>e,error:e=>e.data.message})},children:[r.jsxs("div",{className:"row",children:[r.jsxs("div",{className:"col-md-6",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"father_nik",className:"form-label",children:"NIK Ayah"}),r.jsx("input",{id:"father_nik",type:"text",className:"form-control",placeholder:"NIK Ayah",name:"father_nik",value:i.father_nik,onChange:b})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"father_name",className:"form-label",children:"Nama Ayah"}),r.jsx("input",{id:"father_name",type:"text",className:"form-control",placeholder:"Nama Ayah",name:"father_name",value:i.father_name,onChange:b})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"father_birth_place",className:"form-label",children:"Tempat Lahir Ayah"}),r.jsx("input",{id:"father_birth_place",type:"text",className:"form-control",placeholder:"Tempat Lahir Ayah",name:"father_birth_place",value:i.father_birth_place,onChange:b})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"father_birth_date",className:"form-label",children:"Tanggal Lahir Ayah"}),r.jsx("input",{id:"father_birth_date",type:"date",className:"form-control",name:"father_birth_date",value:i.father_birth_date,onChange:b})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"father_job",className:"form-label",children:"Pekerjaan Ayah"}),r.jsx("input",{id:"father_job",type:"text",className:"form-control",placeholder:"Pekerjaan Ayah",name:"father_job",value:i.father_job,onChange:b})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"father_phone",className:"form-label",children:"Nomor Telepon Ayah"}),r.jsx("input",{id:"father_phone",type:"text",className:"form-control",placeholder:"Tlp Ayah",name:"father_phone",value:i.father_phone,onChange:b})]})]}),r.jsxs("div",{className:"col-md-6",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"mother_nik",className:"form-label",children:"NIK Ibu"}),r.jsx("input",{id:"mother_nik",type:"text",className:"form-control",placeholder:"NIK Ibu",name:"mother_nik",value:i.mother_nik,onChange:b})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"mother_name",className:"form-label",children:"Nama Ibu"}),r.jsx("input",{id:"mother_name",type:"text",className:"form-control",placeholder:"Nama Ibu",name:"mother_name",value:i.mother_name,onChange:b})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"mother_birth_place",className:"form-label",children:"Tempat Lahir Ibu"}),r.jsx("input",{id:"mother_birth_place",type:"text",className:"form-control",placeholder:"Tempat Lahir Ibu",name:"mother_birth_place",value:i.mother_birth_place,onChange:b})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"mother_birth_date",className:"form-label",children:"Tanggal Lahir Ibu"}),r.jsx("input",{id:"mother_birth_date",type:"date",className:"form-control",name:"mother_birth_date",value:i.mother_birth_date,onChange:b})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"mother_job",className:"form-label",children:"Pekerjaan Ibu"}),r.jsx("input",{id:"mother_job",type:"text",className:"form-control",placeholder:"Pekerjaan Ibu",name:"mother_job",value:i.mother_job,onChange:b})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"mother_phone",className:"form-label",children:"Nomor Telepon Ibu"}),r.jsx("input",{id:"mother_phone",type:"text",className:"form-control",placeholder:"Tlp Ibu",name:"mother_phone",value:i.mother_phone,onChange:b})]})]})]}),r.jsx("div",{className:"row mt-3",children:r.jsx("div",{className:"col-12 text-end",children:r.jsxs("button",{type:"submit",className:"btn btn-sm btn-success",disabled:t,children:[t?r.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}):null,"Simpan Data"]})})})]})})},y=e=>{const a=new Date(e);if(isNaN(a.getTime()))return"";return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`},k=({families:e,onRefetch:a,userid:l})=>{const i={id:"",userid:l,name:"",gender:"",birth_date:y(new Date)},[s,n]=u.useState(i),[t,c]=u.useState(null),[h,b]=u.useState({}),[v,{isLoading:p,isSuccess:x,isError:j,reset:N}]=m(),[g,{isLoadig:_,isSuccess:f,isError:k,reset:w}]=o(),C=e=>{const{name:a,value:l}=e.target;n((e=>({...e,[a]:l}))),h[a]&&b((e=>({...e,[a]:""})))},F=e=>{const a=new Date,l=new Date(e);let i=a.getFullYear()-l.getFullYear();const s=a.getMonth()-l.getMonth();return(s<0||0===s&&a.getDate()<l.getDate())&&i--,i};return u.useEffect((()=>{x&&(N(),a()),j&&N()}),[x,j,N,a]),u.useEffect((()=>{f&&(w(),a()),k&&w()}),[f,w,a,k]),r.jsx("div",{className:"container mt-3",children:r.jsxs("div",{className:"row",children:[r.jsx("div",{className:"col-md-4",children:r.jsx("div",{className:"card shadow-sm",children:r.jsx("div",{className:"card-body",children:r.jsxs("form",{onSubmit:async e=>{e.preventDefault();const a=(()=>{const e={};s.name.trim()||(e.name="Nama harus diisi"),s.gender||(e.gender="Jenis kelamin harus dipilih"),s.birth_date?new Date(s.birth_date)>new Date&&(e.birth_date="Tanggal lahir tidak boleh lebih dari hari ini"):e.birth_date="Tanggal lahir harus diisi";return e})();Object.keys(a).length>0?b(a):d.promise(v(s).unwrap().then((e=>e.message)),{loading:"Memproses data...",success:e=>e,error:e=>e.data.message})},children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("input",{type:"text",className:"form-control "+(h.name?"is-invalid":""),placeholder:"Nama Keluarga",name:"name",value:s.name,onChange:C}),h.name&&r.jsx("div",{className:"invalid-feedback",children:h.name})]}),r.jsxs("div",{className:"mb-3",children:[r.jsxs("select",{className:"form-select "+(h.gender?"is-invalid":""),name:"gender",value:s.gender,onChange:C,children:[r.jsx("option",{value:"",hidden:!0,children:"Pilih Jenis Kelamin"}),r.jsx("option",{value:"L",children:"Laki Laki"}),r.jsx("option",{value:"P",children:"Perempuan"})]}),h.gender&&r.jsx("div",{className:"invalid-feedback",children:h.gender})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("input",{type:"date",className:"form-control "+(h.birth_date?"is-invalid":""),name:"birth_date",value:s.birth_date,onChange:C}),h.birth_date&&r.jsx("div",{className:"invalid-feedback",children:h.birth_date})]}),r.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[r.jsx("button",{type:"button",className:"btn btn-sm btn-warning",onClick:()=>{n(i),c(null),b({})},disabled:p,children:"Batal"}),r.jsxs("button",{type:"submit",className:"btn btn-sm btn-success",disabled:p,children:[p?r.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}):null,t?"Update":"Simpan"]})]})]})})})}),r.jsx("div",{className:"col-md-8",children:r.jsx("div",{className:"card shadow-sm",children:r.jsx("div",{className:"card-body",children:r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table table-hover",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"No"}),r.jsx("th",{children:"Nama"}),r.jsx("th",{children:"Jenis Kelamin"}),r.jsx("th",{children:"Tanggal Lahir"}),r.jsx("th",{children:"Usia"}),r.jsx("th",{children:"Aksi"})]})}),r.jsx("tbody",{children:null==e?void 0:e.map(((e,a)=>r.jsxs("tr",{children:[r.jsx("td",{children:a+1}),r.jsx("td",{children:e.name}),r.jsx("td",{children:"L"===e.gender?"Laki Laki":"Perempuan"}),r.jsx("td",{children:new Date(e.birth_date).toLocaleDateString("id-ID")}),r.jsxs("td",{children:[F(e.birth_date)," Tahun"]}),r.jsx("td",{children:r.jsxs("div",{className:"d-flex gap-1",children:[r.jsx("button",{className:"btn btn-sm btn-warning",onClick:()=>(e=>{c(e.id),n({id:e.id,userid:e.userid,name:e.name,gender:e.gender,birth_date:y(e.birth_date)}),b({})})(e),title:"Edit",children:r.jsx("i",{className:"bi bi-pencil-square"})}),r.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>(async e=>{window.confirm("Apakah Anda yakin ingin menghapus data keluarga ini?")&&d.promise(g(e).unwrap().then((e=>e.message)),{loading:"Memproses data...",success:e=>e,error:e=>e.data.message})})(e.id),title:"Hapus",disabled:_,children:r.jsx("i",{className:"bi bi-trash"})})]})})]},e.id)))})]})})})})})]})})},w=()=>{const e=v(),{name:a,nis:l,periode:i,userid:s}=p(),[n,t]=u.useState("biodata"),{data:d,isLoading:c,isError:m,refetch:o}=h(s),{user:j}=b((e=>e.auth)),g=null==d?void 0:d.data,_=e=>{t(e)},y=()=>{o()};return c?r.jsx(x,{title:`Database ${a.replace(/-/g," ")}`,levels:["admin","teacher","student","parent"],children:r.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:r.jsx("div",{className:"spinner-border text-primary",role:"status",children:r.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):r.jsx(x,{title:`Database ${a.replace(/-/g," ")}`,levels:["admin","teacher","student","parent"],children:r.jsxs("div",{className:"container-fluid",children:[r.jsx("div",{className:"row mb-2",children:r.jsx("div",{className:"col-12",children:r.jsx("div",{className:"card shadow-sm",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[r.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[r.jsxs("span",{className:"badge bg-secondary",children:[r.jsx("i",{className:"bi bi-calendar me-1"}),null==g?void 0:g.periode_name]}),r.jsxs("span",{className:"badge bg-primary",children:[null==g?void 0:g.grade_name," ",null==g?void 0:g.class_name]}),r.jsxs("span",{className:"badge bg-info",children:[r.jsx("i",{className:"bi bi-person me-1"}),null==g?void 0:g.student_gender]}),r.jsxs("span",{className:"badge bg-success",children:[r.jsx("i",{className:"bi bi-check-circle me-1"}),(null==g?void 0:g.isactive)?"Aktif":"Tidak Aktif"]})]}),"admin"===(null==j?void 0:j.level)&&r.jsxs("button",{className:"btn btn-sm btn-info",onClick:()=>{e("/database")},children:[r.jsx("i",{className:"bi bi-arrow-left"})," Kembali"]})]})})})})}),r.jsx("div",{className:"row",children:r.jsx("div",{className:"col-12",children:r.jsx("div",{className:"card shadow-sm",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("ul",{className:"nav nav-tabs nav-fill mb-3",children:[r.jsx("li",{className:"nav-item",children:r.jsxs("button",{className:"nav-link "+("biodata"===n?"active":""),onClick:()=>_("biodata"),children:[r.jsx("i",{className:"bi bi-person me-2"}),"Biodata"]})}),r.jsx("li",{className:"nav-item",children:r.jsxs("button",{className:"nav-link "+("parent"===n?"active":""),onClick:()=>_("parent"),children:[r.jsx("i",{className:"bi bi-people me-2"}),"Orang Tua"]})}),r.jsx("li",{className:"nav-item",children:r.jsxs("button",{className:"nav-link "+("family"===n?"active":""),onClick:()=>_("family"),children:[r.jsx("i",{className:"bi bi-person-lines-fill me-2"}),"Keluarga"]})})]}),r.jsxs("div",{className:"tab-content",children:["biodata"===n&&r.jsx(N,{studentData:g&&g,userid:s,onRefetch:y}),"parent"===n&&r.jsx(f,{studentData:g&&g,userid:s,onRefetch:y}),"family"===n&&r.jsx(k,{families:null==g?void 0:g.family,userid:s,onRefetch:y})]})]})})})})]})})};export{w as default};
//# sourceMappingURL=DbPage-DqoQvu4G.js.map
