import{bv as e,j as a,e as s,bt as t,bw as n}from"./index-DFhdulld.js";import{b as l}from"./vendor-CnnDPxwB.js";import{L as i}from"./Layout-GZnRoUIy.js";import{T as r}from"./Table-CpyGbvYh.js";import"./index-B8CuzAwO.js";import"./index-g0LoU_Ie.js";const c=({detail:t,setDetail:n})=>{const[i,r]=l.useState(""),[c,d]=l.useState(""),[m,o]=l.useState(""),[h,u]=l.useState(""),[x,{isLoading:j,isSuccess:b,isError:g,reset:p}]=e();return l.useEffect((()=>{b&&(n({}),r(""),d(""),o(""),u(""),p()),g&&p()}),[b,g]),l.useEffect((()=>{t&&(r(t.id),d(t.name),o(t.ayat),u(t.lines))}),[t]),a.jsxs("form",{onSubmit:async e=>{e.preventDefault();const a={id:i||"",name:c,ayat:m,lines:h};s.promise(x(a).unwrap().then((e=>e.message)),{loading:"Menyimpan...",success:e=>e,error:e=>e.data.message})},className:"rounded border bg-white d-flex flex-column gap-2 p-2",children:[a.jsx("p",{className:"m-0 h6",children:"Surah"}),a.jsx("input",{type:"text",name:"name",id:"name",className:"form-control",placeholder:"Nama Surah",value:c||"",onChange:e=>d(e.target.value),required:!0}),a.jsx("input",{type:"number",name:"ayat",id:"ayat",className:"form-control",placeholder:"Jumlah Ayat",value:m||"",onChange:e=>o(e.target.value),required:!0}),a.jsx("input",{type:"number",name:"line",id:"line",className:"form-control",placeholder:"Jumlah Baris",value:h||"",onChange:e=>u(e.target.value),required:!0}),a.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[a.jsx("button",{type:"button",className:"btn btn-warning",onClick:()=>{n({}),r(""),d(""),o(""),u("")},children:"Batal"}),a.jsx("button",{type:"submit",className:"btn btn-success",disabled:j,children:j?"Menyimpan...":"Simpan"})]})]})},d=({setDetail:e})=>{const[i,c]=l.useState(1),[d,m]=l.useState(10),[o,h]=l.useState(""),{data:u={},isLoading:x}=t({page:i,limit:d,search:o}),{result:j=[],totalData:b,totalPages:g}=u,[p,{isLoading:N}]=n();return a.jsx(r,{isLoading:x,totalData:b,totalPages:g,page:i,setPage:c,setLimit:m,setSearch:h,children:a.jsxs("table",{className:"mb-0 table table-hover table-striped table-bordered",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-center",children:"No"}),a.jsx("th",{className:"text-center",children:"Nama Surah"}),a.jsx("th",{className:"text-center",children:"Jumlah Ayat"}),a.jsx("th",{className:"text-center",children:"Jumlah Baris"}),a.jsx("th",{className:"text-center",children:"Aksi"})]})}),a.jsx("tbody",{children:j.map(((t,n)=>a.jsxs("tr",{children:[a.jsx("td",{className:"text-center align-middle",children:(i-1)*d+n+1}),a.jsx("td",{className:"align-middle",children:t.name}),a.jsx("td",{className:"text-center align-middle",children:t.ayat}),a.jsx("td",{className:"text-center align-middle",children:t.lines}),a.jsx("td",{className:"text-center align-middle",children:a.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[a.jsx("button",{className:"btn btn-sm btn-warning",onClick:()=>e(t),children:a.jsx("i",{className:"bi bi-pencil-square"})}),a.jsx("button",{className:"btn btn-sm btn-danger",disabled:N,onClick:()=>(async e=>{s.promise(p(e).unwrap().then((e=>e.message)),{loading:"Menghapus...",success:e=>e,error:e=>e.data.message})})(t.id),children:a.jsx("i",{className:"bi bi-trash"})})]})})]},t.id)))})]})})},m=()=>{const[e,s]=l.useState({});return a.jsx(i,{title:"Tahfiz - Daftar Surah",levels:["tahfiz"],children:a.jsxs("div",{className:"row g-2",children:[a.jsx("div",{className:"col-lg-3 col-12",children:a.jsx(c,{detail:e,setDetail:s})}),a.jsx("div",{className:"col-lg-9 col-12",children:a.jsx(d,{setDetail:s})})]})})};export{m as default};
//# sourceMappingURL=TahfizSurah-6jIjYMbK.js.map
