{"version":3,"file":"Table-CsgB1q8P.js","sources":["../../src/components/loader/TableLoader.jsx","../../src/components/table/Table.jsx"],"sourcesContent":["import React from \"react\";\r\n\r\nconst TableLoader = () => {\r\n  return (\r\n    <div className=\"container py-5\">\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              {[...Array(5)].map((_, i) => (\r\n                <th key={i}>\r\n                  <span className=\"placeholder-glow w-75 d-block\">\r\n                    <span className=\"placeholder col-8\"></span>\r\n                  </span>\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {[...Array(6)].map((_, rowIdx) => (\r\n              <tr key={rowIdx}>\r\n                {[...Array(5)].map((_, colIdx) => (\r\n                  <td key={colIdx}>\r\n                    <span className=\"placeholder-glow w-100 d-block\">\r\n                      <span className=\"placeholder col-10\"></span>\r\n                    </span>\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableLoader;\r\n","import { useState, useEffect } from \"react\";\r\nimport * as Md from \"react-icons/md\";\r\nimport TableLoader from \"../loader/TableLoader\";\r\n\r\nconst Table = ({\r\n  children,\r\n  height,\r\n  id,\r\n  totalData,\r\n  page,\r\n  setPage,\r\n  totalPages,\r\n  limit,\r\n  setLimit,\r\n  setSearch,\r\n  isLoading,\r\n  downloadButton,\r\n}) => {\r\n  const [limitValue, setLimitValue] = useState(limit || 10);\r\n  const [searchTimeout, setSearchTimeout] = useState(null);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n  // Update limitValue when limit prop changes\r\n  useEffect(() => {\r\n    setLimitValue(limit || 10);\r\n  }, [limit]);\r\n\r\n  // Clean up timeout on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (searchTimeout) {\r\n        clearTimeout(searchTimeout);\r\n      }\r\n    };\r\n  }, [searchTimeout]);\r\n\r\n  const handleLimit = (e) => {\r\n    const newLimit = parseInt(e.target.value);\r\n    setLimit(newLimit);\r\n    setLimitValue(newLimit);\r\n  };\r\n\r\n  const handlePageChange = (newPage) => {\r\n    if (newPage >= 1 && newPage <= totalPages) {\r\n      setPage(newPage);\r\n    }\r\n  };\r\n\r\n  const handleSearchChange = (e) => {\r\n    const value = e.target.value;\r\n    setSearchValue(value);\r\n\r\n    // Clear previous timeout\r\n    if (searchTimeout) {\r\n      clearTimeout(searchTimeout);\r\n    }\r\n\r\n    // Set new timeout to delay API call\r\n    const timeout = setTimeout(() => {\r\n      setSearch(value);\r\n      setPage(1); // Reset to first page when searching\r\n    }, 500);\r\n\r\n    setSearchTimeout(timeout);\r\n  };\r\n\r\n  const getPageNumbers = () => {\r\n    let pages = [];\r\n    if (totalPages <= 3) {\r\n      pages = [...Array(totalPages).keys()].map((i) => i + 1);\r\n    } else {\r\n      if (page === 1) {\r\n        pages = [1, 2, 3];\r\n      } else if (page === totalPages) {\r\n        pages = [totalPages - 2, totalPages - 1, totalPages];\r\n      } else {\r\n        pages = [page - 1, page, page + 1];\r\n      }\r\n    }\r\n\r\n    return pages;\r\n  };\r\n  return (\r\n    <div className='rounded-lg  no-overflow-x'>\r\n      <div style={{ height: height }} className='d-flex flex-column gap-4'>\r\n        <div className='d-flex flex-wrap align-items-center justify-content-between gap-3'>\r\n          <div className='position-relative'>\r\n            <input\r\n              className='form-control ps-4'\r\n              name='search'\r\n              id='search'\r\n              placeholder='Cari data...'\r\n              style={{ width: 280, borderRadius: \"8px\" }}\r\n              value={searchValue}\r\n              onChange={handleSearchChange}\r\n            />\r\n          </div>\r\n\r\n          <div className='d-flex gap-3'>\r\n            <select\r\n              style={{ width: 120, borderRadius: \"8px\" }}\r\n              name='limit'\r\n              id='limit'\r\n              className='form-select'\r\n              value={limitValue || \"\"}\r\n              onChange={handleLimit}\r\n            >\r\n              <option value='10'>10 per halaman</option>\r\n              <option value='20'>20 per halaman</option>\r\n              <option value='50'>50 per halaman</option>\r\n              <option value='100'>100 per halaman</option>\r\n              <option value='200'>200 per halaman</option>\r\n              <option value='500'>500 per halaman</option>\r\n              <option value='1000'>1000 per halaman</option>\r\n            </select>\r\n\r\n            {downloadButton && (\r\n              <button\r\n                onClick={downloadButton.onClick}\r\n                disabled={downloadButton.isLoading}\r\n                className='btn btn-sm btn-outline-success'\r\n                style={{ borderRadius: \"8px\" }}\r\n              >\r\n                <i className='bi bi-file-earmark-arrow-down-fill me-2'></i>\r\n                {downloadButton.isLoading ? \"Mengunduh...\" : \"Download\"}\r\n              </button>\r\n            )}\r\n\r\n            {id && (\r\n              <button\r\n                data-bs-toggle='modal'\r\n                data-bs-target={`#${id}`}\r\n                className='btn btn-primary d-flex align-items-center gap-2'\r\n                style={{ borderRadius: \"8px\" }}\r\n              >\r\n                <Md.MdAdd size={20} />\r\n                Tambah Data\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Table */}\r\n        <div className='rounded-lg'>\r\n          {isLoading ? <TableLoader /> : children}\r\n        </div>\r\n\r\n        {/* Pagination and Info */}\r\n        <div className='d-flex align-items-center justify-content-between flex-wrap gap-3'>\r\n          <div className='d-flex align-items-center gap-2'>\r\n            <span className='text-muted'>Total Data:</span>\r\n            <span className='fw-semibold'>\r\n              {parseFloat(totalData).toLocaleString(\"id-ID\")}\r\n            </span>\r\n          </div>\r\n\r\n          <nav aria-label='Page navigation example' className='m-0'>\r\n            <ul className='pagination pagination-sm mb-0'>\r\n              <li className={`page-item ${page === 1 ? \"disabled\" : \"\"}`}>\r\n                <button\r\n                  className='page-link border-0'\r\n                  aria-label='Previous'\r\n                  onClick={() => handlePageChange(page - 1)}\r\n                  style={{ borderRadius: \"6px\", margin: \"0 2px\" }}\r\n                >\r\n                  <span aria-hidden='true'>&laquo;</span>\r\n                </button>\r\n              </li>\r\n              {getPageNumbers().map((pageNumber) => (\r\n                <li\r\n                  key={pageNumber}\r\n                  className={`page-items ${\r\n                    page === pageNumber ? \"active\" : \"\"\r\n                  }`}\r\n                >\r\n                  <button\r\n                    className='page-link border-0'\r\n                    onClick={() => handlePageChange(pageNumber)}\r\n                    style={{\r\n                      borderRadius: \"6px\",\r\n                      margin: \"0 2px\",\r\n                      backgroundColor:\r\n                        page === pageNumber ? \"#0d6efd\" : \"transparent\",\r\n                      color: page === pageNumber ? \"white\" : \"inherit\",\r\n                    }}\r\n                  >\r\n                    {pageNumber}\r\n                  </button>\r\n                </li>\r\n              ))}\r\n\r\n              <li\r\n                className={`page-item ${page === totalPages ? \"disabled\" : \"\"}`}\r\n              >\r\n                <button\r\n                  className='page-link border-0'\r\n                  aria-label='Next'\r\n                  onClick={() => handlePageChange(page + 1)}\r\n                  style={{ borderRadius: \"6px\", margin: \"0 2px\" }}\r\n                >\r\n                  <span aria-hidden='true'>&raquo;</span>\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n"],"names":["TableLoader","jsx","className","children","jsxRuntimeExports","jsxs","Array","map","_","i","rowIdx","colIdx","Table","height","id","totalData","page","setPage","totalPages","limit","setLimit","setSearch","isLoading","downloadButton","limitValue","setLimitValue","useState","searchTimeout","setSearchTimeout","searchValue","setSearchValue","useEffect","clearTimeout","handlePageChange","newPage","style","name","placeholder","width","borderRadius","value","onChange","e","target","timeout","setTimeout","newLimit","parseInt","onClick","disabled","Md.MdAdd","size","toLocaleString","margin","pages","keys","getPageNumbers","pageNumber","backgroundColor","color"],"mappings":"yHAEA,MAAMA,EAAc,IAEhBC,EAAAA,IAAC,MAAI,CAAAC,UAAU,iBACbC,WAAAF,IAAC,MAAI,CAAAC,UAAU,mBACbC,SAAAC,EAAAC,KAAC,QAAM,CAAAH,UAAU,QACfC,SAAA,CAAAF,EAAAA,IAAC,QACC,CAAAE,SAAAF,EAAAA,IAAC,KACE,CAAAE,SAAA,IAAIG,MAAM,IAAIC,KAAI,CAACC,EAAGC,IACrBR,EAAAA,IAAC,KACC,CAAAE,SAAAF,EAAAA,IAAC,OAAK,CAAAC,UAAU,gCACdC,SAAAF,EAAAA,IAAC,OAAK,CAAAC,UAAU,yBAFXO,eAQd,QACE,CAAAN,SAAA,IAAIG,MAAM,IAAIC,KAAI,CAACC,EAAGE,IACpBT,MAAA,KAAA,CACEE,aAAIG,MAAM,IAAIC,KAAI,CAACC,EAAGG,UACpB,MACCR,SAACF,EAAAA,IAAA,OAAA,CAAKC,UAAU,iCACdC,SAAAC,EAAAH,IAAC,QAAKC,UAAU,0BAFXS,MAFJD,cChBjBE,EAAQ,EACZT,WACAU,SACAC,KACAC,YACAC,OACAC,UACAC,aACAC,QACAC,WACAC,YACAC,YACAC,qBAEA,MAAOC,EAAYC,GAAiBC,EAAAA,SAASP,GAAS,KAC/CQ,EAAeC,GAAoBF,EAAAA,SAAS,OAC5CG,EAAaC,GAAkBJ,EAAAA,SAAS,IAG/CK,EAAAA,WAAU,KACRN,EAAcN,GAAS,GAAE,GACxB,CAACA,IAGJY,EAAAA,WAAU,IACD,KACDJ,GACFK,aAAaL,EAAa,GAG7B,CAACA,IAEE,MAMAM,EAAoBC,IACpBA,GAAW,GAAKA,GAAWhB,GAC7BD,EAAQiB,EAAO,EAuCjB,SAAAjC,IAAC,MAAI,CAAAC,UAAU,4BACbC,SAAAE,EAAAA,KAAC,MAAI,CAAA8B,MAAO,CAAEtB,UAAkBX,UAAU,2BACxCC,SAAA,GAACE,KAAA,MAAA,CAAIH,UAAU,oEACbC,SAAA,GAACF,IAAA,MAAA,CAAIC,UAAU,oBACbC,SAAAC,EAAAH,IAAC,QAAA,CACCC,UAAU,oBACVkC,KAAK,SACLtB,GAAG,SACHuB,YAAY,eACZF,MAAO,CAAEG,MAAO,IAAKC,aAAc,OACnCC,MAAOX,EACPY,SA9CgBC,IACpB,MAAAF,EAAQE,EAAEC,OAAOH,MACvBV,EAAeU,GAGXb,GACFK,aAAaL,GAIT,MAAAiB,EAAUC,YAAW,KACzBxB,EAAUmB,GACVvB,EAAQ,EAAC,GACR,KAEHW,EAAiBgB,EAAO,QAmClBvC,KAAC,MAAI,CAAAH,UAAU,eACbC,SAAA,CAAAC,EAAAC,KAAC,SAAA,CACC8B,MAAO,CAAEG,MAAO,IAAKC,aAAc,OACnCH,KAAK,QACLtB,GAAG,QACHZ,UAAU,cACVsC,MAAOhB,GAAc,GACrBiB,SArESC,IACnB,MAAMI,EAAWC,SAASL,EAAEC,OAAOH,OACnCpB,EAAS0B,GACTrB,EAAcqB,EAAQ,EAoEZ3C,SAAA,CAACF,EAAAA,IAAA,SAAA,CAAOuC,MAAM,KAAKrC,SAAc,mBAChCF,EAAAA,IAAA,SAAA,CAAOuC,MAAM,KAAKrC,SAAc,mBAChCF,EAAAA,IAAA,SAAA,CAAOuC,MAAM,KAAKrC,SAAc,mBAChCF,EAAAA,IAAA,SAAA,CAAOuC,MAAM,MAAMrC,SAAe,oBAClCF,EAAAA,IAAA,SAAA,CAAOuC,MAAM,MAAMrC,SAAe,oBAClCF,EAAAA,IAAA,SAAA,CAAOuC,MAAM,MAAMrC,SAAe,oBAClCF,EAAAA,IAAA,SAAA,CAAOuC,MAAM,OAAOrC,SAAgB,wBAGtCoB,GACCnB,EAAAC,KAAC,SAAA,CACC2C,QAASzB,EAAeyB,QACxBC,SAAU1B,EAAeD,UACzBpB,UAAU,iCACViC,MAAO,CAAEI,aAAc,OAEvBpC,SAAA,GAACF,IAAA,IAAA,CAAEC,UAAU,4CACZqB,EAAeD,UAAY,eAAiB,cAIhDR,GACCV,EAAAC,KAAC,SAAA,CACC,iBAAe,QACf,iBAAgB,IAAIS,IACpBZ,UAAU,kDACViC,MAAO,CAAEI,aAAc,OAEvBpC,SAAA,GAAAF,IAACiD,EAAA,CAASC,KAAM,KAAM,uBAQ9BlD,EAAAA,IAAC,OAAIC,UAAU,aACZC,WAAaF,EAAAA,IAAAD,EAAA,IAAiBG,MAIjCE,KAAC,MAAI,CAAAH,UAAU,oEACbC,SAAA,GAACE,KAAA,MAAA,CAAIH,UAAU,kCACbC,SAAA,CAACF,EAAAA,IAAA,OAAA,CAAKC,UAAU,aAAaC,SAAW,gBACxCF,EAAAA,IAAC,QAAKC,UAAU,cACbC,oBAAWY,GAAWqC,eAAe,cAI1CnD,EAAAA,IAAC,OAAI,aAAW,0BAA0BC,UAAU,MAClDC,WAAAE,KAAC,KAAG,CAAAH,UAAU,gCACZC,SAAA,CAAAF,EAAAA,IAAC,MAAGC,UAAW,cAAsB,IAATc,EAAa,WAAa,IACpDb,SAAAC,EAAAH,IAAC,SAAA,CACCC,UAAU,qBACV,aAAW,WACX8C,QAAS,IAAMf,EAAiBjB,EAAO,GACvCmB,MAAO,CAAEI,aAAc,MAAOc,OAAQ,SAEtClD,WAACF,IAAA,OAAA,CAAK,cAAY,OAAOE,SAAO,UAnGzB,MACrB,IAAImD,EAAQ,GAaL,OAXLA,EADEpC,GAAc,EACR,IAAIZ,MAAMY,GAAYqC,QAAQhD,KAAKE,GAAMA,EAAI,IAExC,IAATO,EACM,CAAC,EAAG,EAAG,GACNA,IAASE,EACV,CAACA,EAAa,EAAGA,EAAa,EAAGA,GAEjC,CAACF,EAAO,EAAGA,EAAMA,EAAO,GAI7BsC,CAAA,EAwFIE,GAAiBjD,KAAKkD,GACrBrD,EAAAH,IAAC,KAAA,CAECC,UAAW,eACTc,IAASyC,EAAa,SAAW,IAGnCtD,SAAAC,EAAAH,IAAC,SAAA,CACCC,UAAU,qBACV8C,QAAS,IAAMf,EAAiBwB,GAChCtB,MAAO,CACLI,aAAc,MACdc,OAAQ,QACRK,gBACE1C,IAASyC,EAAa,UAAY,cACpCE,MAAO3C,IAASyC,EAAa,QAAU,WAGxCtD,SAAAsD,KAhBEA,KAqBTrD,EAAAH,IAAC,KAAA,CACCC,UAAW,cAAac,IAASE,EAAa,WAAa,IAE3Df,SAAAC,EAAAH,IAAC,SAAA,CACCC,UAAU,qBACV,aAAW,OACX8C,QAAS,IAAMf,EAAiBjB,EAAO,GACvCmB,MAAO,CAAEI,aAAc,MAAOc,OAAQ,SAEtClD,WAACF,IAAA,OAAA,CAAK,cAAY,OAAOE,SAAO,sBAO9C"}