import{a as _,r as n,bs as v,j as e}from"./index-_V-Hszfs.js";import{L as y}from"./Layout-BOPYSC9s.js";import{T as f}from"./Table-pFA1e1UJ.js";const k=()=>{const c=_(),[t,r]=n.useState(1),[a,i]=n.useState(10),[d,m]=n.useState(""),{data:x,isLoading:h}=v({page:t,limit:a,search:d}),{students:o=[],totalPages:j,totalData:g}=x||{},N=(s,l,b,p)=>{const u=l.replace(/\s+/g,"-");c(`/database/${s}/${u}/${b}/${p}`)};return e.jsx(y,{title:"Database",levels:["admin","teacher"],children:e.jsx(f,{isLoading:h,page:t,setPage:r,limit:a,setLimit:i,setSearch:m,totalData:g,totalPages:j,children:e.jsxs("table",{className:"mb-0 table table-striped table-hover table-bordered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",children:"No"}),e.jsx("th",{className:"text-center",children:"NIS"}),e.jsx("th",{className:"text-center",children:"Nama"}),e.jsx("th",{className:"text-center",children:"P/L"}),e.jsx("th",{className:"text-center",children:"Tahun Masuk"}),e.jsx("th",{className:"text-center",children:"Tingkat"}),e.jsx("th",{className:"text-center",children:"Kelas"}),e.jsx("th",{className:"text-center",children:"Kelengkapan Data"}),e.jsx("th",{className:"text-center",children:"Aksi"})]})}),e.jsx("tbody",{children:o.map((s,l)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center align-middle",children:l+1+(t-1)*a}),e.jsx("td",{className:"text-center align-middle",children:s.student_nis}),e.jsx("td",{className:"align-middle",children:s.student_name}),e.jsx("td",{className:"text-center align-middle",children:s.student_gender||"-"}),e.jsx("td",{className:"text-center align-middle",children:s.student_entry||"-"}),e.jsx("td",{className:"text-center align-middle",children:s.student_grade||"-"}),e.jsx("td",{className:"text-center align-middle",children:s.student_class||"-"}),e.jsx("td",{className:"text-center align-middle ",children:e.jsx("div",{className:"progress",style:{height:"20px"},children:e.jsxs("div",{className:`progress-bar ${parseInt(s.completeness)===100?"bg-success":parseInt(s.completeness)>=50?"bg-warning":"bg-danger"}`,role:"progressbar",style:{width:`${s.completeness}%`},"aria-valuenow":s.completeness,"aria-valuemin":"0","aria-valuemax":"100",children:[s.completeness,"%"]})})}),e.jsx("td",{className:"text-center align-middle",children:e.jsx("button",{className:"btn btn-sm btn-info",onClick:()=>N(s.student_id,s.student_name,s.student_nis,s.student_entry_id),children:e.jsx("i",{className:"bi bi-database"})})})]},s.student_id))})]})})})};export{k as default};
