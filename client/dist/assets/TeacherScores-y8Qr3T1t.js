import{j as e,m as a,bn as s,b as i}from"./index--FDqv5DW.js";import{u as l,k as t,b as n}from"./vendor-DfXzdC0j.js";import{L as r}from"./Layout-gnwZRalp.js";import{S as c}from"./react-select.esm-DUeLA41h.js";import"./index-Cjq_QsmG.js";import"./index-33-gAEu4.js";import"./index-C1AnEztE.js";const o=({subjects:s,user:i})=>{const t=l(),n=(e,a)=>{const s=e.replace(/\s+/g,"-");t(`/guru-penilaian?subject=${s}&id=${a}`)},r={hidden:{y:20,opacity:0},show:{y:0,opacity:1}};return e.jsx(a.div,{className:"row g-3",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:s.map((s=>e.jsx(a.div,{className:"col-xl-3 col-lg-4 col-md-6",variants:r,children:e.jsxs("div",{className:"card h-100 shadow-sm border-0 hover-card rounded-3 overflow-hidden",onClick:()=>n(s.name,s.id),style:{cursor:"pointer",transition:"all 0.3s ease"},children:[e.jsx("div",{className:"position-relative",children:e.jsx("img",{src:s.cover?`${window.location.origin}${s.cover}`:"/logo.png",alt:s.name,className:"card-img-top",style:{height:"250px",objectFit:"cover"}})}),e.jsxs("div",{className:"card-body p-4",children:[e.jsx("h5",{className:"card-title mb-3 fw-bold text-primary",children:s.name}),e.jsxs("div",{className:"d-flex align-items-center text-muted mb-3",children:[e.jsx("i",{className:"bi bi-mortarboard-fill me-2"}),e.jsx("span",{className:"small",children:null==i?void 0:i.name})]}),e.jsxs("button",{className:"btn btn-primary w-100 rounded-pill py-2",onClick:e=>{e.stopPropagation(),n(s.name,s.id)},children:[e.jsx("i",{className:"bi bi-arrow-right-circle-fill me-2"}),"Kelola Penilaian"]})]})]})},s.id)))})},d={menuPortal:e=>({...e,zIndex:10})},m=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],u=({subject:a,id:i})=>{const{data:l}=s(i),[r,o]=t(),u=n.useMemo((()=>(null==l?void 0:l.map((e=>({value:e.chapter_id,label:e.chapter_name}))))||[]),[l]),h=r.get("chapterid"),p=r.get("classid"),j=r.get("month"),[g,x]=n.useState(null),[b,v]=n.useState(null),[f,y]=n.useState(null),N=n.useMemo((()=>{var e;if(!g&&!h)return[];const a=g?g.value:h,s=null==l?void 0:l.find((e=>String(e.chapter_id)===String(a)));return(null==(e=null==s?void 0:s.class)?void 0:e.map((e=>({value:e.id,label:e.name}))))||[]}),[l,g,h]),w=n.useMemo((()=>m.map((e=>({value:e,label:e})))),[]);n.useEffect((()=>{if(h&&u.length>0){const e=u.find((e=>String(e.value)===String(h)));x(e||null)}}),[h,u]),n.useEffect((()=>{if(p&&N.length>0){const e=N.find((e=>String(e.value)===String(p)));v(e||null)}}),[p,N]),n.useEffect((()=>{if(j&&w.length>0){const e=w.find((e=>e.value===j));y(e||null)}}),[j,w]);const P=(e,s,l)=>{const t={};a&&(t.subject=a),i&&(t.id=i),e&&(t.chapterid=e.value),s&&(t.classid=s.value),l&&(t.month=l.value),o(t)};return e.jsxs("div",{className:"d-flex gap-3",children:[e.jsx(c,{options:u,value:g,onChange:e=>{x(e),v(null),P(e,null,f)},placeholder:"Pilih Chapter",menuPortalTarget:document.body,styles:d}),e.jsx(c,{options:N,value:b,onChange:e=>{v(e),P(g,e,f)},placeholder:"Pilih Kelas",isDisabled:!g,menuPortalTarget:document.body,styles:d}),e.jsx(c,{options:w,value:f,onChange:e=>{y(e),P(g,b,e)},placeholder:"Pilih Bulan",menuPortalTarget:document.body})]})},h=()=>{const[a]=t();return a.get("id"),a.get("chapterid"),a.get("classid"),a.get("month"),e.jsx("div",{className:"mt-3",children:"TableScoring"})},p=()=>{const[s]=t(),l=s.get("subject"),n=s.get("id"),{user:c}=i((e=>e.auth)),d=null==c?void 0:c.subjects,m=!d||0===d.length;return l&&n?e.jsxs(r,{title:"Penilaian",levels:["teacher"],children:[e.jsx(u,{subject:l,id:n}),e.jsx(h,{})]}):e.jsx(r,{title:"Penilaian",levels:["teacher"],children:m?e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"row justify-content-center",children:e.jsx("div",{className:"col-md-6 text-center",children:e.jsxs("div",{className:"py-5",children:[e.jsx("div",{className:"bg-light rounded-circle mx-auto mb-4 d-flex align-items-center justify-content-center",style:{width:"100px",height:"100px"},children:e.jsx("i",{className:"bi bi-journal-x display-4 text-primary"})}),e.jsx("h4",{className:"fw-bold mb-3",children:"Belum Ada Mata Pelajaran"}),e.jsx("p",{className:"text-muted mb-0",children:"Anda belum ditugaskan untuk mengajar mata pelajaran apapun saat ini"})]})})}):e.jsx(o,{subjects:d,user:c})})};export{p as default};
//# sourceMappingURL=TeacherScores-y8Qr3T1t.js.map
