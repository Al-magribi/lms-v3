import{dQ as e,j as s,F as a,n as r,E as t,aL as i,t as l,a as n,aC as o,b as d,am as c,R as j,C as x}from"./index-DuGHnWSh.js";import"./vendor-DnNJsrFE.js";import{A as h}from"./index-DjelRtRM.js";import{S as m}from"./index-3xIavl8F.js";import{L as p}from"./index-C6IEzWZL.js";import{P as u}from"./progress-DhH2LDwF.js";import{S as g}from"./index-CO9scbey.js";import{C as f}from"./Collapse-BvAcQKVj.js";import{R as v}from"./BookOutlined-CgVSmwOJ.js";import{E as y}from"./Pagination-4eRtu2vp.js";const{Title:S,Text:b}=l,I=(e,s)=>{const a=parseInt(e.juz.split(" ")[1],10),r=parseInt(s.juz.split(" ")[1],10);return isNaN(a)?1:isNaN(r)?-1:a-r},L=({name:l,userid:b,onBack:L})=>{const{data:k,isLoading:z,error:T}=e(b,{skip:!b});if(z)return s.jsx(a,{justify:"center",align:"center",style:{minHeight:"200px"},children:s.jsx(r,{size:"large"})});if(T)return s.jsx(h,{message:"Gagal Memuat Data",description:"Terjadi kesalahan saat mengambil data laporan siswa. Silakan coba lagi.",type:"error",showIcon:!0});const w=k?.student,$=k?.memorization?[...k.memorization].sort(I):[],A=k?.exceed?[...k.exceed].sort(I):[];return s.jsxs(a,{vertical:!0,gap:"large",children:[s.jsxs(m,{children:[s.jsx(t,{shape:"circle",icon:s.jsx(i,{}),onClick:L}),s.jsx(S,{style:{margin:0},level:4,children:`Laporan Hafalan ${l.replace(/-/g," ")}`})]}),w&&s.jsx(n,{title:s.jsxs(m,{children:[s.jsx(d,{})," Informasi Siswa"]}),hoverable:!0,children:s.jsxs(o,{bordered:!0,column:{xs:1,sm:2},children:[s.jsx(o.Item,{label:"Nama Lengkap",children:w.student_name}),s.jsx(o.Item,{label:"NIS",children:w.student_nis})]})}),s.jsx(S,{level:5,children:"Laporan Hafalan per Juz (Target)"}),$&&$.length>0?$.map(e=>{const r=[{key:"1",label:"Lihat Rincian Surah",children:s.jsx(p,{dataSource:e.surah,renderItem:e=>s.jsx(p.Item,{children:s.jsx(p.Item.Meta,{title:e.surah_name,description:`Ayat dihafal: ${e.verse} | Baris dihafal: ${e.line}`})})})}];return s.jsx(n,{title:s.jsxs(m,{children:[s.jsx(v,{})," ",e.juz]}),hoverable:!0,style:{width:"100%"},children:s.jsxs(a,{vertical:!0,gap:"middle",children:[s.jsx(c,{title:`Progress: ${e.progress}%`,children:s.jsx(u,{percent:e.progress})}),s.jsxs(j,{gutter:[16,16],children:[s.jsx(x,{xs:8,children:s.jsx(g,{title:"Total Ayat",value:e.verses})}),s.jsx(x,{xs:8,children:s.jsx(g,{title:"Selesai",value:e.completed,valueStyle:{color:"#3f8600"}})}),s.jsx(x,{xs:8,children:s.jsx(g,{title:"Sisa",value:e.uncompleted,valueStyle:{color:"#cf1322"}})})]}),s.jsx(f,{ghost:!0,items:r})]})},e.juz)}):s.jsx(n,{children:s.jsx(y,{description:"Belum ada data hafalan (target) yang tercatat untuk siswa ini."})}),s.jsx(S,{level:5,children:"Laporan Hafalan Tambahan (di Luar Target)"}),A&&A.length>0?A.map(e=>{const r=[{key:"1",label:"Lihat Rincian Surah",children:s.jsx(p,{dataSource:e.surah,renderItem:e=>s.jsx(p.Item,{children:s.jsx(p.Item.Meta,{title:e.surah_name,description:`Ayat dihafal: ${e.verse} | Baris dihafal: ${e.line}`})})})}];return s.jsx(n,{title:s.jsxs(m,{children:[s.jsx(v,{})," ",e.juz]}),hoverable:!0,style:{width:"100%"},children:s.jsxs(a,{vertical:!0,gap:"middle",children:[s.jsx(c,{title:`Progress: ${e.progress}%`,children:s.jsx(u,{percent:e.progress})}),s.jsxs(j,{gutter:[16,16],children:[s.jsx(x,{xs:8,children:s.jsx(g,{title:"Total Ayat",value:e.verses})}),s.jsx(x,{xs:8,children:s.jsx(g,{title:"Selesai",value:e.completed,valueStyle:{color:"#3f8600"}})}),s.jsx(x,{xs:8,children:s.jsx(g,{title:"Sisa",value:e.uncompleted,valueStyle:{color:"#cf1322"}})})]}),s.jsx(f,{ghost:!0,items:r})]})},e.juz)}):s.jsx(n,{children:s.jsx(y,{description:"Belum ada data hafalan tambahan yang tercatat."})})]})};export{L as H};
