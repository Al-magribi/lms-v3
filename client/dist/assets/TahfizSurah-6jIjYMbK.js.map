{"version":3,"file":"TahfizSurah-6jIjYMbK.js","sources":["../../src/page/tahfiz/surah/Form.jsx","../../src/page/tahfiz/surah/TableData.jsx","../../src/page/tahfiz/surah/TahfizSurah.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useAddSurahMutation } from \"../../../controller/api/tahfiz/ApiQuran\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nconst Form = ({ detail, setDetail }) => {\r\n  const [id, setId] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [ayat, setAyat] = useState(\"\");\r\n  const [lines, setLines] = useState(\"\");\r\n  const [addSurah, { isLoading, isSuccess, isError, reset }] =\r\n    useAddSurahMutation();\r\n\r\n  const addHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const data = {\r\n      id: id ? id : \"\",\r\n      name,\r\n      ayat,\r\n      lines,\r\n    };\r\n\r\n    toast.promise(\r\n      addSurah(data)\r\n        .unwrap()\r\n        .then((res) => res.message),\r\n      {\r\n        loading: \"Menyimpan...\",\r\n        success: (message) => message,\r\n        error: (err) => err.data.message,\r\n      }\r\n    );\r\n  };\r\n\r\n  const cancel = () => {\r\n    setDetail({});\r\n    setId(\"\");\r\n    setName(\"\");\r\n    setAyat(\"\");\r\n    setLines(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      setDetail({});\r\n      setId(\"\");\r\n      setName(\"\");\r\n      setAyat(\"\");\r\n      setLines(\"\");\r\n      reset();\r\n    }\r\n\r\n    if (isError) {\r\n      reset();\r\n    }\r\n  }, [isSuccess, isError]);\r\n\r\n  useEffect(() => {\r\n    if (detail) {\r\n      setId(detail.id);\r\n      setName(detail.name);\r\n      setAyat(detail.ayat);\r\n      setLines(detail.lines);\r\n    }\r\n  }, [detail]);\r\n\r\n  return (\r\n    <form\r\n      onSubmit={addHandler}\r\n      className='rounded border bg-white d-flex flex-column gap-2 p-2'>\r\n      <p className='m-0 h6'>Surah</p>\r\n\r\n      <input\r\n        type='text'\r\n        name='name'\r\n        id='name'\r\n        className='form-control'\r\n        placeholder='Nama Surah'\r\n        value={name || \"\"}\r\n        onChange={(e) => setName(e.target.value)}\r\n        required\r\n      />\r\n\r\n      <input\r\n        type='number'\r\n        name='ayat'\r\n        id='ayat'\r\n        className='form-control'\r\n        placeholder='Jumlah Ayat'\r\n        value={ayat || \"\"}\r\n        onChange={(e) => setAyat(e.target.value)}\r\n        required\r\n      />\r\n\r\n      <input\r\n        type='number'\r\n        name='line'\r\n        id='line'\r\n        className='form-control'\r\n        placeholder='Jumlah Baris'\r\n        value={lines || \"\"}\r\n        onChange={(e) => setLines(e.target.value)}\r\n        required\r\n      />\r\n\r\n      <div className='d-flex justify-content-end gap-2'>\r\n        <button type='button' className='btn btn-warning' onClick={cancel}>\r\n          Batal\r\n        </button>\r\n        <button type='submit' className='btn btn-success' disabled={isLoading}>\r\n          {isLoading ? \"Menyimpan...\" : \"Simpan\"}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React, { useState } from \"react\";\r\nimport Table from \"../../../components/table/Table\";\r\nimport {\r\n  useGetSurahQuery,\r\n  useDeleteSurahMutation,\r\n} from \"../../../controller/api/tahfiz/ApiQuran\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nconst TableData = ({ setDetail }) => {\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const { data: rawData = {}, isLoading } = useGetSurahQuery({\r\n    page,\r\n    limit,\r\n    search,\r\n  });\r\n  const { result = [], totalData, totalPages } = rawData;\r\n  const [deleteSurah, { isLoading: isDeleting }] = useDeleteSurahMutation();\r\n\r\n  const handleDelete = async (id) => {\r\n    toast.promise(\r\n      deleteSurah(id)\r\n        .unwrap()\r\n        .then((res) => res.message),\r\n      {\r\n        loading: \"Menghapus...\",\r\n        success: (message) => message,\r\n        error: (err) => err.data.message,\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Table\r\n      isLoading={isLoading}\r\n      totalData={totalData}\r\n      totalPages={totalPages}\r\n      page={page}\r\n      setPage={setPage}\r\n      setLimit={setLimit}\r\n      setSearch={setSearch}\r\n    >\r\n      <table className='mb-0 table table-hover table-striped table-bordered'>\r\n        <thead>\r\n          <tr>\r\n            <th className='text-center'>No</th>\r\n            <th className='text-center'>Nama Surah</th>\r\n            <th className='text-center'>Jumlah Ayat</th>\r\n            <th className='text-center'>Jumlah Baris</th>\r\n            <th className='text-center'>Aksi</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {result.map((item, index) => (\r\n            <tr key={item.id}>\r\n              <td className='text-center align-middle'>\r\n                {(page - 1) * limit + index + 1}\r\n              </td>\r\n              <td className='align-middle'>{item.name}</td>\r\n              <td className='text-center align-middle'>{item.ayat}</td>\r\n              <td className='text-center align-middle'>{item.lines}</td>\r\n              <td className='text-center align-middle'>\r\n                <div className='d-flex justify-content-center gap-2'>\r\n                  <button\r\n                    className='btn btn-sm btn-warning'\r\n                    onClick={() => setDetail(item)}\r\n                  >\r\n                    <i className='bi bi-pencil-square'></i>\r\n                  </button>\r\n                  <button\r\n                    className='btn btn-sm btn-danger'\r\n                    disabled={isDeleting}\r\n                    onClick={() => handleDelete(item.id)}\r\n                  >\r\n                    <i className='bi bi-trash'></i>\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </Table>\r\n  );\r\n};\r\n\r\nexport default TableData;\r\n","import React, { useState } from \"react\";\r\nimport Layout from \"../../../components/layout/Layout\";\r\nimport Form from \"./Form\";\r\nimport TableData from \"./TableData\";\r\n\r\nconst TahfizSurah = () => {\r\n  const [detail, setDetail] = useState({});\r\n  return (\r\n    <Layout title={\"Tahfiz - Daftar Surah\"} levels={[\"tahfiz\"]}>\r\n      <div className='row g-2'>\r\n        <div className='col-lg-3 col-12'>\r\n          <Form detail={detail} setDetail={setDetail} />\r\n        </div>\r\n        <div className='col-lg-9 col-12'>\r\n          <TableData setDetail={setDetail} />\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default TahfizSurah;\r\n"],"names":["Form","detail","setDetail","id","setId","useState","name","setName","ayat","setAyat","lines","setLines","addSurah","isLoading","isSuccess","isError","reset","useAddSurahMutation","useEffect","jsxRuntimeExports","jsxs","onSubmit","async","e","preventDefault","data","c","promise","unwrap","then","res","message","loading","success","error","err","className","children","jsx","type","placeholder","value","onChange","target","required","onClick","disabled","TableData","page","setPage","limit","setLimit","search","setSearch","rawData","useGetSurahQuery","result","totalData","totalPages","deleteSurah","isDeleting","useDeleteSurahMutation","Table","map","item","index","handleDelete","TahfizSurah","Layout","title","levels"],"mappings":"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"}