{"version":3,"file":"CenterStudents-BGOloncN.js","sources":["../../src/page/center/student/CenterStudents.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Layout from \"../../../components/layout/Layout\";\r\nimport { useGetStudentsDataQuery } from \"../../../controller/api/center/ApiCenterData\";\r\nimport Table from \"../../../components/table/Table\";\r\nimport { useChangeStatusMutation } from \"../../../controller/api/admin/ApiStudent\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst CenterStudents = () => {\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const { data, isLoading, error, refetch } = useGetStudentsDataQuery({\r\n    page,\r\n    limit,\r\n    search,\r\n  });\r\n\r\n  const { results = [], totalData, totalPages } = data || {};\r\n  const [changeStatus] = useChangeStatusMutation();\r\n\r\n  const changeHandler = (id) => {\r\n    toast.promise(\r\n      changeStatus(id)\r\n        .unwrap()\r\n        .then((res) => {\r\n          refetch();\r\n          return res.message;\r\n        }),\r\n      {\r\n        loading: \"Memproses...\",\r\n        success: (message) => message,\r\n        error: (err) => err.data.message,\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout title={\"Daftar Siswa\"} levels={[\"center\"]}>\r\n      <Table\r\n        isLoading={isLoading}\r\n        page={page}\r\n        setPage={setPage}\r\n        totalPages={totalPages}\r\n        limit={limit}\r\n        setLimit={setLimit}\r\n        setSearch={setSearch}\r\n        totalData={totalData}\r\n      >\r\n        <table className=\"mb-0 table table-hover table-striped table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"text-center\">No</th>\r\n              <th className=\"text-center\">Satuan</th>\r\n              <th className=\"text-center\">Tahun Masuk</th>\r\n              <th className=\"text-center\">NIS</th>\r\n              <th className=\"text-center\">Nama</th>\r\n              <th className=\"text-center\">P/L</th>\r\n              <th className=\"text-center\">Status</th>\r\n              <th className=\"text-center\">Aksi</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {results.map((student, index) => (\r\n              <tr key={student.id}>\r\n                <td className=\"text-center align-middle\">\r\n                  {(page - 1) * limit + index + 1}\r\n                </td>\r\n                <td className=\"text-center align-middle\">{student.homebase}</td>\r\n                <td className=\"text-center align-middle\">{student.periode}</td>\r\n                <td className=\"text-center align-middle\">{student.nis}</td>\r\n                <td className=\"align-middle\">{student.name}</td>\r\n                <td className=\"text-center align-middle\">{student.gender}</td>\r\n                <td className=\"text-center align-middle\">\r\n                  {student.isactive ? (\r\n                    <span className=\"badge bg-primary\">Aktif</span>\r\n                  ) : (\r\n                    <span className=\"badge bg-success\">Lulus</span>\r\n                  )}\r\n                </td>\r\n                <td className=\"text-center align-middle\">\r\n                  <div\r\n                    className=\"form-check form-switch d-flex justify-content-center\"\r\n                    onClick={() => changeHandler(student.id)}\r\n                  >\r\n                    <input\r\n                      className=\"form-check-input pointer\"\r\n                      type=\"checkbox\"\r\n                      role=\"switch\"\r\n                      id=\"flexSwitchCheckChecked\"\r\n                      checked={student.isactive}\r\n                      readOnly\r\n                    />\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </Table>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default CenterStudents;\r\n"],"names":["CenterStudents","page","setPage","useState","limit","setLimit","search","setSearch","data","isLoading","error","refetch","useGetStudentsDataQuery","results","totalData","totalPages","changeStatus","useChangeStatusMutation","Layout","title","levels","children","jsxRuntimeExports","jsx","Table","jsxs","className","map","student","index","homebase","periode","nis","name","gender","isactive","onClick","changeHandler","id","Vt","promise","unwrap","then","res","message","loading","success","err","type","role","checked","readOnly"],"mappings":"+OAOA,MAAMA,EAAiB,KACrB,MAAOC,EAAMC,GAAWC,EAAAA,SAAS,IAC1BC,EAAOC,GAAYF,EAAAA,SAAS,KAC5BG,EAAQC,GAAaJ,EAAAA,SAAS,KAE/BK,KAAEA,EAAMC,UAAAA,EAAAC,MAAWA,EAAOC,QAAAA,GAAYC,EAAwB,CAClEX,OACAG,QACAE,YAGIO,QAAEA,EAAU,GAACC,UAAGA,aAAWC,GAAeP,GAAQ,CAAC,GAClDQ,GAAgBC,iBAmBpBC,EAAO,CAAAC,MAAO,eAAgBC,OAAQ,CAAC,UACtCC,SAAAC,EAAAC,IAACC,EAAA,CACCf,YACAR,OACAC,UACAa,aACAX,QACAC,WACAE,YACAO,YAEAO,SAAAC,EAAAG,KAAC,QAAM,CAAAC,UAAU,sDACfL,SAAA,CAACE,EAAAA,IAAA,QAAA,CACCF,gBAAC,KACC,CAAAA,SAAA,CAACE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAE,OAC7BE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAM,WACjCE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAW,gBACtCE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAG,QAC9BE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAI,SAC/BE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAG,QAC9BE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAM,WACjCE,EAAAA,IAAA,KAAA,CAAGG,UAAU,cAAcL,SAAI,cAGpCE,EAAAA,IAAC,SACEF,SAAQR,EAAAc,KAAI,CAACC,EAASC,WACpB,KACC,CAAAR,SAAA,CAAAE,EAAAA,IAAC,MAAGG,UAAU,2BACVL,YAAO,GAAKjB,EAAQyB,EAAQ,IAE/BN,EAAAA,IAAA,KAAA,CAAGG,UAAU,2BAA4BL,WAAQS,WACjDP,EAAAA,IAAA,KAAA,CAAGG,UAAU,2BAA4BL,WAAQU,UACjDR,EAAAA,IAAA,KAAA,CAAGG,UAAU,2BAA4BL,WAAQW,MACjDT,EAAAA,IAAA,KAAA,CAAGG,UAAU,eAAgBL,WAAQY,OACrCV,EAAAA,IAAA,KAAA,CAAGG,UAAU,2BAA4BL,WAAQa,eACjD,KAAG,CAAAR,UAAU,2BACXL,SAAAO,EAAQO,SACNZ,EAAAA,IAAA,OAAA,CAAKG,UAAU,mBAAmBL,mBAEnCE,EAAAA,IAAC,QAAKG,UAAU,mBAAmBL,uBAGvCE,IAAC,KAAG,CAAAG,UAAU,2BACZL,SAAAC,EAAAC,IAAC,MAAA,CACCG,UAAU,uDACVU,QAAS,KAAMC,OA9DVC,EA8DwBV,EAAQU,QA7D/CC,EAAAC,QACJxB,EAAasB,GACVG,SACAC,MAAMC,IACGhC,IACDgC,EAAIC,WAEf,CACEC,QAAS,eACTC,QAAUF,GAAYA,EACtBlC,MAAQqC,GAAQA,EAAIvC,KAAKoC,UAXT,IAACN,CA8DkC,EAEvCjB,SAAAC,EAAAC,IAAC,QAAA,CACCG,UAAU,2BACVsB,KAAK,WACLC,KAAK,SACLX,GAAG,yBACHY,QAAStB,EAAQO,SACjBgB,UAAQ,UA3BPvB,EAAQU,cAoC3B"}