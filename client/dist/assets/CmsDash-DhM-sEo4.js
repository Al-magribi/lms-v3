import{i as s,j as i,m as l}from"./index-DFhdulld.js";import{L as e}from"./vendor-CnnDPxwB.js";import{L as a}from"./Layout-BdxnsoD5.js";import{F as n,a as t,b as d,c as o,d as c,e as r,f as v,g as m}from"./index-B8CuzAwO.js";const u={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},h={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},x=()=>{var x,j,g,N,f,p,b,y,w,L,_,$,S,k,A,B,D,T,M,q,F,H,P,V,C,E,U,z,G,I,J,K,O,Q,R,W,X,Y,Z,ss,is,ls,es,as,ns,ts;const{data:ds,isLoading:os,error:cs}=s();if(os)return i.jsx("div",{children:"Loading..."});if(cs)return i.jsxs("div",{children:["Error: ",cs.message]});const rs=[{id:"total_visitors",title:"Total Pengunjung",value:(null==(j=null==(x=null==ds?void 0:ds.stats)?void 0:x.total_visitors)?void 0:j.toLocaleString())||"0",icon:i.jsx(n,{}),color:"primary",change:`${(null==(f=null==(N=null==(g=null==ds?void 0:ds.stats)?void 0:g.changes)?void 0:N.visitors)?void 0:f.value)>0?"+":""}${null==(y=null==(b=null==(p=null==ds?void 0:ds.stats)?void 0:p.changes)?void 0:b.visitors)?void 0:y.value}%`,period:(null==(_=null==(L=null==(w=null==ds?void 0:ds.stats)?void 0:w.changes)?void 0:L.visitors)?void 0:_.period)||"vs Bulan lalu"},{id:"total_news",title:"Berita Terbit",value:(null==(S=null==($=null==ds?void 0:ds.stats)?void 0:$.total_news)?void 0:S.toLocaleString())||"0",icon:i.jsx(t,{}),color:"success",change:`+${(null==(B=null==(A=null==(k=null==ds?void 0:ds.stats)?void 0:k.changes)?void 0:A.news)?void 0:B.value)||0}`,period:(null==(M=null==(T=null==(D=null==ds?void 0:ds.stats)?void 0:D.changes)?void 0:T.news)?void 0:M.period)||"Bulan ini"},{id:"total_facilities",title:"Fasilitas",value:(null==(F=null==(q=null==ds?void 0:ds.stats)?void 0:q.total_facilities)?void 0:F.toLocaleString())||"0",icon:i.jsx(d,{}),color:"info",change:(null==(V=null==(P=null==(H=null==ds?void 0:ds.stats)?void 0:H.changes)?void 0:P.facilities)?void 0:V.value)||0,period:(null==(U=null==(E=null==(C=null==ds?void 0:ds.stats)?void 0:C.changes)?void 0:E.facilities)?void 0:U.period)||"Bulan ini"},{id:"total_testimonials",title:"Testimoni",value:(null==(G=null==(z=null==ds?void 0:ds.stats)?void 0:z.total_testimonials)?void 0:G.toLocaleString())||"0",icon:i.jsx(o,{}),color:"warning",change:`+${(null==(K=null==(J=null==(I=null==ds?void 0:ds.stats)?void 0:I.changes)?void 0:J.testimonials)?void 0:K.value)||0}`,period:(null==(R=null==(Q=null==(O=null==ds?void 0:ds.stats)?void 0:O.changes)?void 0:Q.testimonials)?void 0:R.period)||"Bulan ini"}];null==(X=null==(W=null==ds?void 0:ds.visitorStats)?void 0:W.daily_trend)||X.map((s=>({date:new Date(s.date).toLocaleDateString(),visitors:s.unique_visitors,visits:s.total_visits}))),null==(Z=null==(Y=null==ds?void 0:ds.visitorStats)?void 0:Y.top_countries)||Z.map((s=>({country:s.country,visitors:s.count})));const vs=s=>{const i=new Date(s),l=new Date,e=Math.floor((l-i)/1e3),a=Math.floor(e/60),n=Math.floor(a/60),t=Math.floor(n/24);return t>0?`${t} day${t>1?"s":""} ago`:n>0?`${n} hour${n>1?"s":""} ago`:a>0?`${a} minute${a>1?"s":""} ago`:"just now"};return i.jsx(a,{title:"Dashboard",levels:["cms"],children:i.jsx("div",{className:"container-fluid py-3 py-md-4",children:i.jsxs(l.div,{className:"row g-3 g-md-4",initial:"hidden",animate:"visible",variants:u,children:[rs.map((s=>i.jsx(l.div,{className:"col-12 col-sm-6 col-lg-3",variants:h,children:i.jsx("div",{className:`card border-0 shadow-sm h-100 bg-${s.color} bg-opacity-10`,children:i.jsx("div",{className:"card-body",children:i.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[i.jsxs("div",{children:[i.jsx("h6",{className:"card-title text-muted mb-1",children:s.title}),i.jsx("h2",{className:"mb-1 fs-3",children:s.value}),i.jsxs("div",{className:"small text-success",children:[s.change," ",s.period]})]}),i.jsx("div",{className:`display-6 text-${s.color}`,children:s.icon})]})})})},s.id))),i.jsx(l.div,{className:"col-12 col-lg-8",variants:h,children:i.jsx("div",{className:"card border-0 shadow-sm h-100",children:i.jsxs("div",{className:"card-body",children:[i.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[i.jsx("h5",{className:"card-title mb-0",children:"Aktivitas Terakhir"}),i.jsx(e,{to:"/cms-news",className:"btn btn-sm btn-outline-primary",children:"Lihat Semua"})]}),i.jsx("div",{className:"timeline",children:null==(ss=null==ds?void 0:ds.recentActivities)?void 0:ss.map((s=>i.jsx("div",{className:"timeline-item mb-3 pb-3 border-bottom",children:i.jsxs("div",{className:"d-flex justify-content-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-muted small mb-1",children:s.action}),i.jsx("div",{className:"fw-medium",children:s.title})]}),i.jsxs("div",{className:"text-muted small",children:[i.jsx(c,{className:"me-1"}),vs(s.time)]})]})},s.id)))})]})})}),i.jsx(l.div,{className:"col-12 col-lg-4",variants:h,children:i.jsx("div",{className:"card border-0 shadow-sm h-100",children:i.jsxs("div",{className:"card-body",children:[i.jsx("h5",{className:"card-title mb-4",children:"Analisis Halaman"}),i.jsxs("div",{className:"d-flex align-items-center mb-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"bg-primary bg-opacity-10 p-3 rounded",children:i.jsx(r,{className:"text-primary fs-4"})})}),i.jsxs("div",{className:"flex-grow-1 ms-3",children:[i.jsx("div",{className:"text-muted small",children:"Total Halaman"}),i.jsx("div",{className:"fs-5 fw-medium",children:(null==(ls=null==(is=null==ds?void 0:ds.websiteAnalytics)?void 0:is.pageViews)?void 0:ls.toLocaleString())||"0"})]})]}),i.jsxs("div",{className:"d-flex align-items-center mb-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"bg-success bg-opacity-10 p-3 rounded",children:i.jsx(v,{className:"text-success fs-4"})})}),i.jsxs("div",{className:"flex-grow-1 ms-3",children:[i.jsx("div",{className:"text-muted small",children:"Pengunjung Unik"}),i.jsx("div",{className:"fs-5 fw-medium",children:(null==(as=null==(es=null==ds?void 0:ds.websiteAnalytics)?void 0:es.uniqueVisitors)?void 0:as.toLocaleString())||"0"})]})]}),i.jsxs("div",{className:"d-flex align-items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"bg-info bg-opacity-10 p-3 rounded",children:i.jsx(m,{className:"text-info fs-4"})})}),i.jsxs("div",{className:"flex-grow-1 ms-3",children:[i.jsx("div",{className:"text-muted small",children:"Negara"}),i.jsx("div",{className:"fs-5 fw-medium",children:(null==(ts=null==(ns=null==ds?void 0:ds.visitorStats)?void 0:ns.top_countries)?void 0:ts.length)||"0"})]})]})]})})})]})})})};export{x as default};
//# sourceMappingURL=CmsDash-DhM-sEo4.js.map
