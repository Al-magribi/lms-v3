import{b as e,bo as a,j as s}from"./index-DFhdulld.js";import{e as i}from"./vendor-CnnDPxwB.js";import{L as l}from"./Layout-GZnRoUIy.js";import"./index-B8CuzAwO.js";import"./index-g0LoU_Ie.js";const d=e=>({__html:e}),t=()=>{var t,r;const{id:c,name:n}=i(),{user:m}=e((e=>e.auth)),o=n.replace(/\s+/g,"-"),{data:x,isLoading:h,error:j}=a({subjectid:c,classid:"student"===(null==m?void 0:m.level)?null==m?void 0:m.class_id:void 0},{skip:!c});return s.jsx(l,{title:o,levels:["student","admin"],children:s.jsx("div",{className:"container py-4",children:h?s.jsxs("div",{className:"text-center py-5",children:[s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("p",{className:"mt-2",children:"Memuat data mata pelajaran..."})]}):j?s.jsxs("div",{className:"alert alert-danger",children:["Terjadi kesalahan saat memuat data: ",j.message]}):x?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"card mb-4 shadow",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"d-flex align-items-center",children:[x.cover?s.jsx("img",{src:`${window.location.origin}${x.cover}`,alt:x.name,className:"me-3 rounded",style:{width:"120px",height:"150px",objectFit:"cover"}}):s.jsx("div",{className:"me-3 bg-light rounded d-flex align-items-center justify-content-center",style:{width:"80px",height:"80px"},children:s.jsx("i",{className:"bi bi-book text-muted",style:{fontSize:"2rem"}})}),s.jsxs("div",{children:[s.jsx("h5",{className:"card-title mb-1",children:x.name}),s.jsxs("p",{className:"card-subtitle text-muted",children:[(null==(t=x.chapters)?void 0:t.length)||0," Bab Pembelajaran"]})]})]})})}),s.jsx("div",{className:"accordion mb-4 shadow",id:"chaptersAccordion",children:null==(r=x.chapters)?void 0:r.map(((e,a)=>{var i;return s.jsxs("div",{className:"accordion-item",children:[s.jsx("h2",{className:"accordion-header",id:`heading${e.id}`,children:s.jsx("button",{className:"accordion-button "+(0===a?"":"collapsed"),type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${e.id}`,"aria-expanded":0===a?"true":"false","aria-controls":`collapse${e.id}`,children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("i",{className:"bi bi-folder me-2 text-primary"}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-bold",children:e.title}),s.jsx("small",{className:"text-muted m-0",dangerouslySetInnerHTML:d(e.target)}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"d-flex align-items-center mb-1",children:[s.jsx("i",{className:"bi bi-person me-2 text-primary"}),s.jsx("small",{className:"text-muted me-2",children:"Pengajar:"}),s.jsx("span",{className:"fw-medium",children:e.teacher_name||"Tidak ada data"})]}),s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("i",{className:"bi bi-people me-2 text-primary"}),s.jsx("small",{className:"text-muted me-2",children:"Kelas:"}),s.jsx("div",{className:"d-flex flex-wrap gap-1",children:e.classes&&e.classes.length>0?e.classes.map(((e,a)=>s.jsx("span",{className:"badge bg-primary me-1",children:e.name},a))):s.jsx("span",{className:"text-muted",children:"Tidak ada data"})})]})]})]})]})})}),s.jsx("div",{id:`collapse${e.id}`,className:"accordion-collapse collapse "+(0===a?"show":""),"aria-labelledby":`heading${e.id}`,"data-bs-parent":"#chaptersAccordion",children:s.jsxs("div",{className:"accordion-body",children:[null==(i=e.contents)?void 0:i.map((e=>{var a;return s.jsxs("div",{className:"card mb-3",children:[s.jsx("div",{className:"card-header bg-light",children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("i",{className:"bi bi-book me-2 text-primary"}),s.jsxs("div",{children:[s.jsx("div",{className:"fw-bold",children:e.title}),s.jsx("small",{className:"text-muted m-0",dangerouslySetInnerHTML:d(e.target)})]})]})}),s.jsx("div",{className:"card-body",children:(null==(a=e.files)?void 0:a.length)>0?s.jsx("div",{className:"list-group",children:e.files.map((e=>s.jsxs("a",{href:`${window.location.origin}${e.file}`,target:"_blank",rel:"noopener noreferrer",className:"list-group-item list-group-item-action d-flex align-items-center",children:[e.video?s.jsx("i",{className:"bi bi-camera-video me-2 text-danger"}):s.jsx("i",{className:"bi bi-file-earmark-text me-2 text-primary"}),s.jsxs("div",{children:[s.jsx("div",{children:e.title||"File Materi"}),s.jsx("small",{className:"text-muted m-0",children:e.video?"Video Pembelajaran":"Dokumen Materi"})]})]},e.id)))}):s.jsx("p",{className:"text-muted mb-0",children:"Tidak ada file materi"})})]},e.id)})),(!e.contents||0===e.contents.length)&&s.jsxs("div",{className:"alert alert-light",children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),"Tidak ada konten pembelajaran"]})]})})]},e.id)}))}),(!x.chapters||0===x.chapters.length)&&s.jsxs("div",{className:"alert alert-info",children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),"Belum ada bab pembelajaran untuk mata pelajaran ini."]})]}):s.jsxs("div",{className:"alert alert-warning",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),"Data mata pelajaran tidak ditemukan."]})})})};export{t as default};
//# sourceMappingURL=Subject-Ddgpie1l.js.map
