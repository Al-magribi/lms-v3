import{l as e,aq as s,at as a,j as r,h as t,F as i,a as l,r as n,m as c,as as d,b as o,c as m,D as j,$ as x,au as h,R as u,C as p}from"./index-uqXiPZaM.js";import{c as g}from"./vendor-DTs43g_X.js";import{G as f,R as b}from"./FallOutlined-DU1OZrGY.js";import{S as y,E as v}from"./Pagination-CcDshGE9.js";import{A as I}from"./index-7mhCT5El.js";import{R as S}from"./ReadOutlined-B2SKpySL.js";import{R as k}from"./TeamOutlined-CFCiYsuV.js";import{R as F}from"./CalendarOutlined-Chrjrg9V.js";import{C as z}from"./Collapse-COadr64i.js";import{L as T}from"./index-BG1UhwPk.js";import{S as A}from"./index-CSBJDs9d.js";import{R as O}from"./BookOutlined-CNrhxhO_.js";const{Title:w,Text:R,Paragraph:C}=n,{useBreakpoint:P}=f,B=({detail:e})=>{const s=e?.[0]?.attendance||[],a=e?.[1]?.attitude||[],t=e?.[2]||{summative:[],formative:[]};return r.jsxs(u,{gutter:[16,16],children:[r.jsx(p,{xs:24,md:12,lg:6,children:r.jsx(l,{size:"small",title:"Attendance",children:r.jsx(T,{dataSource:s,renderItem:e=>{const s=Object.keys(e)[0],a=e[s];return r.jsxs(T.Item,{children:[r.jsx(R,{style:{textTransform:"capitalize"},children:s}),r.jsx(R,{strong:!0,children:"presentase"===s?`${a}%`:a})]})}})})}),r.jsx(p,{xs:24,md:12,lg:6,children:r.jsx(l,{size:"small",title:"Attitude",children:r.jsx(T,{dataSource:a,renderItem:e=>{const s=Object.keys(e)[0],a=e[s];return r.jsxs(T.Item,{children:[r.jsx(R,{style:{textTransform:"capitalize"},children:s}),r.jsx(A,{value:a,precision:2,valueStyle:{fontSize:"1rem"}})]})}})})}),r.jsx(p,{xs:24,md:12,lg:8,children:r.jsx(l,{size:"small",title:"Summative",children:r.jsx(T,{dataSource:t.summative,renderItem:e=>{const s=Object.keys(e)[0],a=e[s];return r.jsxs(T.Item,{children:[r.jsx(R,{style:{textTransform:"capitalize"},children:s}),r.jsx(A,{value:a,precision:2,valueStyle:{fontSize:"1rem"}})]})}})})}),r.jsx(p,{xs:24,md:12,lg:4,children:r.jsx(l,{size:"small",title:"Formative",children:r.jsx(T,{dataSource:t.formative,renderItem:e=>r.jsx(T.Item,{children:e}),locale:{emptyText:"-"}})})})]})},D=()=>{const n=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],u=n.map(e=>({label:e,value:e})),[p,f]=g.useState(null),[D]=e.useForm(),{user:L}=s(e=>e.auth),$=L?.id,G=L?.periode;g.useEffect(()=>{const e=(new Date).getMonth(),s=n[0===e?11:e-1];f(s),D.setFieldsValue({month:s})},[L,D]);const{data:K,error:N,isFetching:J}=a({studentId:$,month:p,periode:G},{skip:!$||!p||!G}),M=P(),E=K?.[0],V=e=>r.jsx(T,{itemLayout:"vertical",dataSource:e,renderItem:e=>r.jsx(T.Item,{children:r.jsxs(l,{children:[r.jsxs(i,{justify:"space-between",align:"center",wrap:"wrap",gap:"small",children:[r.jsxs("div",{children:[r.jsx(w,{level:5,style:{marginBottom:0},children:e.name}),r.jsxs(R,{type:"secondary",children:[r.jsx(o,{})," Guru: ",e.teacher]})]}),r.jsx(A,{title:"Nilai Akhir",value:e.score,precision:2,valueStyle:{color:e.score>=75?"#3f8600":"#cf1322"},prefix:e.score>=75?r.jsx(h,{}):r.jsx(b,{})})]}),e.chapters&&e.chapters.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs(j,{orientation:"left",plain:!0,children:[r.jsx(O,{})," Chapter Bulan Ini"]}),r.jsx(T,{size:"small",dataSource:e.chapters,renderItem:e=>r.jsx(T.Item,{children:e.name})})]}),r.jsx(j,{orientation:"left",plain:!0,children:"Detail Penilaian"}),r.jsx(B,{detail:e.detail}),e.note&&r.jsxs(r.Fragment,{children:[r.jsx(j,{orientation:"left",plain:!0,children:"Catatan Guru"}),r.jsxs(C,{italic:!0,children:['"',e.note,'"']})]})]})},`${e.name}-${e.teacher}`)});return r.jsx(t,{title:`Laporan Akademik ${L?.name}`,levels:["student"],children:r.jsxs(i,{vertical:!0,gap:"large",children:[r.jsx(l,{children:r.jsx(e,{form:D,layout:"vertical",children:r.jsx(e.Item,{name:"month",label:r.jsx(w,{level:4,style:{margin:0},children:"Pilih Bulan Laporan"}),children:r.jsx(y,{placeholder:"Pilih Bulan",onChange:e=>f(e),options:u})})})}),J&&r.jsx("div",{style:{textAlign:"center",marginTop:50},children:r.jsx(c,{size:"large"})}),N&&r.jsx(I,{message:"Terjadi Kesalahan",description:N?.data?.message||"Gagal memuat data.",type:"error",showIcon:!0}),!J&&E&&r.jsxs(l,{children:[r.jsxs(d,{bordered:!0,column:M.md?2:1,size:"small",children:[r.jsx(d.Item,{label:r.jsxs(r.Fragment,{children:[r.jsx(o,{})," Nama Siswa"]}),span:2,children:r.jsxs(R,{strong:!0,children:[E.name," (",E.nis,")"]})}),r.jsx(d.Item,{label:r.jsxs(r.Fragment,{children:[r.jsx(m,{})," Homebase"]}),children:E.homebase}),r.jsxs(d.Item,{label:r.jsxs(r.Fragment,{children:[r.jsx(S,{})," Kelas"]}),children:[E.grade," - ",E.class]}),r.jsx(d.Item,{label:r.jsxs(r.Fragment,{children:[r.jsx(k,{})," Wali Kelas"]}),children:E.teacher_homeroom}),r.jsx(d.Item,{label:r.jsxs(r.Fragment,{children:[r.jsx(F,{})," Periode Laporan"]}),children:r.jsxs(R,{strong:!0,children:[E.periode," - ",E.month]})})]}),r.jsx(j,{}),r.jsx(z,{accordion:!0,defaultActiveKey:["0"],ghost:!0,items:E.category.map((e,s)=>({key:s,label:r.jsx(w,{level:5,children:e.name}),children:"Diniyah"===e.name&&e.branch?r.jsx(z,{items:e.branch.map((e,s)=>({key:s,label:r.jsxs(i,{justify:"space-between",style:{width:"100%"},children:[r.jsx(R,{strong:!0,children:e.name}),r.jsxs(x,{color:"blue",children:["Rata-rata Nilai: ",e.score]})]}),children:V(e.subjects)}))}):V(e.subjects)}))})]}),!J&&!E&&p&&!N&&r.jsx(l,{children:r.jsx(v,{description:"Data laporan untuk bulan yang dipilih tidak tersedia."})})]})})};export{D as default};
//# sourceMappingURL=StudentAcademic-B5WxcdXo.js.map
