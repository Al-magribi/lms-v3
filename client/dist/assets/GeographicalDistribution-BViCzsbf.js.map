{"version":3,"file":"GeographicalDistribution-BViCzsbf.js","sources":["../../src/components/geographical/GeographicalChart.jsx","../../src/components/geographical/GeographicalTable.jsx","../../src/components/geographical/GeographicalDistribution.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\nconst GeographicalChart = ({ data, title, level }) => {\r\n  const chartData = {\r\n    labels: data?.map((item) => item[`${level}_name`]) || [],\r\n    datasets: [\r\n      {\r\n        label: \"Jumlah Siswa\",\r\n        data: data?.map((item) => item.student_count) || [],\r\n        backgroundColor: [\r\n          \"rgba(54, 162, 235, 0.8)\",\r\n          \"rgba(255, 99, 132, 0.8)\",\r\n          \"rgba(75, 192, 192, 0.8)\",\r\n          \"rgba(255, 206, 86, 0.8)\",\r\n          \"rgba(153, 102, 255, 0.8)\",\r\n        ],\r\n        borderColor: [\r\n          \"rgba(54, 162, 235, 1)\",\r\n          \"rgba(255, 99, 132, 1)\",\r\n          \"rgba(75, 192, 192, 1)\",\r\n          \"rgba(255, 206, 86, 1)\",\r\n          \"rgba(153, 102, 255, 1)\",\r\n        ],\r\n        borderWidth: 1,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        position: \"bottom\",\r\n      },\r\n      title: {\r\n        display: true,\r\n        text: title,\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div style={{ height: \"300px\", position: \"relative\" }}>\r\n      <Bar data={chartData} options={options} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GeographicalChart;\r\n","import React from \"react\";\r\n\r\nconst GeographicalTable = ({ data, level }) => {\r\n  const totalStudents =\r\n    data?.reduce((sum, item) => sum + item.student_count, 0) || 0;\r\n\r\n  const calculatePercentage = (value) => {\r\n    return ((value / totalStudents) * 100).toFixed(1);\r\n  };\r\n\r\n  return (\r\n    <div className='table-responsive'>\r\n      <table className='table table-striped table-hover table-bordered'>\r\n        <thead>\r\n          <tr>\r\n            <th className='text-center'>\r\n              {level === \"province\"\r\n                ? \"Provinsi\"\r\n                : level === \"city\"\r\n                ? \"Kota\"\r\n                : level === \"district\"\r\n                ? \"Kecamatan\"\r\n                : \"Desa\"}\r\n            </th>\r\n            {level !== \"province\" && <th>Provinsi</th>}\r\n            {level === \"district\" && <th>Kota</th>}\r\n            {level === \"village\" && <th>Kecamatan</th>}\r\n            <th className='text-center'>Jumlah</th>\r\n            <th className='text-center'>Persentase</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {data?.map((item, index) => (\r\n            <tr key={index}>\r\n              <td className='text-center'>{item[`${level}_name`]}</td>\r\n              {level !== \"province\" && (\r\n                <td className='text-center'>{item.province_name}</td>\r\n              )}\r\n              {level === \"district\" && (\r\n                <td className='text-center'>{item.city_name}</td>\r\n              )}\r\n              {level === \"village\" && (\r\n                <td className='text-center'>{item.district_name}</td>\r\n              )}\r\n              <td className='text-center'>{item.student_count}</td>\r\n              <td className='text-center'>\r\n                {calculatePercentage(item.student_count)}%\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GeographicalTable;\r\n","import React, { useState } from \"react\";\r\nimport GeographicalChart from \"./GeographicalChart\";\r\nimport GeographicalTable from \"./GeographicalTable\";\r\n\r\nconst GeographicalDistribution = ({ data }) => {\r\n  const [activeTab, setActiveTab] = useState(\"province\");\r\n  const geographicalData = data?.geographical_data || {};\r\n\r\n  const tabs = [\r\n    { id: \"province\", title: \"Provinsi\" },\r\n    { id: \"city\", title: \"Kota\" },\r\n    { id: \"district\", title: \"Kecamatan\" },\r\n    { id: \"village\", title: \"Desa\" },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"col-12\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n            <h5 className=\"card-title mb-0\">Distribusi Geografis Siswa</h5>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            {/* Navigation Tabs */}\r\n            <ul className=\"nav nav-tabs mb-4\" role=\"tablist\">\r\n              {tabs.map((tab, index) => (\r\n                <li className=\"nav-item\" role=\"presentation\" key={index}>\r\n                  <button\r\n                    className={`nav-link ${\r\n                      activeTab === tab.id ? \"active\" : \"\"\r\n                    }`}\r\n                    onClick={() => setActiveTab(tab.id)}\r\n                    role=\"tab\"\r\n                  >\r\n                    {tab.title}\r\n                  </button>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n\r\n            {/* Tab Content */}\r\n            <div className=\"tab-content\">\r\n              {activeTab === \"province\" && (\r\n                <div className=\"row g-4\">\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"card h-100 border-0 shadow-sm\">\r\n                      <div className=\"card-body\">\r\n                        <GeographicalChart\r\n                          data={geographicalData.provinces}\r\n                          title=\"Distribusi Siswa per Provinsi\"\r\n                          level=\"province\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"card h-100 border-0 shadow-sm\">\r\n                      <div className=\"card-body\">\r\n                        <GeographicalTable\r\n                          data={geographicalData.provinces}\r\n                          level=\"province\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {activeTab === \"city\" && (\r\n                <div className=\"row g-4\">\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"card h-100 border-0 shadow-sm\">\r\n                      <div className=\"card-body\">\r\n                        <GeographicalChart\r\n                          data={geographicalData.cities}\r\n                          title=\"Distribusi Siswa per Kota\"\r\n                          level=\"city\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"card h-100 border-0 shadow-sm\">\r\n                      <div className=\"card-body\">\r\n                        <GeographicalTable\r\n                          data={geographicalData.cities}\r\n                          level=\"city\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {activeTab === \"district\" && (\r\n                <div className=\"row g-4\">\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"card h-100 border-0 shadow-sm\">\r\n                      <div className=\"card-body\">\r\n                        <GeographicalChart\r\n                          data={geographicalData.districts}\r\n                          title=\"Distribusi Siswa per Kecamatan\"\r\n                          level=\"district\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"card h-100 border-0 shadow-sm\">\r\n                      <div className=\"card-body\">\r\n                        <GeographicalTable\r\n                          data={geographicalData.districts}\r\n                          level=\"district\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {activeTab === \"village\" && (\r\n                <div className=\"row g-4\">\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"card h-100 border-0 shadow-sm\">\r\n                      <div className=\"card-body\">\r\n                        <GeographicalChart\r\n                          data={geographicalData.villages}\r\n                          title=\"Distribusi Siswa per Desa\"\r\n                          level=\"village\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"card h-100 border-0 shadow-sm\">\r\n                      <div className=\"card-body\">\r\n                        <GeographicalTable\r\n                          data={geographicalData.villages}\r\n                          level=\"village\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx=\"true\">{`\r\n        .nav-tabs {\r\n          border-bottom: 1px solid #dee2e6;\r\n        }\r\n        .nav-tabs .nav-link {\r\n          margin-bottom: -1px;\r\n          border: 1px solid transparent;\r\n          border-top-left-radius: 0.25rem;\r\n          border-top-right-radius: 0.25rem;\r\n          padding: 0.5rem 1rem;\r\n          color: #6c757d;\r\n          cursor: pointer;\r\n          transition: color 0.15s ease-in-out, border-color 0.15s ease-in-out;\r\n        }\r\n        .nav-tabs .nav-link:hover {\r\n          border-color: #e9ecef #e9ecef #dee2e6;\r\n          isolation: isolate;\r\n        }\r\n        .nav-tabs .nav-link.active {\r\n          color: #0d6efd;\r\n          background-color: #fff;\r\n          border-color: #dee2e6 #dee2e6 #fff;\r\n        }\r\n        .card {\r\n          transition: box-shadow 0.3s ease-in-out;\r\n        }\r\n        .card:hover {\r\n          box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n        }\r\n\r\n        .tab-content {\r\n          padding-top: 1rem;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GeographicalDistribution;\r\n"],"names":["ChartJS","register","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","GeographicalChart","data","title","level","chartData","labels","map","item","datasets","label","student_count","backgroundColor","borderColor","borderWidth","options","responsive","maintainAspectRatio","plugins","legend","position","display","text","jsx","style","height","children","Bar","GeographicalTable","totalStudents","reduce","sum","className","jsxs","jsxRuntimeExports","index","province_name","city_name","district_name","value","toFixed","GeographicalDistribution","activeTab","setActiveTab","useState","geographicalData","geographical_data","role","id","tab","onClick","provinces","cities","districts","villages"],"mappings":"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"}