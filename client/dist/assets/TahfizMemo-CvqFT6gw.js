import{a as w,r as c,ba as y,j as e,bb as T}from"./index-Bkq01jzn.js";import{L as C}from"./Layout-uGiKgFPI.js";import{T as $}from"./Table-BJdfPgdp.js";const L=({homebaseId:r,gradeId:d,classId:o})=>{const n=w(),[t,h]=c.useState(1),[i,j]=c.useState(10),[m,g]=c.useState(""),{data:b={},isLoading:a}=y({page:t,limit:i,search:m,homebaseId:r,gradeId:d,classId:o}),{students:x=[],totalData:p,totalPages:v}=b,f=(s,l,N)=>{const u=s.replace(/\s+/g,"-");n(`/tahfiz-hafalan-siswa/${N}/${u}/${l}`)},S=(s,l,N,u)=>{const k=l.replace(/\s+/g,"-");n(`/tahfiz-laporan-siswa/${s}/${k}/${N}/${u}`)};return e.jsx($,{isLoading:a,page:t,setPage:h,limit:i,setLimit:j,search:m,setSearch:g,totalData:p,totalPages:v,children:e.jsxs("table",{className:"mb-0 table table-bordered table-striped table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",children:"No"}),e.jsx("th",{className:"text-center",children:"Satuan"}),e.jsx("th",{className:"text-center",children:"NIS"}),e.jsx("th",{className:"text-center",children:"Nama"}),e.jsx("th",{className:"text-center",children:"Tingkat"}),e.jsx("th",{className:"text-center",children:"Kelas"}),e.jsx("th",{className:"text-center",children:"Aksi"})]})}),e.jsx("tbody",{children:(x==null?void 0:x.length)>0?x.map((s,l)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:(t-1)*i+l+1}),e.jsx("td",{className:"text-center align-middle",children:s.homebase}),e.jsx("td",{className:"text-center align-middle",children:s.nis}),e.jsx("td",{className:"align-middle",children:s.name}),e.jsx("td",{className:"text-center align-middle",children:s.grade}),e.jsx("td",{className:"text-center align-middle",children:s.class}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[e.jsx("button",{className:"btn btn-sm btn-success",onClick:()=>S(s.userid,s.name,s.grade,s.class),children:e.jsx("i",{className:"bi bi-journal"})}),e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>f(s.name,s.userid,s.periode_id),children:e.jsx("i",{className:"bi bi-journal-check"})})]})})]},l)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,children:"Data belum tersedia"})})})]})})},I=()=>{const[r,d]=c.useState(""),[o,n]=c.useState(""),[t,h]=c.useState(""),{data:i={}}=T(),{homebases:j=[],grades:m=[],classes:g=[]}=i,b=()=>{d(""),n(""),h("")};return e.jsx(C,{title:"Hafalan",levels:["tahfiz"],children:e.jsxs("div",{className:"row g-2",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"row g-2",children:[e.jsx("div",{className:"col-lg-3 col-12",children:e.jsxs("select",{name:"homebase",id:"homebase",className:"form-select bg-white",value:r||"",onChange:a=>d(a.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Pilih Satuan"}),j.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})}),e.jsx("div",{className:"col-lg-3 col-12",children:e.jsxs("select",{name:"grade",id:"grade",className:"form-select bg-white",value:o||"",onChange:a=>n(a.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Pilih Tingkat"}),m.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})}),e.jsx("div",{className:"col-lg-3 col-6",children:e.jsxs("select",{name:"class",id:"class",className:"form-select bg-white",value:t||"",onChange:a=>h(a.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Pilih Kelas"}),g.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})}),e.jsx("div",{className:"col-lg-3 col-6 d-flex justify-content-start align-items-center",children:e.jsx("button",{className:"btn btn-sm btn-danger",onClick:b,children:e.jsx("i",{className:"bi bi-recycle"})})})]})}),e.jsx("div",{className:"col-12",children:e.jsx(L,{homebaseId:r,gradeId:o,classId:t})})]})})};export{I as default};
